(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19587,(e,t,i)=>{},11442,e=>{"use strict";var t=e.i(77732),i=e.i(41928),s=e.i(85179),n=e.i(8679);e.i(5145);let r={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function a(e,t,i){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*i):e*t*i/(t+i*e)}function o(e,t,i,s=.15){return 0===s?Math.max(t,Math.min(e,i)):e<t?-a(t-e,i-t,s)+t:e>i?+a(e-i,i-t,s)+i:e}function l(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach(function(t){l(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}let u={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function d(e){return e?e[0].toUpperCase()+e.slice(1):""}let m=["enter","leave"],p=["gotpointercapture","lostpointercapture"];function f(e){return"touches"in e}function g(e){return f(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function v(e){return f(e)?("touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches)[0]:e}function y(e,t){try{let i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=(t.clientX+e.clientX)/2,r=(t.clientY+e.clientY)/2,a=Math.hypot(i,s);return{angle:-(180*Math.atan2(i,s))/Math.PI,distance:a,origin:[n,r]}}catch(e){}return null}function b(e,t){let[i,s]=Array.from(e.touches).filter(e=>t.includes(e.identifier));return y(i,s)}function x(e){let t=v(e);return f(e)?t.identifier:t.pointerId}function w(e){let t=v(e);return[t.clientX,t.clientY]}function _(e){let{deltaX:t,deltaY:i,deltaMode:s}=e;return 1===s?(t*=40,i*=40):2===s&&(t*=800,i*=800),[t,i]}function M(e,...t){return"function"==typeof e?e(...t):e}function j(){}function S(e,t){return Object.assign({},t,e||{})}class k{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:t,ingKey:i,args:s}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=s,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?M(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){let t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:t,config:i,shared:s}=this;t.args=this.args;let n=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,function(e){let t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){let{shiftKey:i,altKey:s,metaKey:n,ctrlKey:r}=e;Object.assign(t,{shiftKey:i,altKey:s,metaKey:n,ctrlKey:r})}return t}(e)),s.down=s.pressed=s.buttons%2==1||s.touches>0,n=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){let e=t._delta.map(Math.abs);r.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);let[a,l]=t._movement,[c,h]=i.threshold,{_step:u,values:d}=t;if(i.hasCustomTransform?(!1===u[0]&&(u[0]=Math.abs(a)>=c&&d[0]),!1===u[1]&&(u[1]=Math.abs(l)>=h&&d[1])):(!1===u[0]&&(u[0]=Math.abs(a)>=c&&Math.sign(a)*c),!1===u[1]&&(u[1]=Math.abs(l)>=h&&Math.sign(l)*h)),t.intentional=!1!==u[0]||!1!==u[1],!t.intentional)return;let m=[0,0];if(i.hasCustomTransform){let[e,t]=d;m[0]=!1!==u[0]?e-u[0]:0,m[1]=!1!==u[1]?t-u[1]:0}else m[0]=!1!==u[0]?a-u[0]:0,m[1]=!1!==u[1]?l-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(m);let p=t.offset,f=t._active&&!t._blocked||t.active;f&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=s[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=M(i.bounds,t)),this.setup&&this.setup()),t.movement=m,this.computeOffset()));let[g,v]=t.offset,[[y,b],[x,w]]=t._bounds;t.overflow=[g<y?-1:+(g>b),v<x?-1:+(v>w)],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);let _=t._active&&i.rubberband||[0,0];if(t.offset=function(e,[t,i],[s,n]){let[[r,a],[l,c]]=e;return[o(t,r,a,s),o(i,l,c,n)]}(t._bounds,t.offset,_),t.delta=r.sub(t.offset,p),this.computeMovement(),f&&(!t.last||n>32)){t.delta=r.sub(t.offset,p);let e=t.delta.map(Math.abs);r.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&n>0&&(t.velocity=[e[0]/n,e[1]/n],t.timeDelta=n)}}emit(){let e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;let s=this.handler(h(h(h({},t),e),{},{[this.aliasKey]:e.values}));void 0!==s&&(e.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class A extends k{constructor(...e){super(...e),l(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=r.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=r.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let t=this.state,i=this.config;if(!t.axis&&e){let s="object"==typeof i.axisThreshold?i.axisThreshold[g(e)]:i.axisThreshold;t.axis=function([e,t],i){let s=Math.abs(e),n=Math.abs(t);return s>n&&s>i?"x":n>s&&n>i?"y":void 0}(t._movement,s)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}let E=e=>e,C={enabled:(e=!0)=>e,eventOptions:(e,t,i)=>h(h({},i.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return r.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?r.toVector(e):void 0,transform(e,t,i){let s=e||i.shared.transform;return this.hasCustomTransform=!!s,s||E},threshold:e=>r.toVector(e,0)},T=0,N=h(h({},C),{},{axis(e,t,{axis:i}){if(this.lockDirection="lock"===i,!this.lockDirection)return i},axisThreshold:(e=T)=>e,bounds(e={}){if("function"==typeof e)return t=>N.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:i=1/0,top:s=-1/0,bottom:n=1/0}=e;return[[t,i],[s,n]]}}),D={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]},I="undefined"!=typeof window&&window.document&&window.document.createElement;function O(){return I&&"ontouchstart"in window}let P={isBrowser:I,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:O(),touchscreen:O()||I&&window.navigator.maxTouchPoints>1,pointer:I&&"onpointerdown"in window,pointerLock:I&&"exitPointerLock"in window.document},B=10,$={mouse:0,touch:0,pen:8},R=h(h({},N),{},{device(e,t,{pointer:{touch:i=!1,lock:s=!1,mouse:n=!1}={}}){return(this.pointerLock=s&&P.pointerLock,P.touch&&i)?"touch":this.pointerLock?"mouse":P.pointer&&!n?"pointer":P.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:i}){if(this.preventScrollDelay="number"==typeof i?i:i||void 0===i&&e?250:void 0,P.touchscreen&&!1!==i)return e||(void 0!==i?"y":void 0)},pointerCapture(e,t,{pointer:{capture:i=!0,buttons:s=1,keys:n=!0}={}}){return this.pointerButtons=s,this.keys=n,!this.pointerLock&&"pointer"===this.device&&i},threshold(e,t,{filterTaps:i=!1,tapsThreshold:s=3,axis:n}){let a=r.toVector(e,i?s:+!!n);return this.filterTaps=i,this.tapsThreshold=s,a},swipe({velocity:e=.5,distance:t=50,duration:i=250}={}){return{velocity:this.transform(r.toVector(e)),distance:this.transform(r.toVector(t)),duration:i}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?h(h({},$),e):$,keyboardDisplacement:(e=B)=>e});function L(e){let[t,i]=e.overflow,[s,n]=e._delta,[r,a]=e._direction;(t<0&&s>0&&r<0||t>0&&s<0&&r>0)&&(e._movement[0]=e._movementBound[0]),(i<0&&n>0&&a<0||i>0&&n<0&&a>0)&&(e._movement[1]=e._movementBound[1])}let H=h(h({},C),{},{device(e,t,{shared:i,pointer:{touch:s=!1}={}}){if(i.target&&!P.touch&&P.gesture)return"gesture";if(P.touch&&s)return"touch";if(P.touchscreen){if(P.pointer)return"pointer";if(P.touch)return"touch"}},bounds(e,t,{scaleBounds:i={},angleBounds:s={}}){let n=e=>{let t=S(M(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},r=e=>{let t=S(M(s,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof i&&"function"!=typeof s?[n(),r()]:e=>[n(e),r(e)]},threshold(e,t,i){return this.lockDirection="lock"===i.axis,r.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e}),z=h(h({},N),{},{mouseOnly:(e=!0)=>e}),V=h(h({},N),{},{mouseOnly:(e=!0)=>e}),Y=new Map,K=new Map;function X(e){Y.set(e.key,e.engine),K.set(e.key,e.resolver)}let q={key:"drag",engine:class extends A{constructor(...e){super(...e),l(this,"ingKey","dragging")}reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),s={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=N.bounds(s)}}cancel(){let e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let t=this.config,i=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;let s=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),s&&s.size>1&&i._pointerActive||(this.start(e),this.setupPointer(e),i._pointerId=x(e),i._pointerActive=!0,this.computeValues(w(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==g(e)?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let t=this.state,i=this.config;if(!t._pointerActive)return;let s=x(e);if(void 0!==t._pointerId&&s!==t._pointerId)return;let n=w(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=r.sub(n,t._values),this.computeValues(n)),r.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(!t.axis)return;else if(t.axis===i.preventScrollAxis||"xy"===i.preventScrollAxis){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(e){}let t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;let s=x(e);if(void 0!==t._pointerId&&s!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[n,r]=t._distance;if(t.tap=n<=i.tapsThreshold&&r<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{let[e,s]=t._delta,[n,r]=t._movement,[a,o]=i.swipe.velocity,[l,c]=i.swipe.distance,h=i.swipe.duration;if(t.elapsedTime<h){let i=Math.abs(e/t.timeDelta),h=Math.abs(s/t.timeDelta);i>a&&Math.abs(n)>l&&(t.swipe[0]=Math.sign(e)),h>o&&Math.abs(r)>c&&(t.swipe[1]=Math.sign(s))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){var t;this.state._preventScroll=!1,"persist"in(t=e)&&"function"==typeof t.persist&&t.persist();let i=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",i),this.eventStore.add(this.sharedConfig.window,"touch","cancel",i),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let t=D[e.key];if(t){let i=this.state,s=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,s),i._keyboardActive=!0,r.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in D&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:R},F={key:"hover",engine:class extends A{constructor(...e){super(...e),l(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(w(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;let t=this.state;if(!t._active)return;t._active=!1;let i=w(e);t._movement=t._delta=r.sub(i,t._values),this.computeValues(i),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}},resolver:V},G={key:"move",engine:class extends A{constructor(...e){super(...e),l(this,"ingKey","moving")}move(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(w(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;let t=w(e),i=this.state;i._delta=r.sub(t,i._values),r.addTo(i._movement,i._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}},resolver:z},U={key:"pinch",engine:class extends k{constructor(...e){super(...e),l(this,"ingKey","pinching"),l(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){let{type:e,movement:t,lastOffset:i}=this.state;"wheel"===e?this.state.offset=r.add(t,i):this.state.offset=[(1+t[0])*i[0],t[1]+i[1]]}computeMovement(){let{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){let e=this.state,[t,i]=e._movement;if(!e.axis){let s=30*Math.abs(t)-Math.abs(i);s<0?e.axis="angle":s>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){let e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);let t=this.state,i=this.ctrl.touchIds;if(t._active&&t._touchIds.every(e=>i.has(e))||i.size<2)return;this.start(e),t._touchIds=Array.from(i).slice(0,2);let s=b(e,t._touchIds);s&&this.pinchStart(e,s)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);let t=this.state,i=t._pointerEvents,s=this.ctrl.pointerIds;if(t._active&&Array.from(i.keys()).every(e=>s.has(e))||(i.size<2&&i.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);let n=y(...Array.from(i.values()));n&&this.pinchStart(e,n)}pinchStart(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;let t=b(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){let t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;let i=y(...Array.from(t.values()));i&&this.pinchMove(e,i)}pinchMove(e,t){let i=this.state,s=i._values[1],n=t.angle-s,r=0;Math.abs(n)>270&&(r+=Math.sign(n)),this.computeValues([t.distance,t.angle-360*r]),i.origin=t.origin,i.turns=r,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){let t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(e){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();let t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;let t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];let i=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=r.sub(t._movement,i),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){let t=this.config.modifierKey;(!t||(Array.isArray(t)?t.find(t=>e[t]):e[t]))&&(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();let t=this.state;t._delta=[-_(e)[1]/100*t.offset[0],0],r.addTo(t._movement,t._delta),L(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){let t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}},resolver:H},W={key:"scroll",engine:class extends A{constructor(...e){super(...e),l(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();let t=this.state,i=function(e){var t,i;let{scrollX:s,scrollY:n,scrollLeft:r,scrollTop:a}=e.currentTarget;return[null!=(t=null!=s?s:r)?t:0,null!=(i=null!=n?n:a)?i:0]}(e);t._delta=r.sub(i,t._values),r.addTo(t._movement,t._delta),this.computeValues(i),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}},resolver:N},Z={key:"wheel",engine:class extends A{constructor(...e){super(...e),l(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){let t=this.state;t._delta=_(e),r.addTo(t._movement,t._delta),L(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},resolver:N},J={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=P.isBrowser?window:void 0)=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},Q=["target","eventOptions","window","enabled","transform"];function ee(e={},t){let i={};for(let[s,n]of Object.entries(t))switch(typeof n){case"function":i[s]=n.call(i,e[s],s,e);break;case"object":i[s]=ee(e[s],n);break;case"boolean":n&&(i[s]=e[s])}return i}class et{constructor(e,t){l(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,s,n){let r=this._listeners,a=function(e,t=""){let i=u[e];return e+(i&&i[t]||t)}(t,i),o=h(h({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),n);e.addEventListener(a,s,o);let l=()=>{e.removeEventListener(a,s,o),r.delete(l)};return r.add(l),l}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class ei{constructor(){l(this,"_timeouts",new Map)}add(e,t,i=140,...s){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...s))}remove(e){let t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class es{constructor(e){l(this,"gestures",new Set),l(this,"_targetEventStore",new et(this)),l(this,"gestureEventStores",{}),l(this,"gestureTimeoutStores",{}),l(this,"handlers",{}),l(this,"config",{}),l(this,"pointerIds",new Set),l(this,"touchIds",new Set),l(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&en(e,"drag"),t.wheel&&en(e,"wheel"),t.scroll&&en(e,"scroll"),t.move&&en(e,"move"),t.pinch&&en(e,"pinch"),t.hover&&en(e,"hover")}(this,e)}setEventIds(e){if(f(e))return this.touchIds=new Set(Array.from(e.touches).filter(t=>{var i,s;return t.target===e.currentTarget||(null==(i=e.currentTarget)||null==(s=i.contains)?void 0:s.call(i,t.target))}).map(e=>e.identifier)),this.touchIds;if("pointerId"in e)return"pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,i={}){let{target:s,eventOptions:n,window:r,enabled:a,transform:o}=e,l=function(e,t){if(null==e)return{};var i,s,n=function(e,t){if(null==e)return{};var i,s,n={},r=Object.keys(e);for(s=0;s<r.length;s++)i=r[s],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}(e,Q);if(i.shared=ee({target:s,eventOptions:n,window:r,enabled:a,transform:o},J),t){let e=K.get(t);i[t]=ee(h({shared:i.shared},l),e)}else for(let e in l){let t=K.get(e);t&&(i[e]=ee(h({shared:i.shared},l[e]),t))}return i}(e,t,this.config)}clean(){for(let e of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){let t,i=this.config.shared,s={};if(!i.target||(t=i.target())){if(i.enabled){for(let i of this.gestures){let n=this.config[i],r=er(s,n.eventOptions,!!t);n.enabled&&new(Y.get(i))(this,e,i).bind(r)}let n=er(s,i.eventOptions,!!t);for(let t in this.nativeHandlers)n(t,"",i=>this.nativeHandlers[t](h(h({},this.state.shared),{},{event:i,args:e})),void 0,!0)}for(let e in s)s[e]=function(...e){return 0===e.length?j:1===e.length?e[0]:function(){let t;for(let i of e)t=i.apply(this,arguments)||t;return t}}(...s[e]);if(!t)return s;for(let e in s){let{device:i,capture:n,passive:r}=function(e){let t=e.substring(2).toLowerCase(),i=!!~t.indexOf("passive");i&&(t=t.replace("passive",""));let s=p.includes(t)?"capturecapture":"capture",n=!!~t.indexOf(s);return n&&(t=t.replace("capture","")),{device:t,capture:n,passive:i}}(e);this._targetEventStore.add(t,i,"",s[e],{capture:n,passive:r})}}}}function en(e,t){e.gestures.add(t),e.gestureEventStores[t]=new et(e,t),e.gestureTimeoutStores[t]=new ei}let er=(e,t,i)=>(s,n,r,a={},o=!1)=>{var l,c;let h=null!=(l=a.capture)?l:t.capture,p=null!=(c=a.passive)?c:t.passive,f=o?s:function(e,t="",i=!1){let s=u[e],n=s&&s[t]||t;return"on"+d(e)+d(n)+(!function(e=!1,t){return e&&!m.includes(t)}(i,n)?"":"Capture")}(s,n,h);i&&p&&(f+="Passive"),e[f]=e[f]||[],e[f].push(r)},ea=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function eo(e,t,i,s,n,r){if(!e.has(i)||!Y.has(s))return;let a=i+"Start",o=i+"End";n[s]=e=>{let s;return e.first&&a in t&&t[a](e),i in t&&(s=t[i](e)),e.last&&o in t&&t[o](e),s},r[s]=r[s]||{}}e.i(19587);let el=[{src:"https://images.unsplash.com/photo-1755331039789-7e5680e26e8f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Abstract art"},{src:"https://images.unsplash.com/photo-1755569309049-98410b94f66d?q=80&w=772&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Modern sculpture"},{src:"https://images.unsplash.com/photo-1755497595318-7e5e3523854f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Digital artwork"},{src:"https://images.unsplash.com/photo-1755353985163-c2a0fe5ac3d8?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Contemporary art"},{src:"https://images.unsplash.com/photo-1745965976680-d00be7dc0377?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Geometric pattern"},{src:"https://images.unsplash.com/photo-1752588975228-21f44630bb3c?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Textured surface"},{src:"https://pbs.twimg.com/media/Gyla7NnXMAAXSo_?format=jpg&name=large",alt:"Social media image"}],ec=(e,t,i)=>Math.min(Math.max(e,t),i),eh=e=>(e%360+360)%360,eu=e=>((e+180)%360+360)%360-180,ed=(e,t,i)=>{let s=e.dataset[t]??e.getAttribute(`data-${t}`),n=null==s?NaN:parseFloat(s);return Number.isFinite(n)?n:i};function em({images:e=el,fit:i=.5,fitBasis:n="auto",minRadius:r=600,maxRadius:a=1/0,padFactor:o=.25,overlayBlurColor:l="#060010",maxVerticalRotationDeg:c=5,dragSensitivity:h=20,enlargeTransitionMs:u=300,segments:d=35,dragDampening:m=2,openedImageWidth:p="400px",openedImageHeight:f="400px",imageBorderRadius:g="30px",openedImageBorderRadius:v="30px",grayscale:y=!0}){var b,x;let w=(0,s.useRef)(null),_=(0,s.useRef)(null),M=(0,s.useRef)(null),j=(0,s.useRef)(null),S=(0,s.useRef)(null),k=(0,s.useRef)(null),A=(0,s.useRef)(null),E=(0,s.useRef)(null),C=(0,s.useRef)({x:0,y:0}),T=(0,s.useRef)({x:0,y:0}),N=(0,s.useRef)(null),D=(0,s.useRef)(!1),I=(0,s.useRef)(!1),O=(0,s.useRef)(null),P=(0,s.useRef)(!1),B=(0,s.useRef)(0),$=(0,s.useRef)(0),R=(0,s.useRef)(!1),L=(0,s.useCallback)(()=>{R.current||(R.current=!0,document.body.classList.add("dg-scroll-lock"))},[]),H=(0,s.useCallback)(()=>{R.current&&w.current?.getAttribute("data-enlarging")!=="true"&&(R.current=!1,document.body.classList.remove("dg-scroll-lock"))},[]),z=(0,s.useMemo)(()=>(function(e,t){let i=Array.from({length:t},(e,t)=>-37+2*t),s=[-4,-2,0,2,4],n=[-3,-1,1,3,5],r=i.flatMap((e,t)=>(t%2==0?s:n).map(t=>({x:e,y:t,sizeX:2,sizeY:2}))),a=r.length;if(0===e.length)return r.map(e=>({...e,src:"",alt:""}));e.length>a&&console.warn(`[DomeGallery] Provided image count (${e.length}) exceeds available tiles (${a}). Some images will not be shown.`);let o=e.map(e=>"string"==typeof e?{src:e,alt:""}:{src:e.src||"",alt:e.alt||""}),l=Array.from({length:a},(e,t)=>o[t%o.length]);for(let e=1;e<l.length;e++)if(l[e].src===l[e-1].src){for(let t=e+1;t<l.length;t++)if(l[t].src!==l[e].src){let i=l[e];l[e]=l[t],l[t]=i;break}}return r.map((e,t)=>({...e,src:l[t].src,alt:l[t].alt}))})(e,d),[e,d]),V=(e,t)=>{let i=M.current;i&&(i.style.transform=`translateZ(calc(var(--radius) * -1)) rotateX(${e}deg) rotateY(${t}deg)`)},Y=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=w.current;if(!e)return;let t=new ResizeObserver(t=>{let s,c=t[0].contentRect,h=Math.max(1,c.width),u=Math.max(1,c.height),d=Math.min(h,u),m=Math.max(h,u);switch(n){case"min":s=d;break;case"max":s=m;break;case"width":s=h;break;case"height":s=u;break;default:s=h/u>=1.3?h:d}let b=s*i;Y.current=Math.round(b=ec(b=Math.min(b,1.35*u),r,a));let x=Math.max(8,Math.round(d*o));e.style.setProperty("--radius",`${Y.current}px`),e.style.setProperty("--viewer-pad",`${x}px`),e.style.setProperty("--overlay-blur-color",l),e.style.setProperty("--tile-radius",g),e.style.setProperty("--enlarge-radius",v),e.style.setProperty("--image-filter",y?"grayscale(1)":"none"),V(C.current.x,C.current.y);let w=S.current?.querySelector(".enlarge");if(w&&j.current&&_.current){let e=j.current.getBoundingClientRect(),t=_.current.getBoundingClientRect();if(p&&f){let i=document.createElement("div");i.style.cssText=`position: absolute; width: ${p}; height: ${f}; visibility: hidden;`,document.body.appendChild(i);let s=i.getBoundingClientRect();document.body.removeChild(i);let n=e.left-t.left+(e.width-s.width)/2,r=e.top-t.top+(e.height-s.height)/2;w.style.left=`${n}px`,w.style.top=`${r}px`}else w.style.left=`${e.left-t.left}px`,w.style.top=`${e.top-t.top}px`,w.style.width=`${e.width}px`,w.style.height=`${e.height}px`}});return t.observe(e),()=>t.disconnect()},[i,n,r,a,o,l,y,g,v,p,f]),(0,s.useEffect)(()=>{V(C.current.x,C.current.y)},[]);let K=(0,s.useCallback)(()=>{O.current&&(cancelAnimationFrame(O.current),O.current=null)},[]),J=(0,s.useCallback)((e,t)=>{let i=80*ec(e,-1.4,1.4),s=80*ec(t,-1.4,1.4),n=0,r=ec(m??.6,0,1),a=.94+.055*r,o=.015-.01*r,l=Math.round(90+270*r),h=()=>{if(i*=a,s*=a,Math.abs(i)<o&&Math.abs(s)<o||++n>l){O.current=null;return}let e=ec(C.current.x-s/200,-c,c),t=eu(C.current.y+i/200);C.current={x:e,y:t},V(e,t),O.current=requestAnimationFrame(h)};K(),O.current=requestAnimationFrame(h)},[m,c,K]);b={onDragStart:({event:e})=>{A.current||(K(),D.current=!0,I.current=!1,T.current={...C.current},N.current={x:e.clientX,y:e.clientY})},onDrag:({event:e,last:t,velocity:i=[0,0],direction:s=[0,0],movement:n})=>{if(A.current||!D.current||!N.current)return;let r=e.clientX-N.current.x,a=e.clientY-N.current.y;!I.current&&r*r+a*a>16&&(I.current=!0);let o=ec(T.current.x-a/h,-c,c),l=eu(T.current.y+r/h);if((C.current.x!==o||C.current.y!==l)&&(C.current={x:o,y:l},V(o,l)),t){D.current=!1;let[e,t]=i,[r,a]=s,o=e*r,l=t*a;if(.001>Math.abs(o)&&.001>Math.abs(l)&&Array.isArray(n)){let[e,t]=n;o=ec(e/h*.02,-1.2,1.2),l=ec(t/h*.02,-1.2,1.2)}(Math.abs(o)>.005||Math.abs(l)>.005)&&J(o,l),I.current&&($.current=performance.now()),I.current=!1}}},x={target:_,eventOptions:{passive:!0}},([q,U,W,Z,G,F].forEach(X),function(e,t){let{handlers:i,nativeHandlers:n,config:r}=function(e,t){let[i,s,n]=function(e){let t={},i={},s=new Set;for(let n in e)ea.test(n)?(s.add(RegExp.lastMatch),i[n]=e[n]):t[n]=e[n];return[i,t,s]}(e),r={};return eo(n,i,"onDrag","drag",r,t),eo(n,i,"onWheel","wheel",r,t),eo(n,i,"onScroll","scroll",r,t),eo(n,i,"onPinch","pinch",r,t),eo(n,i,"onMove","move",r,t),eo(n,i,"onHover","hover",r,t),{handlers:r,config:t,nativeHandlers:s}}(e,t||{});return function(e,t={},i,n){let r=s.default.useMemo(()=>new es(e),[]);if(r.applyHandlers(e,n),r.applyConfig(t,i),s.default.useEffect(r.effect.bind(r)),s.default.useEffect(()=>r.clean.bind(r),[]),void 0===t.target)return r.bind.bind(r)}(i,r,void 0,n)})(b,x||{});let Q=e=>{let t;if(P.current)return;P.current=!0,B.current=performance.now(),L();let i=e.parentElement;A.current=e,e.setAttribute("data-focused","true");let s=ed(i,"offsetX",0),n=ed(i,"offsetY",0),r=ed(i,"sizeX",2),a=ed(i,"sizeY",2),o={rotateX:(t=360/d/2)*(n-(a-1)/2),rotateY:t*(s+(r-1)/2)},l=-(eh(o.rotateY)+eh(C.current.y))%360;l<-180&&(l+=360);let c=-o.rotateX-C.current.x;i.style.setProperty("--rot-y-delta",`${l}deg`),i.style.setProperty("--rot-x-delta",`${c}deg`);let h=document.createElement("div");h.className="item__image item__image--reference",h.style.opacity="0",h.style.transform=`rotateX(${-o.rotateX}deg) rotateY(${-o.rotateY}deg)`,i.appendChild(h),h.offsetHeight;let m=h.getBoundingClientRect(),g=_.current?.getBoundingClientRect(),v=j.current?.getBoundingClientRect();if(!g||!v||m.width<=0||m.height<=0){P.current=!1,A.current=null,i.removeChild(h),H();return}E.current={left:m.left,top:m.top,width:m.width,height:m.height},e.style.visibility="hidden",e.style.zIndex=0;let y=document.createElement("div");y.className="enlarge",y.style.position="absolute",y.style.left=v.left-g.left+"px",y.style.top=v.top-g.top+"px",y.style.width=v.width+"px",y.style.height=v.height+"px",y.style.opacity="0",y.style.zIndex="30",y.style.willChange="transform, opacity",y.style.transformOrigin="top left",y.style.transition=`transform ${u}ms ease, opacity ${u}ms ease`;let b=i.dataset.src||e.querySelector("img")?.src||"",x=document.createElement("img");x.src=b,y.appendChild(x),S.current.appendChild(y);let M=m.left-v.left,k=m.top-v.top,T=m.width/v.width,N=m.height/v.height,D=isFinite(T)&&T>0?T:1,I=isFinite(N)&&N>0?N:1;if(y.style.transform=`translate(${M}px, ${k}px) scale(${D}, ${I})`,setTimeout(()=>{y.parentElement&&(y.style.opacity="1",y.style.transform="translate(0px, 0px) scale(1, 1)",w.current?.setAttribute("data-enlarging","true"))},16),p||f){let e=t=>{if("transform"!==t.propertyName)return;y.removeEventListener("transitionend",e);let i=y.style.transition;y.style.transition="none";let s=p||`${v.width}px`,n=f||`${v.height}px`;y.style.width=s,y.style.height=n;let r=y.getBoundingClientRect();y.style.width=v.width+"px",y.style.height=v.height+"px",y.offsetWidth,y.style.transition=`left ${u}ms ease, top ${u}ms ease, width ${u}ms ease, height ${u}ms ease`;let a=v.left-g.left+(v.width-r.width)/2,o=v.top-g.top+(v.height-r.height)/2;requestAnimationFrame(()=>{y.style.left=`${a}px`,y.style.top=`${o}px`,y.style.width=s,y.style.height=n});let l=()=>{y.removeEventListener("transitionend",l),y.style.transition=i};y.addEventListener("transitionend",l,{once:!0})};y.addEventListener("transitionend",e)}},ee=(0,s.useCallback)(e=>{D.current||I.current||performance.now()-$.current<80||P.current||Q(e.currentTarget)},[Q]),et=(0,s.useCallback)(e=>{"touch"!==e.pointerType||D.current||I.current||performance.now()-$.current<80||P.current||Q(e.currentTarget)},[Q]);return(0,s.useEffect)(()=>{let e=k.current;if(!e)return;let t=()=>{if(performance.now()-B.current<250)return;let e=A.current;if(!e)return;let t=e.parentElement,i=S.current?.querySelector(".enlarge");if(!i)return;let s=t.querySelector(".item__image--reference"),n=E.current;if(!n){i.remove(),s&&s.remove(),t.style.setProperty("--rot-y-delta","0deg"),t.style.setProperty("--rot-x-delta","0deg"),e.style.visibility="",e.style.zIndex=0,A.current=null,w.current?.removeAttribute("data-enlarging"),P.current=!1,H();return}let r=i.getBoundingClientRect(),a=w.current.getBoundingClientRect(),o={left:n.left-a.left,top:n.top-a.top,width:n.width,height:n.height},l={left:r.left-a.left,top:r.top-a.top,width:r.width,height:r.height},c=document.createElement("div");c.className="enlarge-closing",c.style.cssText=`
        position: absolute;
        left: ${l.left}px;
        top: ${l.top}px;
        width: ${l.width}px;
        height: ${l.height}px;
        z-index: 9999;
        border-radius: var(--enlarge-radius, 32px);
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,.35);
        transition: all ${u}ms ease-out;
        pointer-events: none;
        margin: 0;
        transform: none;
      `;let h=i.querySelector("img");if(h){let e=h.cloneNode();e.style.cssText="width: 100%; height: 100%; object-fit: cover;",c.appendChild(e)}i.remove(),w.current.appendChild(c),c.getBoundingClientRect(),requestAnimationFrame(()=>{c.style.left=o.left+"px",c.style.top=o.top+"px",c.style.width=o.width+"px",c.style.height=o.height+"px",c.style.opacity="0"}),c.addEventListener("transitionend",()=>{c.remove(),E.current=null,s&&s.remove(),t.style.transition="none",e.style.transition="none",t.style.setProperty("--rot-y-delta","0deg"),t.style.setProperty("--rot-x-delta","0deg"),requestAnimationFrame(()=>{e.style.visibility="",e.style.opacity="0",e.style.zIndex=0,A.current=null,w.current?.removeAttribute("data-enlarging"),requestAnimationFrame(()=>{t.style.transition="",e.style.transition="opacity 300ms ease-out",requestAnimationFrame(()=>{e.style.opacity="1",setTimeout(()=>{e.style.transition="",e.style.opacity="",P.current=!1,D.current||w.current?.getAttribute("data-enlarging")==="true"||document.body.classList.remove("dg-scroll-lock")},300)})})})},{once:!0})};e.addEventListener("click",t);let i=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",i),()=>{e.removeEventListener("click",t),window.removeEventListener("keydown",i)}},[u,H]),(0,s.useEffect)(()=>()=>{document.body.classList.remove("dg-scroll-lock")},[]),(0,t.jsx)("div",{ref:w,className:"sphere-root",style:{"--segments-x":d,"--segments-y":d,"--overlay-blur-color":l,"--tile-radius":g,"--enlarge-radius":v,"--image-filter":y?"grayscale(1)":"none"},children:(0,t.jsxs)("main",{ref:_,className:"sphere-main",children:[(0,t.jsx)("div",{className:"stage",children:(0,t.jsx)("div",{ref:M,className:"sphere",children:z.map((e,i)=>(0,t.jsx)("div",{className:"item","data-src":e.src,"data-offset-x":e.x,"data-offset-y":e.y,"data-size-x":e.sizeX,"data-size-y":e.sizeY,style:{"--offset-x":e.x,"--offset-y":e.y,"--item-size-x":e.sizeX,"--item-size-y":e.sizeY},children:(0,t.jsx)("div",{className:"item__image",role:"button",tabIndex:0,"aria-label":e.alt||"Open image",onClick:ee,onPointerUp:et,children:(0,t.jsx)("img",{src:e.src,draggable:!1,alt:e.alt})})},`${e.x},${e.y},${i}`))})}),(0,t.jsx)("div",{className:"overlay"}),(0,t.jsx)("div",{className:"overlay overlay--blur"}),(0,t.jsx)("div",{className:"edge-fade edge-fade--top"}),(0,t.jsx)("div",{className:"edge-fade edge-fade--bottom"}),(0,t.jsxs)("div",{className:"viewer",ref:S,children:[(0,t.jsx)("div",{ref:k,className:"scrim"}),(0,t.jsx)("div",{ref:j,className:"frame"})]})]})})}let ep=e=>"number"==typeof e?`${e}px`:e??void 0,ef=s.default.memo(({logos:e,speed:i=120,direction:n="left",width:r="100%",logoHeight:a=28,gap:o=32,pauseOnHover:l,hoverSpeed:c,fadeOut:h=!1,fadeOutColor:u,scaleOnHover:d=!1,renderItem:m,ariaLabel:p="Partner logos",className:f,style:g})=>{var v,y,b;let x,w,_,M,j=(0,s.useRef)(null),S=(0,s.useRef)(null),k=(0,s.useRef)(null),[A,E]=(0,s.useState)(0),[C,T]=(0,s.useState)(0),[N,D]=(0,s.useState)(2),[I,O]=(0,s.useState)(!1),P=(0,s.useMemo)(()=>void 0!==c?c:!0===l||!1!==l?0:void 0,[c,l]),B="up"===n||"down"===n,$=(0,s.useMemo)(()=>Math.abs(i)*(B?"up"===n?1:-1:"left"===n?1:-1)*(i<0?-1:1),[i,n,B]),R=(0,s.useCallback)(()=>{let e=j.current?.clientWidth??0,t=k.current?.getBoundingClientRect?.(),i=t?.width??0,s=t?.height??0;if(B){let e=j.current?.parentElement?.clientHeight??0;if(j.current&&e>0){let t=Math.ceil(e);j.current.style.height!==`${t}px`&&(j.current.style.height=`${t}px`)}s>0&&(T(Math.ceil(s)),D(Math.max(2,Math.ceil((j.current?.clientHeight??e??s)/s)+2)))}else i>0&&(E(Math.ceil(i)),D(Math.max(2,Math.ceil(e/i)+2)))},[B]);v=[j,k],y=[e,o,a,B],(0,s.useEffect)(()=>{if(!window.ResizeObserver){let e=()=>R();return window.addEventListener("resize",e),R(),()=>window.removeEventListener("resize",e)}let e=v.map(e=>{if(!e.current)return null;let t=new ResizeObserver(R);return t.observe(e.current),t});return R(),()=>{e.forEach(e=>e?.disconnect())}},y),b=[e,o,a,B],(0,s.useEffect)(()=>{let e=k.current?.querySelectorAll("img")??[];if(0===e.length)return void R();let t=e.length,i=()=>{0==(t-=1)&&R()};return e.forEach(e=>{e.complete?i():(e.addEventListener("load",i,{once:!0}),e.addEventListener("error",i,{once:!0}))}),()=>{e.forEach(e=>{e.removeEventListener("load",i),e.removeEventListener("error",i)})}},b),x=(0,s.useRef)(null),w=(0,s.useRef)(null),_=(0,s.useRef)(0),M=(0,s.useRef)(0),(0,s.useEffect)(()=>{let e=S.current;if(!e)return;let t=B?C:A;if(t>0){_.current=(_.current%t+t)%t;let i=B?`translate3d(0, ${-_.current}px, 0)`:`translate3d(${-_.current}px, 0, 0)`;e.style.transform=i}let i=s=>{null===w.current&&(w.current=s);let n=Math.max(0,s-w.current)/1e3;w.current=s;let r=I&&void 0!==P?P:$,a=1-Math.exp(-n/.25);if(M.current+=(r-M.current)*a,t>0){let i=_.current+M.current*n;_.current=i=(i%t+t)%t;let s=B?`translate3d(0, ${-_.current}px, 0)`:`translate3d(${-_.current}px, 0, 0)`;e.style.transform=s}x.current=requestAnimationFrame(i)};return x.current=requestAnimationFrame(i),()=>{null!==x.current&&(cancelAnimationFrame(x.current),x.current=null),w.current=null}},[$,A,C,I,P,B]);let L=(0,s.useMemo)(()=>({"--logoloop-gap":`${o}px`,"--logoloop-logoHeight":`${a}px`,...u&&{"--logoloop-fadeColor":u}}),[o,a,u]),H=(0,s.useMemo)(()=>["logoloop",B?"logoloop--vertical":"logoloop--horizontal",h&&"logoloop--fade",d&&"logoloop--scale-hover",f].filter(Boolean).join(" "),[B,h,d,f]),z=(0,s.useCallback)(()=>{void 0!==P&&O(!0)},[P]),V=(0,s.useCallback)(()=>{void 0!==P&&O(!1)},[P]),Y=(0,s.useCallback)((e,i)=>{if(m)return(0,t.jsx)("li",{className:"logoloop__item",role:"listitem",children:m(e,i)},i);let s="node"in e,n=s?(0,t.jsx)("span",{className:"logoloop__node","aria-hidden":!!e.href&&!e.ariaLabel,children:e.node}):(0,t.jsx)("img",{src:e.src,srcSet:e.srcSet,sizes:e.sizes,width:e.width,height:e.height,alt:e.alt??"",title:e.title,loading:"lazy",decoding:"async",draggable:!1}),r=s?e.ariaLabel??e.title:e.alt??e.title,a=e.href?(0,t.jsx)("a",{className:"logoloop__link",href:e.href,"aria-label":r||"logo link",target:"_blank",rel:"noreferrer noopener",children:n}):n;return(0,t.jsx)("li",{className:"logoloop__item",role:"listitem",children:a},i)},[m]),K=(0,s.useMemo)(()=>Array.from({length:N},(i,s)=>(0,t.jsx)("ul",{className:"logoloop__list",role:"list","aria-hidden":s>0,ref:0===s?k:void 0,children:e.map((e,t)=>Y(e,`${s}-${t}`))},`copy-${s}`)),[N,e,Y]),X=(0,s.useMemo)(()=>({width:B?"100%"===ep(r)?void 0:ep(r):ep(r)??"100%",...L,...g}),[r,L,g,B]);return(0,t.jsx)("div",{ref:j,className:H,style:X,role:"region","aria-label":p,children:(0,t.jsx)("div",{className:"logoloop__track",ref:S,onMouseEnter:z,onMouseLeave:V,children:K})})});ef.displayName="LogoLoop";var eg=e.i(21846);let ev=[{name:"Home",icon:"üè†",section:"main"},{name:"Library",icon:"üìö",section:"main"},{name:"Image",icon:"üé®",section:"AI Tools"},{name:"Video",icon:"üé¨",section:"AI Tools"},{name:"Blueprints",icon:"üìã",section:"AI Tools",badge:"Beta"},{name:"Flow State",icon:"‚àû",section:"AI Tools"},{name:"Realtime Canvas",icon:"‚ö°",section:"AI Tools"},{name:"Realtime Generation",icon:"‚ú®",section:"AI Tools"},{name:"Canvas Editor",icon:"üñºÔ∏è",section:"AI Tools"},{name:"Universal Upscaler",icon:"üîç",section:"AI Tools"},{name:"Models & Training",icon:"üß†",section:"Advanced"},{name:"Texture Generation",icon:"üé≠",section:"Advanced",badge:"Alpha"}],ey=[{name:"Blueprints",icon:"üìã"},{name:"Flow State",icon:"‚àû"},{name:"Video",icon:"üé¨"},{name:"Image",icon:"üé®"},{name:"Upscaler",icon:"üîç"},{name:"Canvas Editor",icon:"üñºÔ∏è"},{name:"More",icon:"‚ãØ"}],eb=[{title:"Amber Haze Portrait",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{title:"Dreamy Polaroid Portrait",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{title:"Tuscan Cinematic Video Portrait",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{title:"Blue Room Video Portrait",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{title:"Halloween Party",image:"https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},{title:"Indie Garden Polaroid",image:"https://images.unsplash.com/photo-1488161628813-04466f872be2?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},{title:"Bold Fisheye Portrait",image:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #ff0844 0%, #ffb199 100%)"}],ex=[{name:"Trending",icon:"üî•"},{name:"All",icon:"üåê"},{name:"Video",icon:"üé¨"},{name:"Photography",icon:"üì∑"},{name:"Animals",icon:"ü¶Å"},{name:"Anime",icon:"üéå"},{name:"Architecture",icon:"üèõÔ∏è"},{name:"Character",icon:"üë§"},{name:"Food",icon:"üçï"},{name:"Sci-Fi",icon:"üöÄ"}];function ew({onClose:e}){let[i,r]=(0,s.useState)("Blueprints"),[a,o]=(0,s.useState)("Trending"),[l,c]=(0,s.useState)("Blueprints");return(0,t.jsxs)(n.motion.div,{className:"media-studio-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,t.jsxs)("div",{className:"media-sidebar",children:[(0,t.jsxs)("div",{className:"sidebar-header",children:[(0,t.jsxs)("div",{className:"sidebar-logo",children:[(0,t.jsx)("span",{className:"logo-avatar",children:"üë§"}),(0,t.jsxs)("div",{className:"logo-user",children:[(0,t.jsx)("span",{className:"user-name",children:"Omi.AI"}),(0,t.jsx)("button",{className:"user-dropdown",children:"‚ñº"})]})]}),(0,t.jsxs)("div",{className:"sidebar-credits",children:[(0,t.jsx)("span",{className:"credits-icon",children:"‚ö°"}),(0,t.jsx)("span",{className:"credits-value",children:"150"}),(0,t.jsx)("button",{className:"upgrade-btn",children:"Upgrade"})]})]}),(0,t.jsx)("nav",{className:"sidebar-nav",children:ev.map((e,i)=>(0,t.jsxs)(n.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*i,duration:.3},children:[e.section&&i>0&&ev[i-1].section!==e.section&&(0,t.jsx)("div",{className:"nav-section-title",children:e.section}),(0,t.jsxs)("button",{className:`sidebar-item ${l===e.name?"active":""}`,onClick:()=>c(e.name),children:[(0,t.jsx)("span",{className:"sidebar-icon",children:e.icon}),(0,t.jsx)("span",{className:"sidebar-label",children:e.name}),e.badge&&(0,t.jsx)("span",{className:"tool-badge",children:e.badge})]})]},i))}),(0,t.jsx)("div",{className:"sidebar-footer",children:(0,t.jsxs)("button",{className:"sidebar-item",children:[(0,t.jsx)("span",{className:"sidebar-icon",children:"üÜï"}),(0,t.jsx)("span",{className:"sidebar-label",children:"What's New"})]})})]}),(0,t.jsxs)(n.motion.div,{className:"media-main-content",children:[(0,t.jsx)(n.motion.button,{className:"close-btn",onClick:e,whileHover:{scale:1.1,rotate:90},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},children:"‚úï"}),(0,t.jsxs)(n.motion.div,{className:"hero-banner",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[(0,t.jsx)("div",{className:"banner-logoloop",children:(0,t.jsx)(ef,{logos:[{node:"‚ú®",title:"Sparkle"},{node:"üé®",title:"Art"},{node:"üé¨",title:"Video"},{node:"üñºÔ∏è",title:"Image"},{node:"üìã",title:"Blueprint"},{node:"‚≠ê",title:"Star"},{node:"üé≠",title:"Creative"},{node:"üöÄ",title:"Launch"}],speed:30,direction:"left",logoHeight:60,gap:80,fadeOut:!0,fadeOutColor:"#1a0f2e",className:"banner-logo-animation"})}),(0,t.jsx)("div",{className:"banner-overlay"}),(0,t.jsxs)("div",{className:"banner-content",children:[(0,t.jsxs)("h1",{className:"banner-title",children:["Create with Omi ",(0,t.jsx)("span",{className:"highlight-text",children:(0,t.jsx)(eg.ShinyText,{text:"Blueprints",speed:8})})]}),(0,t.jsx)("p",{className:"banner-subtitle",children:"Discover 50+ ready-made workflows for effortless AI creation. All Blueprints 75% off for a limited time!"})]})]}),(0,t.jsx)("div",{className:"category-tabs",children:ey.map((e,s)=>(0,t.jsxs)(n.motion.button,{className:`category-tab ${i===e.name?"active":""}`,onClick:()=>r(e.name),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+.05*s,duration:.3},whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[(0,t.jsx)("span",{className:"tab-icon",children:e.icon}),(0,t.jsx)("span",{className:"tab-label",children:e.name})]},e.name))}),(0,t.jsxs)("section",{className:"featured-section",children:[(0,t.jsxs)("div",{className:"section-header",children:[(0,t.jsxs)("h2",{className:"section-title",children:[(0,t.jsx)("span",{className:"title-highlight",children:(0,t.jsx)(eg.ShinyText,{text:"Featured",speed:10})})," Blueprints"]}),(0,t.jsxs)("button",{className:"view-more-btn",children:["View More ",(0,t.jsx)("span",{className:"arrow",children:"‚Üí"})]})]}),(0,t.jsx)("div",{className:"dome-gallery-container",children:(0,t.jsx)(em,{images:eb.map(e=>({src:e.image,alt:e.title})),fit:.5,minRadius:500,maxRadius:800,segments:30,dragDampening:5,overlayBlurColor:"#0a0a0a",imageBorderRadius:"30px",openedImageBorderRadius:"30px",grayscale:!1})})]}),(0,t.jsxs)("section",{className:"community-section",children:[(0,t.jsxs)("h2",{className:"section-title",children:[(0,t.jsx)("span",{className:"title-highlight",children:"Community"})," Creations"]}),(0,t.jsx)("div",{className:"community-filters",children:ex.map(e=>(0,t.jsxs)("button",{className:`filter-btn ${a===e.name?"active":""}`,onClick:()=>o(e.name),children:[e.icon," ",e.name]},e.name))}),(0,t.jsx)("div",{className:"community-grid",children:(0,t.jsx)("p",{className:"coming-soon",children:"Community creations coming soon..."})})]})]})]})}function e_(){let e=(0,i.useRouter)();return(0,t.jsx)("div",{className:"page-transition fade-in",children:(0,t.jsx)(ew,{onClose:()=>e.back()})})}e.s(["default",()=>e_],11442)}]);