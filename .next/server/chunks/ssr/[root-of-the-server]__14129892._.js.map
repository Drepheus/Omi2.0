{"version":3,"sources":["../../../../../Omi-AI-1/node_modules/.pnpm/next%4016.0.3_%40opentelemetry%2B_162ef2eee2977cfe0d3476575909914c/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../Omi-AI-1/node_modules/.pnpm/next%4016.0.3_%40opentelemetry%2B_162ef2eee2977cfe0d3476575909914c/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../Omi-AI-1/node_modules/.pnpm/next%4016.0.3_%40opentelemetry%2B_162ef2eee2977cfe0d3476575909914c/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../Omi-AI-1/components/auth/login-page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\r\n\r\nimport { useEffect, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { getBrowserSupabaseClient } from \"@/lib/supabase-browser\";\r\nimport { useAuth } from \"@/context/auth-context\";\r\nimport { useGuestMode } from \"@/context/guest-mode-context\";\r\n\r\nexport function LoginPage() {\r\n  const router = useRouter();\r\n  const supabase = useMemo(() => getBrowserSupabaseClient(), []);\r\n  const { session, loading } = useAuth();\r\n  const { setGuestMode } = useGuestMode();\r\n\r\n  useEffect(() => {\r\n    if (session) {\r\n      router.replace(\"/chat\");\r\n    }\r\n  }, [router, session]);\r\n\r\n  const signInWithGoogle = async () => {\r\n    const { error } = await supabase.auth.signInWithOAuth({\r\n      provider: \"google\",\r\n      options: {\r\n        redirectTo: `${window.location.origin}/auth/callback`,\r\n        queryParams: {\r\n          access_type: \"offline\",\r\n          prompt: \"consent\",\r\n        },\r\n        skipBrowserRedirect: false,\r\n      },\r\n    });\r\n\r\n    if (error) {\r\n      console.error(\"Error signing in with Google\", error);\r\n      alert(`Error signing in with Google: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleGuestMode = () => {\r\n    setGuestMode(true);\r\n    router.push(\"/chat\");\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"login-page\">\r\n        <div className=\"login-container\">\r\n          <div className=\"login-card\">\r\n            <div className=\"loading-spinner\" />\r\n            <p className=\"loading-text\">Loading...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <div className=\"login-background-blur\" />\r\n      <div className=\"login-container\">\r\n        <div className=\"login-card\">\r\n          <div className=\"login-header\">\r\n            <h1 className=\"login-title\">Welcome to Omi AI</h1>\r\n            <p className=\"login-subtitle\">Sign in to start your AI conversation</p>\r\n          </div>\r\n\r\n          <div className=\"login-buttons\">\r\n            <button onClick={signInWithGoogle} className=\"login-google-btn\">\r\n              <svg\r\n                className=\"google-icon\"\r\n                viewBox=\"0 0 24 24\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <g transform=\"matrix(1, 0, 0, 1, 27.009001, -39.238998)\">\r\n                  <path\r\n                    fill=\"#4285F4\"\r\n                    d=\"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z\"\r\n                  />\r\n                  <path\r\n                    fill=\"#34A853\"\r\n                    d=\"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z\"\r\n                  />\r\n                  <path\r\n                    fill=\"#FBBC05\"\r\n                    d=\"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z\"\r\n                  />\r\n                  <path\r\n                    fill=\"#EA4335\"\r\n                    d=\"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              Continue with Google\r\n            </button>\r\n\r\n            <div className=\"divider\">\r\n              <span className=\"divider-text\">or</span>\r\n            </div>\r\n\r\n            <button onClick={handleGuestMode} className=\"login-guest-btn\">\r\n              <svg\r\n                className=\"guest-icon\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              >\r\n                <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\r\n                <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\r\n              </svg>\r\n              Continue as Guest\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"login-footer\">\r\n            <p className=\"login-info\">\r\n              <strong>Guest mode:</strong> Try without signing in. Your conversations won't be saved.\r\n            </p>\r\n            <p className=\"login-info\" style={{ marginTop: \"0.5rem\" }}>\r\n              By signing in, you agree to our Terms of Service and Privacy Policy\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2]}