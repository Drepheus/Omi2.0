module.exports=[51483,(a,b,c)=>{},70364,a=>{"use strict";var b=a.i(30703),c=a.i(57726),d=a.i(23155),e=a.i(64770);let f={toVector:(a,b)=>(void 0===a&&(a=b),Array.isArray(a)?a:[a,a]),add:(a,b)=>[a[0]+b[0],a[1]+b[1]],sub:(a,b)=>[a[0]-b[0],a[1]-b[1]],addTo(a,b){a[0]+=b[0],a[1]+=b[1]},subTo(a,b){a[0]-=b[0],a[1]-=b[1]}};function g(a,b,c){return 0===b||Math.abs(b)===1/0?Math.pow(a,5*c):a*b*c/(b+c*a)}function h(a,b,c,d=.15){return 0===d?Math.max(b,Math.min(a,c)):a<b?-g(b-a,c-b,d)+b:a>c?+g(a-c,c-b,d)+c:a}function i(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:String(d))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?j(Object(c),!0).forEach(function(b){i(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):j(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}let l={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function m(a){return a?a[0].toUpperCase()+a.slice(1):""}let n=["enter","leave"],o=["gotpointercapture","lostpointercapture"];function p(a){return"touches"in a}function q(a){return p(a)?"touch":"pointerType"in a?a.pointerType:"mouse"}function r(a){return p(a)?("touchend"===a.type||"touchcancel"===a.type?a.changedTouches:a.targetTouches)[0]:a}function s(a,b){try{let c=b.clientX-a.clientX,d=b.clientY-a.clientY,e=(b.clientX+a.clientX)/2,f=(b.clientY+a.clientY)/2,g=Math.hypot(c,d);return{angle:-(180*Math.atan2(c,d))/Math.PI,distance:g,origin:[e,f]}}catch(a){}return null}function t(a,b){let[c,d]=Array.from(a.touches).filter(a=>b.includes(a.identifier));return s(c,d)}function u(a){let b=r(a);return p(a)?b.identifier:b.pointerId}function v(a){let b=r(a);return[b.clientX,b.clientY]}function w(a){let{deltaX:b,deltaY:c,deltaMode:d}=a;return 1===d?(b*=40,c*=40):2===d&&(b*=800,c*=800),[b,c]}function x(a,...b){return"function"==typeof a?a(...b):a}function y(){}function z(a,b){return Object.assign({},b,a||{})}class A{constructor(a,b,c){this.ctrl=a,this.args=b,this.key=c,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(a){this.ctrl.state[this.key]=a}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:a,shared:b,ingKey:c,args:d}=this;b[c]=a._active=a.active=a._blocked=a._force=!1,a._step=[!1,!1],a.intentional=!1,a._movement=[0,0],a._distance=[0,0],a._direction=[0,0],a._delta=[0,0],a._bounds=[[-1/0,1/0],[-1/0,1/0]],a.args=d,a.axis=void 0,a.memo=void 0,a.elapsedTime=a.timeDelta=0,a.direction=[0,0],a.distance=[0,0],a.overflow=[0,0],a._movementBound=[!1,!1],a.velocity=[0,0],a.movement=[0,0],a.delta=[0,0],a.timeStamp=0}start(a){let b=this.state,c=this.config;b._active||(this.reset(),this.computeInitial(),b._active=!0,b.target=a.target,b.currentTarget=a.currentTarget,b.lastOffset=c.from?x(c.from,b):b.offset,b.offset=b.lastOffset,b.startTime=b.timeStamp=a.timeStamp)}computeValues(a){let b=this.state;b._values=a,b.values=this.config.transform(a)}computeInitial(){let a=this.state;a._initial=a._values,a.initial=a.values}compute(a){let{state:b,config:c,shared:d}=this;b.args=this.args;let e=0;if(a&&(b.event=a,c.preventDefault&&a.cancelable&&b.event.preventDefault(),b.type=a.type,d.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,d.locked=!!document.pointerLockElement,Object.assign(d,function(a){let b={};if("buttons"in a&&(b.buttons=a.buttons),"shiftKey"in a){let{shiftKey:c,altKey:d,metaKey:e,ctrlKey:f}=a;Object.assign(b,{shiftKey:c,altKey:d,metaKey:e,ctrlKey:f})}return b}(a)),d.down=d.pressed=d.buttons%2==1||d.touches>0,e=a.timeStamp-b.timeStamp,b.timeStamp=a.timeStamp,b.elapsedTime=b.timeStamp-b.startTime),b._active){let a=b._delta.map(Math.abs);f.addTo(b._distance,a)}this.axisIntent&&this.axisIntent(a);let[g,i]=b._movement,[j,k]=c.threshold,{_step:l,values:m}=b;if(c.hasCustomTransform?(!1===l[0]&&(l[0]=Math.abs(g)>=j&&m[0]),!1===l[1]&&(l[1]=Math.abs(i)>=k&&m[1])):(!1===l[0]&&(l[0]=Math.abs(g)>=j&&Math.sign(g)*j),!1===l[1]&&(l[1]=Math.abs(i)>=k&&Math.sign(i)*k)),b.intentional=!1!==l[0]||!1!==l[1],!b.intentional)return;let n=[0,0];if(c.hasCustomTransform){let[a,b]=m;n[0]=!1!==l[0]?a-l[0]:0,n[1]=!1!==l[1]?b-l[1]:0}else n[0]=!1!==l[0]?g-l[0]:0,n[1]=!1!==l[1]?i-l[1]:0;this.restrictToAxis&&!b._blocked&&this.restrictToAxis(n);let o=b.offset,p=b._active&&!b._blocked||b.active;p&&(b.first=b._active&&!b.active,b.last=!b._active&&b.active,b.active=d[this.ingKey]=b._active,a&&(b.first&&("bounds"in c&&(b._bounds=x(c.bounds,b)),this.setup&&this.setup()),b.movement=n,this.computeOffset()));let[q,r]=b.offset,[[s,t],[u,v]]=b._bounds;b.overflow=[q<s?-1:+(q>t),r<u?-1:+(r>v)],b._movementBound[0]=!!b.overflow[0]&&(!1===b._movementBound[0]?b._movement[0]:b._movementBound[0]),b._movementBound[1]=!!b.overflow[1]&&(!1===b._movementBound[1]?b._movement[1]:b._movementBound[1]);let w=b._active&&c.rubberband||[0,0];if(b.offset=function(a,[b,c],[d,e]){let[[f,g],[i,j]]=a;return[h(b,f,g,d),h(c,i,j,e)]}(b._bounds,b.offset,w),b.delta=f.sub(b.offset,o),this.computeMovement(),p&&(!b.last||e>32)){b.delta=f.sub(b.offset,o);let a=b.delta.map(Math.abs);f.addTo(b.distance,a),b.direction=b.delta.map(Math.sign),b._direction=b._delta.map(Math.sign),!b.first&&e>0&&(b.velocity=[a[0]/e,a[1]/e],b.timeDelta=e)}}emit(){let a=this.state,b=this.shared,c=this.config;if(a._active||this.clean(),(a._blocked||!a.intentional)&&!a._force&&!c.triggerAllEvents)return;let d=this.handler(k(k(k({},b),a),{},{[this.aliasKey]:a.values}));void 0!==d&&(a.memo=d)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class B extends A{constructor(...a){super(...a),i(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=f.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=f.sub(this.state.offset,this.state.lastOffset)}axisIntent(a){let b=this.state,c=this.config;if(!b.axis&&a){let d="object"==typeof c.axisThreshold?c.axisThreshold[q(a)]:c.axisThreshold;b.axis=function([a,b],c){let d=Math.abs(a),e=Math.abs(b);return d>e&&d>c?"x":e>d&&e>c?"y":void 0}(b._movement,d)}b._blocked=(c.lockDirection||!!c.axis)&&!b.axis||!!c.axis&&c.axis!==b.axis}restrictToAxis(a){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":a[1]=0;break;case"y":a[0]=0}}}let C=a=>a,D={enabled:(a=!0)=>a,eventOptions:(a,b,c)=>k(k({},c.shared.eventOptions),a),preventDefault:(a=!1)=>a,triggerAllEvents:(a=!1)=>a,rubberband(a=0){switch(a){case!0:return[.15,.15];case!1:return[0,0];default:return f.toVector(a)}},from:a=>"function"==typeof a?a:null!=a?f.toVector(a):void 0,transform(a,b,c){let d=a||c.shared.transform;return this.hasCustomTransform=!!d,d||C},threshold:a=>f.toVector(a,0)},E=0,F=k(k({},D),{},{axis(a,b,{axis:c}){if(this.lockDirection="lock"===c,!this.lockDirection)return c},axisThreshold:(a=E)=>a,bounds(a={}){if("function"==typeof a)return b=>F.bounds(a(b));if("current"in a)return()=>a.current;if("function"==typeof HTMLElement&&a instanceof HTMLElement)return a;let{left:b=-1/0,right:c=1/0,top:d=-1/0,bottom:e=1/0}=a;return[[b,c],[d,e]]}}),G={ArrowRight:(a,b=1)=>[a*b,0],ArrowLeft:(a,b=1)=>[-1*a*b,0],ArrowUp:(a,b=1)=>[0,-1*a*b],ArrowDown:(a,b=1)=>[0,a*b]},H={isBrowser:!1,gesture:function(){try{return"constructor"in GestureEvent}catch(a){return!1}}(),touch:!1,touchscreen:!1,pointer:!1,pointerLock:!1},I=10,J={mouse:0,touch:0,pen:8},K=k(k({},F),{},{device(a,b,{pointer:{touch:c=!1,lock:d=!1,mouse:e=!1}={}}){return(this.pointerLock=d&&H.pointerLock,H.touch&&c)?"touch":this.pointerLock?"mouse":H.pointer&&!e?"pointer":H.touch?"touch":"mouse"},preventScrollAxis(a,b,{preventScroll:c}){if(this.preventScrollDelay="number"==typeof c?c:c||void 0===c&&a?250:void 0,H.touchscreen&&!1!==c)return a||(void 0!==c?"y":void 0)},pointerCapture(a,b,{pointer:{capture:c=!0,buttons:d=1,keys:e=!0}={}}){return this.pointerButtons=d,this.keys=e,!this.pointerLock&&"pointer"===this.device&&c},threshold(a,b,{filterTaps:c=!1,tapsThreshold:d=3,axis:e}){let g=f.toVector(a,c?d:+!!e);return this.filterTaps=c,this.tapsThreshold=d,g},swipe({velocity:a=.5,distance:b=50,duration:c=250}={}){return{velocity:this.transform(f.toVector(a)),distance:this.transform(f.toVector(b)),duration:c}},delay(a=0){switch(a){case!0:return 180;case!1:return 0;default:return a}},axisThreshold:a=>a?k(k({},J),a):J,keyboardDisplacement:(a=I)=>a});function L(a){let[b,c]=a.overflow,[d,e]=a._delta,[f,g]=a._direction;(b<0&&d>0&&f<0||b>0&&d<0&&f>0)&&(a._movement[0]=a._movementBound[0]),(c<0&&e>0&&g<0||c>0&&e<0&&g>0)&&(a._movement[1]=a._movementBound[1])}let M=k(k({},D),{},{device(a,b,{shared:c,pointer:{touch:d=!1}={}}){if(c.target&&!H.touch&&H.gesture)return"gesture";if(H.touch&&d)return"touch";if(H.touchscreen){if(H.pointer)return"pointer";if(H.touch)return"touch"}},bounds(a,b,{scaleBounds:c={},angleBounds:d={}}){let e=a=>{let b=z(x(c,a),{min:-1/0,max:1/0});return[b.min,b.max]},f=a=>{let b=z(x(d,a),{min:-1/0,max:1/0});return[b.min,b.max]};return"function"!=typeof c&&"function"!=typeof d?[e(),f()]:a=>[e(a),f(a)]},threshold(a,b,c){return this.lockDirection="lock"===c.axis,f.toVector(a,this.lockDirection?[.1,3]:0)},modifierKey:a=>void 0===a?"ctrlKey":a,pinchOnWheel:(a=!0)=>a}),N=k(k({},F),{},{mouseOnly:(a=!0)=>a}),O=k(k({},F),{},{mouseOnly:(a=!0)=>a}),P=new Map,Q=new Map;function R(a){P.set(a.key,a.engine),Q.set(a.key,a.resolver)}let S={key:"drag",engine:class extends B{constructor(...a){super(...a),i(this,"ingKey","dragging")}reset(){super.reset();let a=this.state;a._pointerId=void 0,a._pointerActive=!1,a._keyboardActive=!1,a._preventScroll=!1,a._delayed=!1,a.swipe=[0,0],a.tap=!1,a.canceled=!1,a.cancel=this.cancel.bind(this)}setup(){let a=this.state;if(a._bounds instanceof HTMLElement){let b=a._bounds.getBoundingClientRect(),c=a.currentTarget.getBoundingClientRect(),d={left:b.left-c.left+a.offset[0],right:b.right-c.right+a.offset[0],top:b.top-c.top+a.offset[1],bottom:b.bottom-c.bottom+a.offset[1]};a._bounds=F.bounds(d)}}cancel(){let a=this.state;a.canceled||(a.canceled=!0,a._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(a){let b=this.config,c=this.state;if(null!=a.buttons&&(Array.isArray(b.pointerButtons)?!b.pointerButtons.includes(a.buttons):-1!==b.pointerButtons&&b.pointerButtons!==a.buttons))return;let d=this.ctrl.setEventIds(a);b.pointerCapture&&a.target.setPointerCapture(a.pointerId),d&&d.size>1&&c._pointerActive||(this.start(a),this.setupPointer(a),c._pointerId=u(a),c._pointerActive=!0,this.computeValues(v(a)),this.computeInitial(),b.preventScrollAxis&&"mouse"!==q(a)?(c._active=!1,this.setupScrollPrevention(a)):b.delay>0?(this.setupDelayTrigger(a),b.triggerAllEvents&&(this.compute(a),this.emit())):this.startPointerDrag(a))}startPointerDrag(a){let b=this.state;b._active=!0,b._preventScroll=!0,b._delayed=!1,this.compute(a),this.emit()}pointerMove(a){let b=this.state,c=this.config;if(!b._pointerActive)return;let d=u(a);if(void 0!==b._pointerId&&d!==b._pointerId)return;let e=v(a);if(document.pointerLockElement===a.target?b._delta=[a.movementX,a.movementY]:(b._delta=f.sub(e,b._values),this.computeValues(e)),f.addTo(b._movement,b._delta),this.compute(a),b._delayed&&b.intentional){this.timeoutStore.remove("dragDelay"),b.active=!1,this.startPointerDrag(a);return}if(c.preventScrollAxis&&!b._preventScroll)if(!b.axis)return;else if(b.axis===c.preventScrollAxis||"xy"===c.preventScrollAxis){b._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(a);return}this.emit()}pointerUp(a){this.ctrl.setEventIds(a);try{this.config.pointerCapture&&a.target.hasPointerCapture(a.pointerId)&&a.target.releasePointerCapture(a.pointerId)}catch(a){}let b=this.state,c=this.config;if(!b._active||!b._pointerActive)return;let d=u(a);if(void 0!==b._pointerId&&d!==b._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(a);let[e,f]=b._distance;if(b.tap=e<=c.tapsThreshold&&f<=c.tapsThreshold,b.tap&&c.filterTaps)b._force=!0;else{let[a,d]=b._delta,[e,f]=b._movement,[g,h]=c.swipe.velocity,[i,j]=c.swipe.distance,k=c.swipe.duration;if(b.elapsedTime<k){let c=Math.abs(a/b.timeDelta),k=Math.abs(d/b.timeDelta);c>g&&Math.abs(e)>i&&(b.swipe[0]=Math.sign(a)),k>h&&Math.abs(f)>j&&(b.swipe[1]=Math.sign(d))}}this.emit()}pointerClick(a){!this.state.tap&&a.detail>0&&(a.preventDefault(),a.stopPropagation())}setupPointer(a){let b=this.config,c=b.device;b.pointerLock&&a.currentTarget.requestPointerLock(),b.pointerCapture||(this.eventStore.add(this.sharedConfig.window,c,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,c,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,c,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(a){this.state._preventScroll&&a.cancelable&&a.preventDefault()}setupScrollPrevention(a){var b;this.state._preventScroll=!1,"persist"in(b=a)&&"function"==typeof b.persist&&b.persist();let c=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",c),this.eventStore.add(this.sharedConfig.window,"touch","cancel",c),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,a)}setupDelayTrigger(a){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(a)},this.config.delay)}keyDown(a){let b=G[a.key];if(b){let c=this.state,d=a.shiftKey?10:a.altKey?.1:1;this.start(a),c._delta=b(this.config.keyboardDisplacement,d),c._keyboardActive=!0,f.addTo(c._movement,c._delta),this.compute(a),this.emit()}}keyUp(a){a.key in G&&(this.state._keyboardActive=!1,this.setActive(),this.compute(a),this.emit())}bind(a){let b=this.config.device;a(b,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(a(b,"change",this.pointerMove.bind(this)),a(b,"end",this.pointerUp.bind(this)),a(b,"cancel",this.pointerUp.bind(this)),a("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(a("key","down",this.keyDown.bind(this)),a("key","up",this.keyUp.bind(this))),this.config.filterTaps&&a("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:K},T={key:"hover",engine:class extends B{constructor(...a){super(...a),i(this,"ingKey","hovering")}enter(a){this.config.mouseOnly&&"mouse"!==a.pointerType||(this.start(a),this.computeValues(v(a)),this.compute(a),this.emit())}leave(a){if(this.config.mouseOnly&&"mouse"!==a.pointerType)return;let b=this.state;if(!b._active)return;b._active=!1;let c=v(a);b._movement=b._delta=f.sub(c,b._values),this.computeValues(c),this.compute(a),b.delta=b.movement,this.emit()}bind(a){a("pointer","enter",this.enter.bind(this)),a("pointer","leave",this.leave.bind(this))}},resolver:O},U={key:"move",engine:class extends B{constructor(...a){super(...a),i(this,"ingKey","moving")}move(a){this.config.mouseOnly&&"mouse"!==a.pointerType||(this.state._active?this.moveChange(a):this.moveStart(a),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(a){this.start(a),this.computeValues(v(a)),this.compute(a),this.computeInitial(),this.emit()}moveChange(a){if(!this.state._active)return;let b=v(a),c=this.state;c._delta=f.sub(b,c._values),f.addTo(c._movement,c._delta),this.computeValues(b),this.compute(a),this.emit()}moveEnd(a){this.state._active&&(this.state._active=!1,this.compute(a),this.emit())}bind(a){a("pointer","change",this.move.bind(this)),a("pointer","leave",this.moveEnd.bind(this))}},resolver:N},V={key:"pinch",engine:class extends A{constructor(...a){super(...a),i(this,"ingKey","pinching"),i(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let a=this.state;a._touchIds=[],a.canceled=!1,a.cancel=this.cancel.bind(this),a.turns=0}computeOffset(){let{type:a,movement:b,lastOffset:c}=this.state;"wheel"===a?this.state.offset=f.add(b,c):this.state.offset=[(1+b[0])*c[0],b[1]+c[1]]}computeMovement(){let{offset:a,lastOffset:b}=this.state;this.state.movement=[a[0]/b[0],a[1]-b[1]]}axisIntent(){let a=this.state,[b,c]=a._movement;if(!a.axis){let d=30*Math.abs(b)-Math.abs(c);d<0?a.axis="angle":d>0&&(a.axis="scale")}}restrictToAxis(a){this.config.lockDirection&&("scale"===this.state.axis?a[1]=0:"angle"===this.state.axis&&(a[0]=0))}cancel(){let a=this.state;a.canceled||setTimeout(()=>{a.canceled=!0,a._active=!1,this.compute(),this.emit()},0)}touchStart(a){this.ctrl.setEventIds(a);let b=this.state,c=this.ctrl.touchIds;if(b._active&&b._touchIds.every(a=>c.has(a))||c.size<2)return;this.start(a),b._touchIds=Array.from(c).slice(0,2);let d=t(a,b._touchIds);d&&this.pinchStart(a,d)}pointerStart(a){if(null!=a.buttons&&a.buttons%2!=1)return;this.ctrl.setEventIds(a),a.target.setPointerCapture(a.pointerId);let b=this.state,c=b._pointerEvents,d=this.ctrl.pointerIds;if(b._active&&Array.from(c.keys()).every(a=>d.has(a))||(c.size<2&&c.set(a.pointerId,a),b._pointerEvents.size<2))return;this.start(a);let e=s(...Array.from(c.values()));e&&this.pinchStart(a,e)}pinchStart(a,b){this.state.origin=b.origin,this.computeValues([b.distance,b.angle]),this.computeInitial(),this.compute(a),this.emit()}touchMove(a){if(!this.state._active)return;let b=t(a,this.state._touchIds);b&&this.pinchMove(a,b)}pointerMove(a){let b=this.state._pointerEvents;if(b.has(a.pointerId)&&b.set(a.pointerId,a),!this.state._active)return;let c=s(...Array.from(b.values()));c&&this.pinchMove(a,c)}pinchMove(a,b){let c=this.state,d=c._values[1],e=b.angle-d,f=0;Math.abs(e)>270&&(f+=Math.sign(e)),this.computeValues([b.distance,b.angle-360*f]),c.origin=b.origin,c.turns=f,c._movement=[c._values[0]/c._initial[0]-1,c._values[1]-c._initial[1]],this.compute(a),this.emit()}touchEnd(a){this.ctrl.setEventIds(a),this.state._active&&this.state._touchIds.some(a=>!this.ctrl.touchIds.has(a))&&(this.state._active=!1,this.compute(a),this.emit())}pointerEnd(a){let b=this.state;this.ctrl.setEventIds(a);try{a.target.releasePointerCapture(a.pointerId)}catch(a){}b._pointerEvents.has(a.pointerId)&&b._pointerEvents.delete(a.pointerId),b._active&&b._pointerEvents.size<2&&(b._active=!1,this.compute(a),this.emit())}gestureStart(a){a.cancelable&&a.preventDefault();let b=this.state;b._active||(this.start(a),this.computeValues([a.scale,a.rotation]),b.origin=[a.clientX,a.clientY],this.compute(a),this.emit())}gestureMove(a){if(a.cancelable&&a.preventDefault(),!this.state._active)return;let b=this.state;this.computeValues([a.scale,a.rotation]),b.origin=[a.clientX,a.clientY];let c=b._movement;b._movement=[a.scale-1,a.rotation],b._delta=f.sub(b._movement,c),this.compute(a),this.emit()}gestureEnd(a){this.state._active&&(this.state._active=!1,this.compute(a),this.emit())}wheel(a){let b=this.config.modifierKey;(!b||(Array.isArray(b)?b.find(b=>a[b]):a[b]))&&(this.state._active?this.wheelChange(a):this.wheelStart(a),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(a){this.start(a),this.wheelChange(a)}wheelChange(a){"uv"in a||a.cancelable&&a.preventDefault();let b=this.state;b._delta=[-w(a)[1]/100*b.offset[0],0],f.addTo(b._movement,b._delta),L(b),this.state.origin=[a.clientX,a.clientY],this.compute(a),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(a){let b=this.config.device;b&&(a(b,"start",this[b+"Start"].bind(this)),a(b,"change",this[b+"Move"].bind(this)),a(b,"end",this[b+"End"].bind(this)),a(b,"cancel",this[b+"End"].bind(this)),a("lostPointerCapture","",this[b+"End"].bind(this))),this.config.pinchOnWheel&&a("wheel","",this.wheel.bind(this),{passive:!1})}},resolver:M},W={key:"scroll",engine:class extends B{constructor(...a){super(...a),i(this,"ingKey","scrolling")}scroll(a){this.state._active||this.start(a),this.scrollChange(a),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(a){a.cancelable&&a.preventDefault();let b=this.state,c=function(a){var b,c;let{scrollX:d,scrollY:e,scrollLeft:f,scrollTop:g}=a.currentTarget;return[null!=(b=null!=d?d:f)?b:0,null!=(c=null!=e?e:g)?c:0]}(a);b._delta=f.sub(c,b._values),f.addTo(b._movement,b._delta),this.computeValues(c),this.compute(a),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(a){a("scroll","",this.scroll.bind(this))}},resolver:F},X={key:"wheel",engine:class extends B{constructor(...a){super(...a),i(this,"ingKey","wheeling")}wheel(a){this.state._active||this.start(a),this.wheelChange(a),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(a){let b=this.state;b._delta=w(a),f.addTo(b._movement,b._delta),L(b),this.compute(a),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(a){a("wheel","",this.wheel.bind(this))}},resolver:F},Y={target(a){if(a)return()=>"current"in a?a.current:a},enabled:(a=!0)=>a,window:(a=H.isBrowser?window:void 0)=>a,eventOptions:({passive:a=!0,capture:b=!1}={})=>({passive:a,capture:b}),transform:a=>a},Z=["target","eventOptions","window","enabled","transform"];function $(a={},b){let c={};for(let[d,e]of Object.entries(b))switch(typeof e){case"function":c[d]=e.call(c,a[d],d,a);break;case"object":c[d]=$(a[d],e);break;case"boolean":e&&(c[d]=a[d])}return c}class _{constructor(a,b){i(this,"_listeners",new Set),this._ctrl=a,this._gestureKey=b}add(a,b,c,d,e){let f=this._listeners,g=function(a,b=""){let c=l[a];return a+(c&&c[b]||b)}(b,c),h=k(k({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),e);a.addEventListener(g,d,h);let i=()=>{a.removeEventListener(g,d,h),f.delete(i)};return f.add(i),i}clean(){this._listeners.forEach(a=>a()),this._listeners.clear()}}class aa{constructor(){i(this,"_timeouts",new Map)}add(a,b,c=140,...d){this.remove(a),this._timeouts.set(a,window.setTimeout(b,c,...d))}remove(a){let b=this._timeouts.get(a);b&&window.clearTimeout(b)}clean(){this._timeouts.forEach(a=>void window.clearTimeout(a)),this._timeouts.clear()}}class ab{constructor(a){i(this,"gestures",new Set),i(this,"_targetEventStore",new _(this)),i(this,"gestureEventStores",{}),i(this,"gestureTimeoutStores",{}),i(this,"handlers",{}),i(this,"config",{}),i(this,"pointerIds",new Set),i(this,"touchIds",new Set),i(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(a,b){b.drag&&ac(a,"drag"),b.wheel&&ac(a,"wheel"),b.scroll&&ac(a,"scroll"),b.move&&ac(a,"move"),b.pinch&&ac(a,"pinch"),b.hover&&ac(a,"hover")}(this,a)}setEventIds(a){if(p(a))return this.touchIds=new Set(Array.from(a.touches).filter(b=>{var c,d;return b.target===a.currentTarget||(null==(c=a.currentTarget)||null==(d=c.contains)?void 0:d.call(c,b.target))}).map(a=>a.identifier)),this.touchIds;if("pointerId"in a)return"pointerup"===a.type||"pointercancel"===a.type?this.pointerIds.delete(a.pointerId):"pointerdown"===a.type&&this.pointerIds.add(a.pointerId),this.pointerIds}applyHandlers(a,b){this.handlers=a,this.nativeHandlers=b}applyConfig(a,b){this.config=function(a,b,c={}){let{target:d,eventOptions:e,window:f,enabled:g,transform:h}=a,i=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,Z);if(c.shared=$({target:d,eventOptions:e,window:f,enabled:g,transform:h},Y),b){let a=Q.get(b);c[b]=$(k({shared:c.shared},i),a)}else for(let a in i){let b=Q.get(a);b&&(c[a]=$(k({shared:c.shared},i[a]),b))}return c}(a,b,this.config)}clean(){for(let a of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[a].clean(),this.gestureTimeoutStores[a].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...a){let b,c=this.config.shared,d={};if(!c.target||(b=c.target())){if(c.enabled){for(let c of this.gestures){let e=this.config[c],f=ad(d,e.eventOptions,!!b);e.enabled&&new(P.get(c))(this,a,c).bind(f)}let e=ad(d,c.eventOptions,!!b);for(let b in this.nativeHandlers)e(b,"",c=>this.nativeHandlers[b](k(k({},this.state.shared),{},{event:c,args:a})),void 0,!0)}for(let a in d)d[a]=function(...a){return 0===a.length?y:1===a.length?a[0]:function(){let b;for(let c of a)b=c.apply(this,arguments)||b;return b}}(...d[a]);if(!b)return d;for(let a in d){let{device:c,capture:e,passive:f}=function(a){let b=a.substring(2).toLowerCase(),c=!!~b.indexOf("passive");c&&(b=b.replace("passive",""));let d=o.includes(b)?"capturecapture":"capture",e=!!~b.indexOf(d);return e&&(b=b.replace("capture","")),{device:b,capture:e,passive:c}}(a);this._targetEventStore.add(b,c,"",d[a],{capture:e,passive:f})}}}}function ac(a,b){a.gestures.add(b),a.gestureEventStores[b]=new _(a,b),a.gestureTimeoutStores[b]=new aa}let ad=(a,b,c)=>(d,e,f,g={},h=!1)=>{var i,j;let k=null!=(i=g.capture)?i:b.capture,o=null!=(j=g.passive)?j:b.passive,p=h?d:function(a,b="",c=!1){let d=l[a],e=d&&d[b]||b;return"on"+m(a)+m(e)+(!function(a=!1,b){return a&&!n.includes(b)}(c,e)?"":"Capture")}(d,e,k);c&&o&&(p+="Passive"),a[p]=a[p]||[],a[p].push(f)},ae=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function af(a,b,c,d,e,f){if(!a.has(c)||!P.has(d))return;let g=c+"Start",h=c+"End";e[d]=a=>{let d;return a.first&&g in b&&b[g](a),c in b&&(d=b[c](a)),a.last&&h in b&&b[h](a),d},f[d]=f[d]||{}}a.i(51483);let ag=[{src:"https://images.unsplash.com/photo-1755331039789-7e5680e26e8f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Abstract art"},{src:"https://images.unsplash.com/photo-1755569309049-98410b94f66d?q=80&w=772&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Modern sculpture"},{src:"https://images.unsplash.com/photo-1755497595318-7e5e3523854f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Digital artwork"},{src:"https://images.unsplash.com/photo-1755353985163-c2a0fe5ac3d8?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Contemporary art"},{src:"https://images.unsplash.com/photo-1745965976680-d00be7dc0377?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Geometric pattern"},{src:"https://images.unsplash.com/photo-1752588975228-21f44630bb3c?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Textured surface"},{src:"https://pbs.twimg.com/media/Gyla7NnXMAAXSo_?format=jpg&name=large",alt:"Social media image"}],ah=(a,b,c)=>Math.min(Math.max(a,b),c),ai=a=>(a%360+360)%360,aj=a=>((a+180)%360+360)%360-180,ak=(a,b,c)=>{let d=a.dataset[b]??a.getAttribute(`data-${b}`),e=null==d?NaN:parseFloat(d);return Number.isFinite(e)?e:c};function al({images:a=ag,fit:c=.5,fitBasis:e="auto",minRadius:f=600,maxRadius:g=1/0,padFactor:h=.25,overlayBlurColor:i="#060010",maxVerticalRotationDeg:j=5,dragSensitivity:k=20,enlargeTransitionMs:l=300,segments:m=35,dragDampening:n=2,openedImageWidth:o="400px",openedImageHeight:p="400px",imageBorderRadius:q="30px",openedImageBorderRadius:r="30px",grayscale:s=!0}){var t,u;let v=(0,d.useRef)(null),w=(0,d.useRef)(null),x=(0,d.useRef)(null),y=(0,d.useRef)(null),z=(0,d.useRef)(null),A=(0,d.useRef)(null),B=(0,d.useRef)(null),C=(0,d.useRef)(null),D=(0,d.useRef)({x:0,y:0}),E=(0,d.useRef)({x:0,y:0}),F=(0,d.useRef)(null),G=(0,d.useRef)(!1),H=(0,d.useRef)(!1),I=(0,d.useRef)(null),J=(0,d.useRef)(!1),K=(0,d.useRef)(0),L=(0,d.useRef)(0),M=(0,d.useRef)(!1),N=(0,d.useCallback)(()=>{M.current||(M.current=!0,document.body.classList.add("dg-scroll-lock"))},[]),O=(0,d.useCallback)(()=>{M.current&&v.current?.getAttribute("data-enlarging")!=="true"&&(M.current=!1,document.body.classList.remove("dg-scroll-lock"))},[]),P=(0,d.useMemo)(()=>(function(a,b){let c=Array.from({length:b},(a,b)=>-37+2*b),d=[-4,-2,0,2,4],e=[-3,-1,1,3,5],f=c.flatMap((a,b)=>(b%2==0?d:e).map(b=>({x:a,y:b,sizeX:2,sizeY:2}))),g=f.length;if(0===a.length)return f.map(a=>({...a,src:"",alt:""}));a.length>g&&console.warn(`[DomeGallery] Provided image count (${a.length}) exceeds available tiles (${g}). Some images will not be shown.`);let h=a.map(a=>"string"==typeof a?{src:a,alt:""}:{src:a.src||"",alt:a.alt||""}),i=Array.from({length:g},(a,b)=>h[b%h.length]);for(let a=1;a<i.length;a++)if(i[a].src===i[a-1].src){for(let b=a+1;b<i.length;b++)if(i[b].src!==i[a].src){let c=i[a];i[a]=i[b],i[b]=c;break}}return f.map((a,b)=>({...a,src:i[b].src,alt:i[b].alt}))})(a,m),[a,m]),Q=(a,b)=>{let c=x.current;c&&(c.style.transform=`translateZ(calc(var(--radius) * -1)) rotateX(${a}deg) rotateY(${b}deg)`)},Y=(0,d.useRef)(null);(0,d.useEffect)(()=>{let a=v.current;if(!a)return;let b=new ResizeObserver(b=>{let d,j=b[0].contentRect,k=Math.max(1,j.width),l=Math.max(1,j.height),m=Math.min(k,l),n=Math.max(k,l);switch(e){case"min":d=m;break;case"max":d=n;break;case"width":d=k;break;case"height":d=l;break;default:d=k/l>=1.3?k:m}let t=d*c;Y.current=Math.round(t=ah(t=Math.min(t,1.35*l),f,g));let u=Math.max(8,Math.round(m*h));a.style.setProperty("--radius",`${Y.current}px`),a.style.setProperty("--viewer-pad",`${u}px`),a.style.setProperty("--overlay-blur-color",i),a.style.setProperty("--tile-radius",q),a.style.setProperty("--enlarge-radius",r),a.style.setProperty("--image-filter",s?"grayscale(1)":"none"),Q(D.current.x,D.current.y);let v=z.current?.querySelector(".enlarge");if(v&&y.current&&w.current){let a=y.current.getBoundingClientRect(),b=w.current.getBoundingClientRect();if(o&&p){let c=document.createElement("div");c.style.cssText=`position: absolute; width: ${o}; height: ${p}; visibility: hidden;`,document.body.appendChild(c);let d=c.getBoundingClientRect();document.body.removeChild(c);let e=a.left-b.left+(a.width-d.width)/2,f=a.top-b.top+(a.height-d.height)/2;v.style.left=`${e}px`,v.style.top=`${f}px`}else v.style.left=`${a.left-b.left}px`,v.style.top=`${a.top-b.top}px`,v.style.width=`${a.width}px`,v.style.height=`${a.height}px`}});return b.observe(a),()=>b.disconnect()},[c,e,f,g,h,i,s,q,r,o,p]),(0,d.useEffect)(()=>{Q(D.current.x,D.current.y)},[]);let Z=(0,d.useCallback)(()=>{I.current&&(cancelAnimationFrame(I.current),I.current=null)},[]),$=(0,d.useCallback)((a,b)=>{let c=80*ah(a,-1.4,1.4),d=80*ah(b,-1.4,1.4),e=0,f=ah(n??.6,0,1),g=.94+.055*f,h=.015-.01*f,i=Math.round(90+270*f),k=()=>{if(c*=g,d*=g,Math.abs(c)<h&&Math.abs(d)<h||++e>i){I.current=null;return}let a=ah(D.current.x-d/200,-j,j),b=aj(D.current.y+c/200);D.current={x:a,y:b},Q(a,b),I.current=requestAnimationFrame(k)};Z(),I.current=requestAnimationFrame(k)},[n,j,Z]);t={onDragStart:({event:a})=>{B.current||(Z(),G.current=!0,H.current=!1,E.current={...D.current},F.current={x:a.clientX,y:a.clientY})},onDrag:({event:a,last:b,velocity:c=[0,0],direction:d=[0,0],movement:e})=>{if(B.current||!G.current||!F.current)return;let f=a.clientX-F.current.x,g=a.clientY-F.current.y;!H.current&&f*f+g*g>16&&(H.current=!0);let h=ah(E.current.x-g/k,-j,j),i=aj(E.current.y+f/k);if((D.current.x!==h||D.current.y!==i)&&(D.current={x:h,y:i},Q(h,i)),b){G.current=!1;let[a,b]=c,[f,g]=d,h=a*f,i=b*g;if(.001>Math.abs(h)&&.001>Math.abs(i)&&Array.isArray(e)){let[a,b]=e;h=ah(a/k*.02,-1.2,1.2),i=ah(b/k*.02,-1.2,1.2)}(Math.abs(h)>.005||Math.abs(i)>.005)&&$(h,i),H.current&&(L.current=performance.now()),H.current=!1}}},u={target:w,eventOptions:{passive:!0}},([S,V,W,X,U,T].forEach(R),function(a,b){let{handlers:c,nativeHandlers:e,config:f}=function(a,b){let[c,d,e]=function(a){let b={},c={},d=new Set;for(let e in a)ae.test(e)?(d.add(RegExp.lastMatch),c[e]=a[e]):b[e]=a[e];return[c,b,d]}(a),f={};return af(e,c,"onDrag","drag",f,b),af(e,c,"onWheel","wheel",f,b),af(e,c,"onScroll","scroll",f,b),af(e,c,"onPinch","pinch",f,b),af(e,c,"onMove","move",f,b),af(e,c,"onHover","hover",f,b),{handlers:f,config:b,nativeHandlers:d}}(a,b||{});return function(a,b={},c,e){let f=d.default.useMemo(()=>new ab(a),[]);if(f.applyHandlers(a,e),f.applyConfig(b,c),d.default.useEffect(f.effect.bind(f)),d.default.useEffect(()=>f.clean.bind(f),[]),void 0===b.target)return f.bind.bind(f)}(c,f,void 0,e)})(t,u||{});let _=a=>{let b;if(J.current)return;J.current=!0,K.current=performance.now(),N();let c=a.parentElement;B.current=a,a.setAttribute("data-focused","true");let d=ak(c,"offsetX",0),e=ak(c,"offsetY",0),f=ak(c,"sizeX",2),g=ak(c,"sizeY",2),h={rotateX:(b=360/m/2)*(e-(g-1)/2),rotateY:b*(d+(f-1)/2)},i=-(ai(h.rotateY)+ai(D.current.y))%360;i<-180&&(i+=360);let j=-h.rotateX-D.current.x;c.style.setProperty("--rot-y-delta",`${i}deg`),c.style.setProperty("--rot-x-delta",`${j}deg`);let k=document.createElement("div");k.className="item__image item__image--reference",k.style.opacity="0",k.style.transform=`rotateX(${-h.rotateX}deg) rotateY(${-h.rotateY}deg)`,c.appendChild(k),k.offsetHeight;let n=k.getBoundingClientRect(),q=w.current?.getBoundingClientRect(),r=y.current?.getBoundingClientRect();if(!q||!r||n.width<=0||n.height<=0){J.current=!1,B.current=null,c.removeChild(k),O();return}C.current={left:n.left,top:n.top,width:n.width,height:n.height},a.style.visibility="hidden",a.style.zIndex=0;let s=document.createElement("div");s.className="enlarge",s.style.position="absolute",s.style.left=r.left-q.left+"px",s.style.top=r.top-q.top+"px",s.style.width=r.width+"px",s.style.height=r.height+"px",s.style.opacity="0",s.style.zIndex="30",s.style.willChange="transform, opacity",s.style.transformOrigin="top left",s.style.transition=`transform ${l}ms ease, opacity ${l}ms ease`;let t=c.dataset.src||a.querySelector("img")?.src||"",u=document.createElement("img");u.src=t,s.appendChild(u),z.current.appendChild(s);let x=n.left-r.left,A=n.top-r.top,E=n.width/r.width,F=n.height/r.height,G=isFinite(E)&&E>0?E:1,H=isFinite(F)&&F>0?F:1;if(s.style.transform=`translate(${x}px, ${A}px) scale(${G}, ${H})`,setTimeout(()=>{s.parentElement&&(s.style.opacity="1",s.style.transform="translate(0px, 0px) scale(1, 1)",v.current?.setAttribute("data-enlarging","true"))},16),o||p){let a=b=>{if("transform"!==b.propertyName)return;s.removeEventListener("transitionend",a);let c=s.style.transition;s.style.transition="none";let d=o||`${r.width}px`,e=p||`${r.height}px`;s.style.width=d,s.style.height=e;let f=s.getBoundingClientRect();s.style.width=r.width+"px",s.style.height=r.height+"px",s.offsetWidth,s.style.transition=`left ${l}ms ease, top ${l}ms ease, width ${l}ms ease, height ${l}ms ease`;let g=r.left-q.left+(r.width-f.width)/2,h=r.top-q.top+(r.height-f.height)/2;requestAnimationFrame(()=>{s.style.left=`${g}px`,s.style.top=`${h}px`,s.style.width=d,s.style.height=e});let i=()=>{s.removeEventListener("transitionend",i),s.style.transition=c};s.addEventListener("transitionend",i,{once:!0})};s.addEventListener("transitionend",a)}},aa=(0,d.useCallback)(a=>{G.current||H.current||performance.now()-L.current<80||J.current||_(a.currentTarget)},[_]),ac=(0,d.useCallback)(a=>{"touch"!==a.pointerType||G.current||H.current||performance.now()-L.current<80||J.current||_(a.currentTarget)},[_]);return(0,d.useEffect)(()=>{let a=A.current;if(!a)return;let b=()=>{if(performance.now()-K.current<250)return;let a=B.current;if(!a)return;let b=a.parentElement,c=z.current?.querySelector(".enlarge");if(!c)return;let d=b.querySelector(".item__image--reference"),e=C.current;if(!e){c.remove(),d&&d.remove(),b.style.setProperty("--rot-y-delta","0deg"),b.style.setProperty("--rot-x-delta","0deg"),a.style.visibility="",a.style.zIndex=0,B.current=null,v.current?.removeAttribute("data-enlarging"),J.current=!1,O();return}let f=c.getBoundingClientRect(),g=v.current.getBoundingClientRect(),h={left:e.left-g.left,top:e.top-g.top,width:e.width,height:e.height},i={left:f.left-g.left,top:f.top-g.top,width:f.width,height:f.height},j=document.createElement("div");j.className="enlarge-closing",j.style.cssText=`
        position: absolute;
        left: ${i.left}px;
        top: ${i.top}px;
        width: ${i.width}px;
        height: ${i.height}px;
        z-index: 9999;
        border-radius: var(--enlarge-radius, 32px);
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,.35);
        transition: all ${l}ms ease-out;
        pointer-events: none;
        margin: 0;
        transform: none;
      `;let k=c.querySelector("img");if(k){let a=k.cloneNode();a.style.cssText="width: 100%; height: 100%; object-fit: cover;",j.appendChild(a)}c.remove(),v.current.appendChild(j),j.getBoundingClientRect(),requestAnimationFrame(()=>{j.style.left=h.left+"px",j.style.top=h.top+"px",j.style.width=h.width+"px",j.style.height=h.height+"px",j.style.opacity="0"}),j.addEventListener("transitionend",()=>{j.remove(),C.current=null,d&&d.remove(),b.style.transition="none",a.style.transition="none",b.style.setProperty("--rot-y-delta","0deg"),b.style.setProperty("--rot-x-delta","0deg"),requestAnimationFrame(()=>{a.style.visibility="",a.style.opacity="0",a.style.zIndex=0,B.current=null,v.current?.removeAttribute("data-enlarging"),requestAnimationFrame(()=>{b.style.transition="",a.style.transition="opacity 300ms ease-out",requestAnimationFrame(()=>{a.style.opacity="1",setTimeout(()=>{a.style.transition="",a.style.opacity="",J.current=!1,G.current||v.current?.getAttribute("data-enlarging")==="true"||document.body.classList.remove("dg-scroll-lock")},300)})})})},{once:!0})};a.addEventListener("click",b);let c=a=>{"Escape"===a.key&&b()};return window.addEventListener("keydown",c),()=>{a.removeEventListener("click",b),window.removeEventListener("keydown",c)}},[l,O]),(0,d.useEffect)(()=>()=>{document.body.classList.remove("dg-scroll-lock")},[]),(0,b.jsx)("div",{ref:v,className:"sphere-root",style:{"--segments-x":m,"--segments-y":m,"--overlay-blur-color":i,"--tile-radius":q,"--enlarge-radius":r,"--image-filter":s?"grayscale(1)":"none"},children:(0,b.jsxs)("main",{ref:w,className:"sphere-main",children:[(0,b.jsx)("div",{className:"stage",children:(0,b.jsx)("div",{ref:x,className:"sphere",children:P.map((a,c)=>(0,b.jsx)("div",{className:"item","data-src":a.src,"data-offset-x":a.x,"data-offset-y":a.y,"data-size-x":a.sizeX,"data-size-y":a.sizeY,style:{"--offset-x":a.x,"--offset-y":a.y,"--item-size-x":a.sizeX,"--item-size-y":a.sizeY},children:(0,b.jsx)("div",{className:"item__image",role:"button",tabIndex:0,"aria-label":a.alt||"Open image",onClick:aa,onPointerUp:ac,children:(0,b.jsx)("img",{src:a.src,draggable:!1,alt:a.alt})})},`${a.x},${a.y},${c}`))})}),(0,b.jsx)("div",{className:"overlay"}),(0,b.jsx)("div",{className:"overlay overlay--blur"}),(0,b.jsx)("div",{className:"edge-fade edge-fade--top"}),(0,b.jsx)("div",{className:"edge-fade edge-fade--bottom"}),(0,b.jsxs)("div",{className:"viewer",ref:z,children:[(0,b.jsx)("div",{ref:A,className:"scrim"}),(0,b.jsx)("div",{ref:y,className:"frame"})]})]})})}let am=a=>"number"==typeof a?`${a}px`:a??void 0,an=d.default.memo(({logos:a,speed:c=120,direction:e="left",width:f="100%",logoHeight:g=28,gap:h=32,pauseOnHover:i,hoverSpeed:j,fadeOut:k=!1,fadeOutColor:l,scaleOnHover:m=!1,renderItem:n,ariaLabel:o="Partner logos",className:p,style:q})=>{var r,s,t;let u,v,w,x,y=(0,d.useRef)(null),z=(0,d.useRef)(null),A=(0,d.useRef)(null),[B,C]=(0,d.useState)(0),[D,E]=(0,d.useState)(0),[F,G]=(0,d.useState)(2),[H,I]=(0,d.useState)(!1),J=(0,d.useMemo)(()=>void 0!==j?j:!0===i||!1!==i?0:void 0,[j,i]),K="up"===e||"down"===e,L=(0,d.useMemo)(()=>Math.abs(c)*(K?"up"===e?1:-1:"left"===e?1:-1)*(c<0?-1:1),[c,e,K]),M=(0,d.useCallback)(()=>{let a=y.current?.clientWidth??0,b=A.current?.getBoundingClientRect?.(),c=b?.width??0,d=b?.height??0;if(K){let a=y.current?.parentElement?.clientHeight??0;if(y.current&&a>0){let b=Math.ceil(a);y.current.style.height!==`${b}px`&&(y.current.style.height=`${b}px`)}d>0&&(E(Math.ceil(d)),G(Math.max(2,Math.ceil((y.current?.clientHeight??a??d)/d)+2)))}else c>0&&(C(Math.ceil(c)),G(Math.max(2,Math.ceil(a/c)+2)))},[K]);r=[y,A],s=[a,h,g,K],(0,d.useEffect)(()=>{if(!window.ResizeObserver){let a=()=>M();return window.addEventListener("resize",a),M(),()=>window.removeEventListener("resize",a)}let a=r.map(a=>{if(!a.current)return null;let b=new ResizeObserver(M);return b.observe(a.current),b});return M(),()=>{a.forEach(a=>a?.disconnect())}},s),t=[a,h,g,K],(0,d.useEffect)(()=>{let a=A.current?.querySelectorAll("img")??[];if(0===a.length)return void M();let b=a.length,c=()=>{0==(b-=1)&&M()};return a.forEach(a=>{a.complete?c():(a.addEventListener("load",c,{once:!0}),a.addEventListener("error",c,{once:!0}))}),()=>{a.forEach(a=>{a.removeEventListener("load",c),a.removeEventListener("error",c)})}},t),u=(0,d.useRef)(null),v=(0,d.useRef)(null),w=(0,d.useRef)(0),x=(0,d.useRef)(0),(0,d.useEffect)(()=>{let a=z.current;if(!a)return;let b=K?D:B;if(b>0){w.current=(w.current%b+b)%b;let c=K?`translate3d(0, ${-w.current}px, 0)`:`translate3d(${-w.current}px, 0, 0)`;a.style.transform=c}let c=d=>{null===v.current&&(v.current=d);let e=Math.max(0,d-v.current)/1e3;v.current=d;let f=H&&void 0!==J?J:L,g=1-Math.exp(-e/.25);if(x.current+=(f-x.current)*g,b>0){let c=w.current+x.current*e;w.current=c=(c%b+b)%b;let d=K?`translate3d(0, ${-w.current}px, 0)`:`translate3d(${-w.current}px, 0, 0)`;a.style.transform=d}u.current=requestAnimationFrame(c)};return u.current=requestAnimationFrame(c),()=>{null!==u.current&&(cancelAnimationFrame(u.current),u.current=null),v.current=null}},[L,B,D,H,J,K]);let N=(0,d.useMemo)(()=>({"--logoloop-gap":`${h}px`,"--logoloop-logoHeight":`${g}px`,...l&&{"--logoloop-fadeColor":l}}),[h,g,l]),O=(0,d.useMemo)(()=>["logoloop",K?"logoloop--vertical":"logoloop--horizontal",k&&"logoloop--fade",m&&"logoloop--scale-hover",p].filter(Boolean).join(" "),[K,k,m,p]),P=(0,d.useCallback)(()=>{void 0!==J&&I(!0)},[J]),Q=(0,d.useCallback)(()=>{void 0!==J&&I(!1)},[J]),R=(0,d.useCallback)((a,c)=>{if(n)return(0,b.jsx)("li",{className:"logoloop__item",role:"listitem",children:n(a,c)},c);let d="node"in a,e=d?(0,b.jsx)("span",{className:"logoloop__node","aria-hidden":!!a.href&&!a.ariaLabel,children:a.node}):(0,b.jsx)("img",{src:a.src,srcSet:a.srcSet,sizes:a.sizes,width:a.width,height:a.height,alt:a.alt??"",title:a.title,loading:"lazy",decoding:"async",draggable:!1}),f=d?a.ariaLabel??a.title:a.alt??a.title,g=a.href?(0,b.jsx)("a",{className:"logoloop__link",href:a.href,"aria-label":f||"logo link",target:"_blank",rel:"noreferrer noopener",children:e}):e;return(0,b.jsx)("li",{className:"logoloop__item",role:"listitem",children:g},c)},[n]),S=(0,d.useMemo)(()=>Array.from({length:F},(c,d)=>(0,b.jsx)("ul",{className:"logoloop__list",role:"list","aria-hidden":d>0,ref:0===d?A:void 0,children:a.map((a,b)=>R(a,`${d}-${b}`))},`copy-${d}`)),[F,a,R]),T=(0,d.useMemo)(()=>({width:K?"100%"===am(f)?void 0:am(f):am(f)??"100%",...N,...q}),[f,N,q,K]);return(0,b.jsx)("div",{ref:y,className:O,style:T,role:"region","aria-label":o,children:(0,b.jsx)("div",{className:"logoloop__track",ref:z,onMouseEnter:P,onMouseLeave:Q,children:S})})});an.displayName="LogoLoop";var ao=a.i(2455);let ap=[{name:"Home",icon:"ðŸ ",section:"main"},{name:"Library",icon:"ðŸ“š",section:"main"},{name:"Image",icon:"ðŸŽ¨",section:"AI Tools"},{name:"Video",icon:"ðŸŽ¬",section:"AI Tools"},{name:"Blueprints",icon:"ðŸ“‹",section:"AI Tools",badge:"Beta"},{name:"Flow State",icon:"âˆž",section:"AI Tools"},{name:"Realtime Canvas",icon:"âš¡",section:"AI Tools"},{name:"Realtime Generation",icon:"âœ¨",section:"AI Tools"},{name:"Canvas Editor",icon:"ðŸ–¼ï¸",section:"AI Tools"},{name:"Universal Upscaler",icon:"ðŸ”",section:"AI Tools"},{name:"Models & Training",icon:"ðŸ§ ",section:"Advanced"},{name:"Texture Generation",icon:"ðŸŽ­",section:"Advanced",badge:"Alpha"}],aq=[{name:"Blueprints",icon:"ðŸ“‹"},{name:"Flow State",icon:"âˆž"},{name:"Video",icon:"ðŸŽ¬"},{name:"Image",icon:"ðŸŽ¨"},{name:"Upscaler",icon:"ðŸ”"},{name:"Canvas Editor",icon:"ðŸ–¼ï¸"},{name:"More",icon:"â‹¯"}],ar=[{title:"Amber Haze Portrait",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{title:"Dreamy Polaroid Portrait",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{title:"Tuscan Cinematic Video Portrait",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{title:"Blue Room Video Portrait",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{title:"Halloween Party",image:"https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},{title:"Indie Garden Polaroid",image:"https://images.unsplash.com/photo-1488161628813-04466f872be2?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},{title:"Bold Fisheye Portrait",image:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=400&h=600&fit=crop",gradient:"linear-gradient(135deg, #ff0844 0%, #ffb199 100%)"}],as=[{name:"Trending",icon:"ðŸ”¥"},{name:"All",icon:"ðŸŒ"},{name:"Video",icon:"ðŸŽ¬"},{name:"Photography",icon:"ðŸ“·"},{name:"Animals",icon:"ðŸ¦"},{name:"Anime",icon:"ðŸŽŒ"},{name:"Architecture",icon:"ðŸ›ï¸"},{name:"Character",icon:"ðŸ‘¤"},{name:"Food",icon:"ðŸ•"},{name:"Sci-Fi",icon:"ðŸš€"}];function at({onClose:a}){let[c,f]=(0,d.useState)("Blueprints"),[g,h]=(0,d.useState)("Trending"),[i,j]=(0,d.useState)("Blueprints");return(0,b.jsxs)(e.motion.div,{className:"media-studio-page",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,b.jsxs)("div",{className:"media-sidebar",children:[(0,b.jsxs)("div",{className:"sidebar-header",children:[(0,b.jsxs)("div",{className:"sidebar-logo",children:[(0,b.jsx)("span",{className:"logo-avatar",children:"ðŸ‘¤"}),(0,b.jsxs)("div",{className:"logo-user",children:[(0,b.jsx)("span",{className:"user-name",children:"Omi.AI"}),(0,b.jsx)("button",{className:"user-dropdown",children:"â–¼"})]})]}),(0,b.jsxs)("div",{className:"sidebar-credits",children:[(0,b.jsx)("span",{className:"credits-icon",children:"âš¡"}),(0,b.jsx)("span",{className:"credits-value",children:"150"}),(0,b.jsx)("button",{className:"upgrade-btn",children:"Upgrade"})]})]}),(0,b.jsx)("nav",{className:"sidebar-nav",children:ap.map((a,c)=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*c,duration:.3},children:[a.section&&c>0&&ap[c-1].section!==a.section&&(0,b.jsx)("div",{className:"nav-section-title",children:a.section}),(0,b.jsxs)("button",{className:`sidebar-item ${i===a.name?"active":""}`,onClick:()=>j(a.name),children:[(0,b.jsx)("span",{className:"sidebar-icon",children:a.icon}),(0,b.jsx)("span",{className:"sidebar-label",children:a.name}),a.badge&&(0,b.jsx)("span",{className:"tool-badge",children:a.badge})]})]},c))}),(0,b.jsx)("div",{className:"sidebar-footer",children:(0,b.jsxs)("button",{className:"sidebar-item",children:[(0,b.jsx)("span",{className:"sidebar-icon",children:"ðŸ†•"}),(0,b.jsx)("span",{className:"sidebar-label",children:"What's New"})]})})]}),(0,b.jsxs)(e.motion.div,{className:"media-main-content",children:[(0,b.jsx)(e.motion.button,{className:"close-btn",onClick:a,whileHover:{scale:1.1,rotate:90},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},children:"âœ•"}),(0,b.jsxs)(e.motion.div,{className:"hero-banner",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[(0,b.jsx)("div",{className:"banner-logoloop",children:(0,b.jsx)(an,{logos:[{node:"âœ¨",title:"Sparkle"},{node:"ðŸŽ¨",title:"Art"},{node:"ðŸŽ¬",title:"Video"},{node:"ðŸ–¼ï¸",title:"Image"},{node:"ðŸ“‹",title:"Blueprint"},{node:"â­",title:"Star"},{node:"ðŸŽ­",title:"Creative"},{node:"ðŸš€",title:"Launch"}],speed:30,direction:"left",logoHeight:60,gap:80,fadeOut:!0,fadeOutColor:"#1a0f2e",className:"banner-logo-animation"})}),(0,b.jsx)("div",{className:"banner-overlay"}),(0,b.jsxs)("div",{className:"banner-content",children:[(0,b.jsxs)("h1",{className:"banner-title",children:["Create with Omi ",(0,b.jsx)("span",{className:"highlight-text",children:(0,b.jsx)(ao.ShinyText,{text:"Blueprints",speed:8})})]}),(0,b.jsx)("p",{className:"banner-subtitle",children:"Discover 50+ ready-made workflows for effortless AI creation. All Blueprints 75% off for a limited time!"})]})]}),(0,b.jsx)("div",{className:"category-tabs",children:aq.map((a,d)=>(0,b.jsxs)(e.motion.button,{className:`category-tab ${c===a.name?"active":""}`,onClick:()=>f(a.name),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+.05*d,duration:.3},whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[(0,b.jsx)("span",{className:"tab-icon",children:a.icon}),(0,b.jsx)("span",{className:"tab-label",children:a.name})]},a.name))}),(0,b.jsxs)("section",{className:"featured-section",children:[(0,b.jsxs)("div",{className:"section-header",children:[(0,b.jsxs)("h2",{className:"section-title",children:[(0,b.jsx)("span",{className:"title-highlight",children:(0,b.jsx)(ao.ShinyText,{text:"Featured",speed:10})})," Blueprints"]}),(0,b.jsxs)("button",{className:"view-more-btn",children:["View More ",(0,b.jsx)("span",{className:"arrow",children:"â†’"})]})]}),(0,b.jsx)("div",{className:"dome-gallery-container",children:(0,b.jsx)(al,{images:ar.map(a=>({src:a.image,alt:a.title})),fit:.5,minRadius:500,maxRadius:800,segments:30,dragDampening:5,overlayBlurColor:"#0a0a0a",imageBorderRadius:"30px",openedImageBorderRadius:"30px",grayscale:!1})})]}),(0,b.jsxs)("section",{className:"community-section",children:[(0,b.jsxs)("h2",{className:"section-title",children:[(0,b.jsx)("span",{className:"title-highlight",children:"Community"})," Creations"]}),(0,b.jsx)("div",{className:"community-filters",children:as.map(a=>(0,b.jsxs)("button",{className:`filter-btn ${g===a.name?"active":""}`,onClick:()=>h(a.name),children:[a.icon," ",a.name]},a.name))}),(0,b.jsx)("div",{className:"community-grid",children:(0,b.jsx)("p",{className:"coming-soon",children:"Community creations coming soon..."})})]})]})]})}function au(){let a=(0,c.useRouter)();return(0,b.jsx)("div",{className:"page-transition fade-in",children:(0,b.jsx)(at,{onClose:()=>a.back()})})}a.s(["default",()=>au],70364)}];

//# sourceMappingURL=Omi-AI-1_81711c55._.js.map