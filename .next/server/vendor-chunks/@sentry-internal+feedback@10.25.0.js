"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sentry-internal+feedback@10.25.0";
exports.ids = ["vendor-chunks/@sentry-internal+feedback@10.25.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@sentry-internal+feedback@10.25.0/node_modules/@sentry-internal/feedback/build/npm/esm/index.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@sentry-internal+feedback@10.25.0/node_modules/@sentry-internal/feedback/build/npm/esm/index.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildFeedbackIntegration: () => (/* binding */ buildFeedbackIntegration),\n/* harmony export */   feedbackModalIntegration: () => (/* binding */ feedbackModalIntegration),\n/* harmony export */   feedbackScreenshotIntegration: () => (/* binding */ feedbackScreenshotIntegration),\n/* harmony export */   getFeedback: () => (/* binding */ getFeedback),\n/* harmony export */   sendFeedback: () => (/* binding */ sendFeedback)\n/* harmony export */ });\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/./node_modules/.pnpm/@sentry+core@10.25.0/node_modules/@sentry/core/build/esm/utils/worldwide.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/./node_modules/.pnpm/@sentry+core@10.25.0/node_modules/@sentry/core/build/esm/currentScopes.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/./node_modules/.pnpm/@sentry+core@10.25.0/node_modules/@sentry/core/build/esm/feedback.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/./node_modules/.pnpm/@sentry+core@10.25.0/node_modules/@sentry/core/build/esm/utils/browser.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/./node_modules/.pnpm/@sentry+core@10.25.0/node_modules/@sentry/core/build/esm/integration.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/./node_modules/.pnpm/@sentry+core@10.25.0/node_modules/@sentry/core/build/esm/utils/debug-logger.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/./node_modules/.pnpm/@sentry+core@10.25.0/node_modules/@sentry/core/build/esm/utils/isBrowser.js\");\n\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nconst WINDOW = _sentry_core__WEBPACK_IMPORTED_MODULE_0__.GLOBAL_OBJ ;\nconst DOCUMENT = WINDOW.document;\nconst NAVIGATOR = WINDOW.navigator;\n\nconst TRIGGER_LABEL = 'Report a Bug';\nconst CANCEL_BUTTON_LABEL = 'Cancel';\nconst SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nconst CONFIRM_BUTTON_LABEL = 'Confirm';\nconst FORM_TITLE = 'Report a Bug';\nconst EMAIL_PLACEHOLDER = 'your.email@example.org';\nconst EMAIL_LABEL = 'Email';\nconst MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nconst MESSAGE_LABEL = 'Description';\nconst NAME_PLACEHOLDER = 'Your Name';\nconst NAME_LABEL = 'Name';\nconst SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\nconst IS_REQUIRED_LABEL = '(required)';\nconst ADD_SCREENSHOT_LABEL = 'Add a screenshot';\nconst REMOVE_SCREENSHOT_LABEL = 'Remove screenshot';\nconst HIGHLIGHT_TOOL_TEXT = 'Highlight';\nconst HIDE_TOOL_TEXT = 'Hide';\nconst REMOVE_HIGHLIGHT_TEXT = 'Remove';\n\nconst FEEDBACK_WIDGET_SOURCE = 'widget';\nconst FEEDBACK_API_SOURCE = 'api';\n\nconst SUCCESS_MESSAGE_TIMEOUT = 5000;\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nconst sendFeedback = (\n  params,\n  hint = { includeReplay: true },\n) => {\n  if (!params.message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n\n  // We want to wait for the feedback to be sent (or not)\n  const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getClient)();\n\n  if (!client) {\n    throw new Error('No client setup, cannot send feedback.');\n  }\n\n  if (params.tags && Object.keys(params.tags).length) {\n    (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getCurrentScope)().setTags(params.tags);\n  }\n  const eventId = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_2__.captureFeedback)(\n    {\n      source: FEEDBACK_API_SOURCE,\n      url: (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.getLocationHref)(),\n      ...params,\n    },\n    hint,\n  );\n\n  // We want to wait for the feedback to be sent (or not)\n  return new Promise((resolve, reject) => {\n    // After 30s, we want to clear anyhow\n    const timeout = setTimeout(() => reject('Unable to determine if Feedback was correctly sent.'), 30000);\n\n    const cleanup = client.on('afterSendEvent', (event, response) => {\n      if (event.event_id !== eventId) {\n        return;\n      }\n\n      clearTimeout(timeout);\n      cleanup();\n\n      // Require valid status codes, otherwise can assume feedback was not sent successfully\n      if (response?.statusCode && response.statusCode >= 200 && response.statusCode < 300) {\n        return resolve(eventId);\n      }\n\n      if (response?.statusCode === 403) {\n        return reject(\n          'Unable to send feedback. This could be because this domain is not in your list of allowed domains.',\n        );\n      }\n\n      return reject(\n        'Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.',\n      );\n    });\n  });\n};\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__);\n\n/**\n * Mobile browsers do not support `mediaDevices.getDisplayMedia` even though they have the api implemented\n * Instead they return things like `NotAllowedError` when called.\n *\n * It's simpler for us to browser sniff first, and avoid loading the integration if we can.\n *\n * https://stackoverflow.com/a/58879212\n * https://stackoverflow.com/a/3540295\n *\n * `mediaDevices.getDisplayMedia` is also only supported in secure contexts, and return a `mediaDevices is not supported` error, so we should also avoid loading the integration if we can.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia\n */\nfunction isScreenshotSupported() {\n  if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(NAVIGATOR.userAgent)) {\n    return false;\n  }\n  /**\n   * User agent on iPads show as Macintosh, so we need extra checks\n   *\n   * https://forums.developer.apple.com/forums/thread/119186\n   * https://stackoverflow.com/questions/60482650/how-to-detect-ipad-useragent-on-safari-browser\n   */\n  if (/Macintosh/i.test(NAVIGATOR.userAgent) && NAVIGATOR.maxTouchPoints && NAVIGATOR.maxTouchPoints > 1) {\n    return false;\n  }\n  if (!isSecureContext) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nfunction mergeOptions(\n  defaultOptions,\n  optionOverrides,\n) {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    tags: {\n      ...defaultOptions.tags,\n      ...optionOverrides.tags,\n    },\n    onFormOpen: () => {\n      optionOverrides.onFormOpen?.();\n      defaultOptions.onFormOpen?.();\n    },\n    onFormClose: () => {\n      optionOverrides.onFormClose?.();\n      defaultOptions.onFormClose?.();\n    },\n    onSubmitSuccess: (data, eventId) => {\n      optionOverrides.onSubmitSuccess?.(data, eventId);\n      defaultOptions.onSubmitSuccess?.(data, eventId);\n    },\n    onSubmitError: (error) => {\n      optionOverrides.onSubmitError?.(error);\n      defaultOptions.onSubmitError?.(error);\n    },\n    onFormSubmitted: () => {\n      optionOverrides.onFormSubmitted?.();\n      defaultOptions.onFormSubmitted?.();\n    },\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark,\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight,\n    },\n  };\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createActorStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden=\"true\"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n\n/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nfunction setAttributesNS(el, attributes) {\n  Object.entries(attributes).forEach(([key, val]) => {\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\n\nconst SIZE = 20;\nconst XMLNS$2 = 'http://www.w3.org/2000/svg';\n\n/**\n * Feedback Icon\n */\nfunction FeedbackIcon() {\n  const createElementNS = (tagName) =>\n    WINDOW.document.createElementNS(XMLNS$2, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'var(--actor-color, var(--foreground))',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z',\n  });\n  svg.appendChild(g).appendChild(path);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return svg;\n}\n\n/**\n * The sentry-provided button to open the feedback modal\n */\nfunction Actor({ triggerLabel, triggerAriaLabel, shadow, styleNonce }) {\n  const el = DOCUMENT.createElement('button');\n  el.type = 'button';\n  el.className = 'widget__actor';\n  el.ariaHidden = 'false';\n  el.ariaLabel = triggerAriaLabel || triggerLabel || TRIGGER_LABEL;\n  el.appendChild(FeedbackIcon());\n  if (triggerLabel) {\n    const label = DOCUMENT.createElement('span');\n    label.appendChild(DOCUMENT.createTextNode(triggerLabel));\n    el.appendChild(label);\n  }\n\n  const style = createActorStyles(styleNonce);\n\n  return {\n    el,\n    appendToDom() {\n      shadow.appendChild(style);\n      shadow.appendChild(el);\n    },\n    removeFromDom() {\n      el.remove();\n      style.remove();\n    },\n    show() {\n      el.ariaHidden = 'false';\n    },\n    hide() {\n      el.ariaHidden = 'true';\n    },\n  };\n}\n\nconst PURPLE = 'rgba(88, 74, 192, 1)';\n\nconst DEFAULT_LIGHT = {\n  foreground: '#2b2233',\n  background: '#ffffff',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#268d75',\n  errorColor: '#df3338',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(95%)',\n};\nconst DEFAULT_DARK = {\n  foreground: '#ebe6ef',\n  background: '#29232f',\n  accentForeground: 'white',\n  accentBackground: PURPLE,\n  successColor: '#2da98c',\n  errorColor: '#f55459',\n  border: '1.5px solid rgba(235, 230, 239, 0.15)',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  outline: '1px auto var(--accent-background)',\n  interactiveFilter: 'brightness(150%)',\n};\n\nfunction getThemedCssVariables(theme) {\n  return `\n  --foreground: ${theme.foreground};\n  --background: ${theme.background};\n  --accent-foreground: ${theme.accentForeground};\n  --accent-background: ${theme.accentBackground};\n  --success-color: ${theme.successColor};\n  --error-color: ${theme.errorColor};\n  --border: ${theme.border};\n  --box-shadow: ${theme.boxShadow};\n  --outline: ${theme.outline};\n  --interactive-filter: ${theme.interactiveFilter};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createMainStyles({\n  colorScheme,\n  themeDark,\n  themeLight,\n  styleNonce,\n}) {\n  const style = DOCUMENT.createElement('style');\n  style.textContent = `\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${colorScheme !== 'system' ? 'color-scheme: only light;' : ''}\n\n  ${getThemedCssVariables(\n    colorScheme === 'dark' ? { ...DEFAULT_DARK, ...themeDark } : { ...DEFAULT_LIGHT, ...themeLight },\n  )}\n}\n\n${\n  colorScheme === 'system'\n    ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables({ ...DEFAULT_DARK, ...themeDark })}\n  }\n}`\n    : ''\n}\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n\nconst buildFeedbackIntegration = ({\n  lazyLoadIntegration,\n  getModalIntegration,\n  getScreenshotIntegration,\n}\n\n) => {\n  const feedbackIntegration = (({\n    // FeedbackGeneralConfiguration\n    id = 'sentry-feedback',\n    autoInject = true,\n    showBranding = true,\n    isEmailRequired = false,\n    isNameRequired = false,\n    showEmail = true,\n    showName = true,\n    enableScreenshot = true,\n    useSentryUser = {\n      email: 'email',\n      name: 'username',\n    },\n    tags,\n    styleNonce,\n    scriptNonce,\n\n    // FeedbackThemeConfiguration\n    colorScheme = 'system',\n    themeLight = {},\n    themeDark = {},\n\n    // FeedbackTextConfiguration\n    addScreenshotButtonLabel = ADD_SCREENSHOT_LABEL,\n    cancelButtonLabel = CANCEL_BUTTON_LABEL,\n    confirmButtonLabel = CONFIRM_BUTTON_LABEL,\n    emailLabel = EMAIL_LABEL,\n    emailPlaceholder = EMAIL_PLACEHOLDER,\n    formTitle = FORM_TITLE,\n    isRequiredLabel = IS_REQUIRED_LABEL,\n    messageLabel = MESSAGE_LABEL,\n    messagePlaceholder = MESSAGE_PLACEHOLDER,\n    nameLabel = NAME_LABEL,\n    namePlaceholder = NAME_PLACEHOLDER,\n    removeScreenshotButtonLabel = REMOVE_SCREENSHOT_LABEL,\n    submitButtonLabel = SUBMIT_BUTTON_LABEL,\n    successMessageText = SUCCESS_MESSAGE_TEXT,\n    triggerLabel = TRIGGER_LABEL,\n    triggerAriaLabel = '',\n    highlightToolText = HIGHLIGHT_TOOL_TEXT,\n    hideToolText = HIDE_TOOL_TEXT,\n    removeHighlightText = REMOVE_HIGHLIGHT_TEXT,\n\n    // FeedbackCallbacks\n    onFormOpen,\n    onFormClose,\n    onSubmitSuccess,\n    onSubmitError,\n    onFormSubmitted,\n  } = {}) => {\n    const _options = {\n      id,\n      autoInject,\n      showBranding,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      enableScreenshot,\n      useSentryUser,\n      tags,\n      styleNonce,\n      scriptNonce,\n\n      colorScheme,\n      themeDark,\n      themeLight,\n\n      triggerLabel,\n      triggerAriaLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      confirmButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      successMessageText,\n      isRequiredLabel,\n      addScreenshotButtonLabel,\n      removeScreenshotButtonLabel,\n      highlightToolText,\n      hideToolText,\n      removeHighlightText,\n\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess,\n      onFormSubmitted,\n    };\n\n    let _shadow = null;\n    let _subscriptions = [];\n\n    /**\n     * Get the shadow root where we will append css\n     */\n    const _createShadow = (options) => {\n      if (!_shadow) {\n        const host = DOCUMENT.createElement('div');\n        host.id = String(options.id);\n        DOCUMENT.body.appendChild(host);\n\n        _shadow = host.attachShadow({ mode: 'open' });\n        _shadow.appendChild(createMainStyles(options));\n      }\n      return _shadow;\n    };\n\n    const _loadAndRenderDialog = async (\n      options,\n    ) => {\n      const screenshotRequired = options.enableScreenshot && isScreenshotSupported();\n\n      let modalIntegration;\n      let screenshotIntegration;\n\n      try {\n        const modalIntegrationFn = getModalIntegration\n          ? getModalIntegration()\n          : await lazyLoadIntegration('feedbackModalIntegration', scriptNonce);\n        modalIntegration = modalIntegrationFn() ;\n        (0,_sentry_core__WEBPACK_IMPORTED_MODULE_4__.addIntegration)(modalIntegration);\n      } catch {\n        DEBUG_BUILD &&\n          _sentry_core__WEBPACK_IMPORTED_MODULE_5__.debug.error(\n            '[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`.',\n          );\n        throw new Error('[Feedback] Missing feedback modal integration!');\n      }\n\n      try {\n        const screenshotIntegrationFn = screenshotRequired\n          ? getScreenshotIntegration\n            ? getScreenshotIntegration()\n            : await lazyLoadIntegration('feedbackScreenshotIntegration', scriptNonce)\n          : undefined;\n\n        if (screenshotIntegrationFn) {\n          screenshotIntegration = screenshotIntegrationFn() ;\n          (0,_sentry_core__WEBPACK_IMPORTED_MODULE_4__.addIntegration)(screenshotIntegration);\n        }\n      } catch {\n        DEBUG_BUILD &&\n          _sentry_core__WEBPACK_IMPORTED_MODULE_5__.debug.error('[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.');\n      }\n\n      const dialog = modalIntegration.createDialog({\n        options: {\n          ...options,\n          onFormClose: () => {\n            dialog?.close();\n            options.onFormClose?.();\n          },\n          onFormSubmitted: () => {\n            dialog?.close();\n            options.onFormSubmitted?.();\n          },\n        },\n        screenshotIntegration,\n        sendFeedback,\n        shadow: _createShadow(options),\n      });\n\n      return dialog;\n    };\n\n    const _attachTo = (el, optionOverrides = {}) => {\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n\n      const targetEl =\n        typeof el === 'string' ? DOCUMENT.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n\n      if (!targetEl) {\n        DEBUG_BUILD && _sentry_core__WEBPACK_IMPORTED_MODULE_5__.debug.error('[Feedback] Unable to attach to target element');\n        throw new Error('Unable to attach to target element');\n      }\n\n      let dialog = null;\n      const handleClick = async () => {\n        if (!dialog) {\n          dialog = await _loadAndRenderDialog({\n            ...mergedOptions,\n            onFormSubmitted: () => {\n              dialog?.removeFromDom();\n              mergedOptions.onFormSubmitted?.();\n            },\n          });\n        }\n        dialog.appendToDom();\n        dialog.open();\n      };\n      targetEl.addEventListener('click', handleClick);\n      const unsubscribe = () => {\n        _subscriptions = _subscriptions.filter(sub => sub !== unsubscribe);\n        dialog?.removeFromDom();\n        dialog = null;\n        targetEl.removeEventListener('click', handleClick);\n      };\n      _subscriptions.push(unsubscribe);\n      return unsubscribe;\n    };\n\n    const _createActor = (optionOverrides = {}) => {\n      const mergedOptions = mergeOptions(_options, optionOverrides);\n      const shadow = _createShadow(mergedOptions);\n      const actor = Actor({\n        triggerLabel: mergedOptions.triggerLabel,\n        triggerAriaLabel: mergedOptions.triggerAriaLabel,\n        shadow,\n        styleNonce,\n      });\n      _attachTo(actor.el, {\n        ...mergedOptions,\n        onFormOpen() {\n          actor.hide();\n        },\n        onFormClose() {\n          actor.show();\n        },\n        onFormSubmitted() {\n          actor.show();\n        },\n      });\n      return actor;\n    };\n\n    return {\n      name: 'Feedback',\n      setupOnce() {\n        if (!(0,_sentry_core__WEBPACK_IMPORTED_MODULE_6__.isBrowser)() || !_options.autoInject) {\n          return;\n        }\n\n        if (DOCUMENT.readyState === 'loading') {\n          DOCUMENT.addEventListener('DOMContentLoaded', () => _createActor().appendToDom());\n        } else {\n          _createActor().appendToDom();\n        }\n      },\n\n      /**\n       * Adds click listener to the element to open a feedback dialog\n       *\n       * The returned function can be used to remove the click listener\n       */\n      attachTo: _attachTo,\n\n      /**\n       * Creates a new widget which is composed of a Button which triggers a Dialog.\n       * Accepts partial options to override any options passed to constructor.\n       */\n      createWidget(optionOverrides = {}) {\n        const actor = _createActor(mergeOptions(_options, optionOverrides));\n        actor.appendToDom();\n        return actor;\n      },\n\n      /**\n       * Creates a new Form which you can\n       * Accepts partial options to override any options passed to constructor.\n       */\n      async createForm(\n        optionOverrides = {},\n      ) {\n        return _loadAndRenderDialog(mergeOptions(_options, optionOverrides));\n      },\n\n      /**\n       * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n       */\n      remove() {\n        if (_shadow) {\n          _shadow.parentElement?.remove();\n          _shadow = null;\n        }\n        // Remove any lingering subscriptions\n        _subscriptions.forEach(sub => sub());\n        _subscriptions = [];\n      },\n    };\n  }) ;\n\n  return feedbackIntegration;\n};\n\n/**\n * This is a small utility to get a type-safe instance of the Feedback integration.\n */\nfunction getFeedback() {\n  const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getClient)();\n  return client?.getIntegrationByName('Feedback');\n}\n\nvar n,l$1,u$1,i$1,o$1,r$1,f$1,c$1={},s$1=[],a$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h$1=Array.isArray;function v$1(n,l){for(var u in l)n[u]=l[u];return n}function p$1(n){var l=n.parentNode;l&&l.removeChild(n);}function y$1(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps) void 0===f[r]&&(f[r]=l.defaultProps[r]);return d$1(l,f,i,o,null)}function d$1(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u$1:r,__i:-1,__u:0};return null==r&&null!=l$1.vnode&&l$1.vnode(f),f}function g$1(n){return n.children}function b$1(n,l){this.props=n,this.context=l;}function m$1(n,l){if(null==l)return n.__?m$1(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return \"function\"==typeof n.type?m$1(n):null}function w$1(n,u,t){var i,o=n.__v,r=o.__e,f=n.__P;if(f)return (i=v$1({},o)).__v=o.__v+1,l$1.vnode&&l$1.vnode(i),M(f,i,o,n.__n,void 0!==f.ownerSVGElement,32&o.__u?[r]:null,u,null==r?m$1(o):r,!!(32&o.__u),t),i.__.__k[i.__i]=i,i.__d=void 0,i.__e!=r&&k$1(i),i}function k$1(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k$1(n)}}function x$1(n){(!n.__d&&(n.__d=true)&&i$1.push(n)&&!C$1.__r++||o$1!==l$1.debounceRendering)&&((o$1=l$1.debounceRendering)||r$1)(C$1);}function C$1(){var n,u,t,o=[],r=[];for(i$1.sort(f$1);n=i$1.shift();)n.__d&&(t=i$1.length,u=w$1(n,o,r)||u,0===t||i$1.length>t?(j$1(o,u,r),r.length=o.length=0,u=void 0,i$1.sort(f$1)):u&&l$1.__c&&l$1.__c(u,s$1));u&&j$1(o,u,r),C$1.__r=0;}function P$1(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s$1,b=l.length;for(u.__d=e,S(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c$1:g[y.__i]||c$1,y.__i=v,M(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&N(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=$(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_;}function S(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d$1(null,i,null,null,i):h$1(i)?d$1(g$1,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d$1(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=I(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m$1(o)),O(o,o,false),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m$1(o)),O(o,o));}function $(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=$(t[i],l,u));return l}n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling;}while(null!=l&&8===l.nodeType);return l}function I(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--;}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++;}}return  -1}function T$1(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a$1.test(l)?u:u+\"px\";}function A$1(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else {if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T$1(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||T$1(n.style,l,u[l]);}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?L:D$1,o)):n.removeEventListener(l,o?L:D$1,o);else {if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||false===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u));}}function D$1(n){if(this.l){var u=this.l[n.type+false];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l$1.event?l$1.event(n):n)}}function L(n){if(this.l)return this.l[n.type+true](l$1.event?l$1.event(n):n)}function M(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,w,k,x,C,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l$1.__b)&&a(u);n:if(\"function\"==typeof A)try{if(k=u.props,x=(a=A.contextType)&&i[a.__c],C=a?x?x.props.value:a.__:i,t.__c?w=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(k,C):(u.__c=p=new b$1(k,C),p.constructor=A,p.render=q$1),x&&x.sub(p),p.props=k,p.state||(p.state={}),p.context=C,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v$1({},p.__s)),v$1(p.__s,A.getDerivedStateFromProps(k,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else {if(null==A.getDerivedStateFromProps&&k!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(k,C),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(k,p.__s,C)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=k,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u);}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(k,p.__s,C),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m);});}if(p.context=C,p.props=k,p.__P=n,p.__e=!1,$=l$1.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[];}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s;}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v$1(v$1({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),P$1(n,h$1(T=null!=a&&a.type===g$1&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),w&&(p.__E=p.__=null);}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l$1.__e(n,u,t);}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z$1(t.__e,u,t,i,o,r,f,c,s);(a=l$1.diffed)&&a(u);}function j$1(n,u,t){for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l$1.__c&&l$1.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u);});}catch(n){l$1.__e(n,u.__v);}});}function z$1(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,w=t.props,k=u.props,x=u.type;if(\"svg\"===x&&(o=true),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(k);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,k.is&&k),r=null,e=false;}if(null===x)w===k||e&&l.data===k||(l.data=k);else {if(r=r&&n.call(l.childNodes),w=t.props||c$1,!e&&null!=r)for(w={},a=0;a<l.attributes.length;a++)w[(_=l.attributes[a]).name]=_.value;for(a in w)_=w[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in k||A$1(l,a,null,_,o));for(a in k)_=k[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||w[a]===_||A$1(l,a,_,w[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),P$1(l,h$1(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m$1(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p$1(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==w[a])&&A$1(l,a,g,w[a],false),a=\"checked\",void 0!==b&&b!==l[a]&&A$1(l,a,b,w[a],false));}return l}function N(n,u,t){try{\"function\"==typeof n?n(u):n.current=u;}catch(n){l$1.__e(n,t);}}function O(n,u,t){var i,o;if(l$1.unmount&&l$1.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount();}catch(n){l$1.__e(n,u);}i.base=i.__P=null,n.__c=void 0;}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&O(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p$1(n.__e),n.__=n.__e=n.__d=void 0;}function q$1(n,l,u){return this.constructor(n,u)}function B$1(u,t,i){var o,r,f,e;l$1.__&&l$1.__(u,t),r=(o=\"function\"==\"undefined\")?null:t.__k,f=[],e=[],M(t,u=(t).__k=y$1(g$1,null,[u]),r||c$1,c$1,void 0!==t.ownerSVGElement,r?null:t.firstChild?n.call(t.childNodes):null,f,r?r.__e:t.firstChild,o,e),u.__d=void 0,j$1(f,u,e);}n=s$1.slice,l$1={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l;}throw n}},u$1=0,b$1.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v$1({},this.state),\"function\"==typeof n&&(n=n(v$1({},u),this.props)),n&&v$1(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),x$1(this));},b$1.prototype.forceUpdate=function(n){this.__v&&(this.__e=true,n&&this.__h.push(n),x$1(this));},b$1.prototype.render=g$1,i$1=[],r$1=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$1=function(n,l){return n.__v.__b-l.__v.__b},C$1.__r=0;\n\nvar t,r,u,i,o=0,f=[],c=[],e=l$1,a=e.__b,v=e.__r,l=e.diffed,m=e.__c,s=e.unmount,d=e.__;function h(n,t){e.__h&&e.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({__V:c}),u.__[n]}function p(n){return o=1,y(D,n)}function y(n,u,i){var o=h(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}));}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return  true;var u=o.__c.__H.__.filter(function(n){return !!n.__c});if(u.every(function(n){return !n.__N}))return !c||c.call(this,n,t,r);var i=false;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=true);}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=true;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u;}e&&e.call(this,n,t,r);},r.shouldComponentUpdate=f;}return o.__N||o.__}function _(n,u){var i=h(t++,3);!e.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__H.__h.push(i));}function A(n,u){var i=h(t++,4);!e.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__h.push(i));}function F(n){return o=5,q(function(){return {current:n}},[])}function T(n,t,r){o=6,A(function(){return \"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n));}function q(n,r){var u=h(t++,7);return C(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function x(n,t){return o=8,q(function(){return n},t)}function P(n){var u=r.context[n.__c],i=h(t++,9);return i.c=n,u?(null==i.__&&(i.__=true,u.sub(r)),u.props.value):n.__}function V(n,t){e.useDebugValue&&e.useDebugValue(t?t(n):n);}function b(n){var u=h(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n);}),[i[0],function(){i[1](void 0);}]}function g(){var n=h(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++;}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[];}catch(t){n.__H.__h=[],e.__e(t,n.__v);}}e.__b=function(n){r=null,a&&a(n);},e.__=function(n,t){t.__k&&t.__k.__m&&(n.__m=t.__k.__m),d&&d(n,t);},e.__r=function(n){v&&v(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0;})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r;},e.diffed=function(n){l&&l(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===e.requestAnimationFrame||((i=e.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c;})),u=r=null;},e.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return !n.__||B(n)});}catch(r){t.some(function(n){n.__h&&(n.__h=[]);}),t=[],e.__e(r,n.__v);}}),m&&m(n,t);},e.unmount=function(n){s&&s(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n);}catch(n){t=n;}}),r.__H=void 0,t&&e.__e(t,r.__v));};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n);},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r));}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t;}function B(n){var t=r;n.__c=n.__(),r=t;}function C(n,t){return !n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return \"function\"==typeof t?t(n):t}\n\nconst hooks = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  useCallback: x,\n  useContext: P,\n  useDebugValue: V,\n  useEffect: _,\n  useErrorBoundary: b,\n  useId: g,\n  useImperativeHandle: T,\n  useLayoutEffect: A,\n  useMemo: q,\n  useReducer: y,\n  useRef: F,\n  useState: p\n}, Symbol.toStringTag, { value: 'Module' });\n\nconst XMLNS$1 = 'http://www.w3.org/2000/svg';\n\n/**\n * Sentry Logo\n */\nfunction SentryLogo() {\n  const createElementNS = (tagName) =>\n    DOCUMENT.createElementNS(XMLNS$1, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'inherit',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z',\n  });\n  svg.appendChild(path);\n\n  return svg;\n}\n\nfunction DialogHeader({ options }) {\n  const logoHtml = q(() => ({ __html: SentryLogo().outerHTML }), []);\n\n  return (\n    y$1('h2', { class: \"dialog__header\",}\n      , y$1('span', { class: \"dialog__title\",}, options.formTitle)\n      , options.showBranding ? (\n        y$1('a', {\n          class: \"brand-link\",\n          target: \"_blank\",\n          href: \"https://sentry.io/welcome/\",\n          title: \"Powered by Sentry\"  ,\n          rel: \"noopener noreferrer\" ,\n          dangerouslySetInnerHTML: logoHtml,}\n        )\n      ) : null\n    )\n  );\n}\n\n/**\n * Validate that a given feedback submission has the required fields\n */\nfunction getMissingFields(feedback, props) {\n  const emptyFields = [];\n  if (props.isNameRequired && !feedback.name) {\n    emptyFields.push(props.nameLabel);\n  }\n  if (props.isEmailRequired && !feedback.email) {\n    emptyFields.push(props.emailLabel);\n  }\n  if (!feedback.message) {\n    emptyFields.push(props.messageLabel);\n  }\n\n  return emptyFields;\n}\n\nfunction retrieveStringValue(formData, key) {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\n\nfunction Form({\n  options,\n  defaultEmail,\n  defaultName,\n\n  onFormClose,\n  onSubmit,\n  onSubmitSuccess,\n  onSubmitError,\n  showEmail,\n  showName,\n  screenshotInput,\n}) {\n  const {\n    tags,\n    addScreenshotButtonLabel,\n    removeScreenshotButtonLabel,\n    cancelButtonLabel,\n    emailLabel,\n    emailPlaceholder,\n    isEmailRequired,\n    isNameRequired,\n    messageLabel,\n    messagePlaceholder,\n    nameLabel,\n    namePlaceholder,\n    submitButtonLabel,\n    isRequiredLabel,\n  } = options;\n  const [isSubmitting, setIsSubmitting] = p(false);\n  // TODO: set a ref on the form, and whenever an input changes call processForm() and setError()\n  const [error, setError] = p(null);\n\n  const [showScreenshotInput, setShowScreenshotInput] = p(false);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const ScreenshotInputComponent = screenshotInput?.input;\n\n  const [screenshotError, setScreenshotError] = p(null);\n  const onScreenshotError = x((error) => {\n    setScreenshotError(error);\n    setShowScreenshotInput(false);\n  }, []);\n\n  const hasAllRequiredFields = x(\n    (data) => {\n      const missingFields = getMissingFields(data, {\n        emailLabel,\n        isEmailRequired,\n        isNameRequired,\n        messageLabel,\n        nameLabel,\n      });\n\n      if (missingFields.length > 0) {\n        setError(`Please enter in the following required fields: ${missingFields.join(', ')}`);\n      } else {\n        setError(null);\n      }\n\n      return missingFields.length === 0;\n    },\n    [emailLabel, isEmailRequired, isNameRequired, messageLabel, nameLabel],\n  );\n\n  const handleSubmit = x(\n    async (e) => {\n      setIsSubmitting(true);\n      try {\n        e.preventDefault();\n        if (!(e.target instanceof HTMLFormElement)) {\n          return;\n        }\n        const formData = new FormData(e.target);\n        const attachment = await (screenshotInput && showScreenshotInput ? screenshotInput.value() : undefined);\n\n        const data = {\n          name: retrieveStringValue(formData, 'name'),\n          email: retrieveStringValue(formData, 'email'),\n          message: retrieveStringValue(formData, 'message'),\n          attachments: attachment ? [attachment] : undefined,\n        };\n\n        if (!hasAllRequiredFields(data)) {\n          return;\n        }\n\n        try {\n          const eventId = await onSubmit(\n            {\n              name: data.name,\n              email: data.email,\n              message: data.message,\n              source: FEEDBACK_WIDGET_SOURCE,\n              tags,\n            },\n            { attachments: data.attachments },\n          );\n          onSubmitSuccess(data, eventId);\n        } catch (error) {\n          DEBUG_BUILD && _sentry_core__WEBPACK_IMPORTED_MODULE_5__.debug.error(error);\n          setError(error );\n          onSubmitError(error );\n        }\n      } finally {\n        setIsSubmitting(false);\n      }\n    },\n    [screenshotInput && showScreenshotInput, onSubmitSuccess, onSubmitError],\n  );\n\n  return (\n    y$1('form', { class: \"form\", onSubmit: handleSubmit,}\n      , ScreenshotInputComponent && showScreenshotInput ? (\n        y$1(ScreenshotInputComponent, { onError: onScreenshotError,} )\n      ) : null\n\n      , y$1('fieldset', { class: \"form__right\", 'data-sentry-feedback': true, disabled: isSubmitting,}\n        , y$1('div', { class: \"form__top\",}\n          , error ? y$1('div', { class: \"form__error-container\",}, error) : null\n\n          , showName ? (\n            y$1('label', { for: \"name\", class: \"form__label\",}\n              , y$1(LabelText, { label: nameLabel, isRequiredLabel: isRequiredLabel, isRequired: isNameRequired,} )\n              , y$1('input', {\n                class: \"form__input\",\n                defaultValue: defaultName,\n                id: \"name\",\n                name: \"name\",\n                placeholder: namePlaceholder,\n                required: isNameRequired,\n                type: \"text\",}\n              )\n            )\n          ) : (\n            y$1('input', { 'aria-hidden': true, value: defaultName, name: \"name\", type: \"hidden\",} )\n          )\n\n          , showEmail ? (\n            y$1('label', { for: \"email\", class: \"form__label\",}\n              , y$1(LabelText, { label: emailLabel, isRequiredLabel: isRequiredLabel, isRequired: isEmailRequired,} )\n              , y$1('input', {\n                class: \"form__input\",\n                defaultValue: defaultEmail,\n                id: \"email\",\n                name: \"email\",\n                placeholder: emailPlaceholder,\n                required: isEmailRequired,\n                type: \"email\",}\n)\n            )\n          ) : (\n            y$1('input', { 'aria-hidden': true, value: defaultEmail, name: \"email\", type: \"hidden\",} )\n          )\n\n          , y$1('label', { for: \"message\", class: \"form__label\",}\n            , y$1(LabelText, { label: messageLabel, isRequiredLabel: isRequiredLabel, isRequired: true,} )\n            , y$1('textarea', {\n              autoFocus: true,\n              class: \"form__input form__input--textarea\" ,\n              id: \"message\",\n              name: \"message\",\n              placeholder: messagePlaceholder,\n              required: true,\n              rows: 5,}\n            )\n          )\n\n          , ScreenshotInputComponent ? (\n            y$1('label', { for: \"screenshot\", class: \"form__label\",}\n              , y$1('button', {\n                class: \"btn btn--default\" ,\n                disabled: isSubmitting,\n                type: \"button\",\n                onClick: () => {\n                  setScreenshotError(null);\n                  setShowScreenshotInput(prev => !prev);\n                },}\n\n                , showScreenshotInput ? removeScreenshotButtonLabel : addScreenshotButtonLabel\n              )\n              , screenshotError ? y$1('div', { class: \"form__error-container\",}, screenshotError.message) : null\n            )\n          ) : null\n        )\n        , y$1('div', { class: \"btn-group\",}\n          , y$1('button', { class: \"btn btn--primary\" , disabled: isSubmitting, type: \"submit\",}\n            , submitButtonLabel\n          )\n          , y$1('button', { class: \"btn btn--default\" , disabled: isSubmitting, type: \"button\", onClick: onFormClose,}\n            , cancelButtonLabel\n          )\n        )\n      )\n    )\n  );\n}\n\nfunction LabelText({\n  label,\n  isRequired,\n  isRequiredLabel,\n}\n\n) {\n  return (\n    y$1('span', { class: \"form__label__text\",}\n      , label\n      , isRequired && y$1('span', { class: \"form__label__text--required\",}, isRequiredLabel)\n    )\n  );\n}\n\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Success Icon (checkmark)\n */\nfunction SuccessIcon() {\n  const createElementNS = (tagName) =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'inherit',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)',\n  });\n\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z',\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z',\n  });\n\n  svg.appendChild(g).append(path, path2);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return svg;\n}\n\nfunction Dialog({ open, onFormSubmitted, ...props }) {\n  const options = props.options;\n  const successIconHtml = q(() => ({ __html: SuccessIcon().outerHTML }), []);\n\n  const [timeoutId, setTimeoutId] = p(null);\n\n  const handleOnSuccessClick = x(() => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      setTimeoutId(null);\n    }\n    onFormSubmitted();\n  }, [timeoutId]);\n\n  const onSubmitSuccess = x(\n    (data, eventId) => {\n      props.onSubmitSuccess(data, eventId);\n      setTimeoutId(\n        setTimeout(() => {\n          onFormSubmitted();\n          setTimeoutId(null);\n        }, SUCCESS_MESSAGE_TIMEOUT),\n      );\n    },\n    [onFormSubmitted],\n  );\n\n  return (\n    y$1(g$1, null\n      , timeoutId ? (\n        y$1('div', { class: \"success__position\", onClick: handleOnSuccessClick,}\n          , y$1('div', { class: \"success__content\",}\n            , options.successMessageText\n            , y$1('span', { class: \"success__icon\", dangerouslySetInnerHTML: successIconHtml,} )\n          )\n        )\n      ) : (\n        y$1('dialog', { class: \"dialog\", onClick: options.onFormClose, open: open,}\n          , y$1('div', { class: \"dialog__position\",}\n            , y$1('div', {\n              class: \"dialog__content\",\n              onClick: e => {\n                // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n                e.stopPropagation();\n              },}\n\n              , y$1(DialogHeader, { options: options,} )\n              , y$1(Form, { ...props, onSubmitSuccess: onSubmitSuccess,} )\n            )\n          )\n        )\n      )\n    )\n  );\n}\n\nconst DIALOG = `\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n`;\n\nconst DIALOG_HEADER = `\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n`;\n\nconst FORM = `\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n`;\n\nconst BUTTON = `\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n`;\n\nconst SUCCESS = `\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n`;\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createDialogStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n\n  style.textContent = `\n:host {\n  --dialog-inset: var(--inset);\n}\n\n${DIALOG}\n${DIALOG_HEADER}\n${FORM}\n${BUTTON}\n${SUCCESS}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n\nfunction getUser() {\n  const currentUser = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getCurrentScope)().getUser();\n  const isolationUser = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getIsolationScope)().getUser();\n  const globalUser = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)().getUser();\n  if (currentUser && Object.keys(currentUser).length) {\n    return currentUser;\n  }\n  if (isolationUser && Object.keys(isolationUser).length) {\n    return isolationUser;\n  }\n  return globalUser;\n}\n\nconst feedbackModalIntegration = (() => {\n  return {\n    name: 'FeedbackModal',\n    setupOnce() {},\n    createDialog: ({ options, screenshotIntegration, sendFeedback, shadow }) => {\n      const shadowRoot = shadow ;\n      const userKey = options.useSentryUser;\n      const user = getUser();\n\n      const el = DOCUMENT.createElement('div');\n      const style = createDialogStyles(options.styleNonce);\n\n      let originalOverflow = '';\n      const dialog = {\n        get el() {\n          return el;\n        },\n        appendToDom() {\n          if (!shadowRoot.contains(style) && !shadowRoot.contains(el)) {\n            shadowRoot.appendChild(style);\n            shadowRoot.appendChild(el);\n          }\n        },\n        removeFromDom() {\n          el.remove();\n          style.remove();\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n        open() {\n          renderContent(true);\n          options.onFormOpen?.();\n          (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getClient)()?.emit('openFeedbackWidget');\n          originalOverflow = DOCUMENT.body.style.overflow;\n          DOCUMENT.body.style.overflow = 'hidden';\n        },\n        close() {\n          renderContent(false);\n          DOCUMENT.body.style.overflow = originalOverflow;\n        },\n      };\n\n      const screenshotInput = screenshotIntegration?.createInput({ h: y$1, hooks, dialog, options });\n\n      const renderContent = (open) => {\n        B$1(\n          y$1(Dialog, {\n            options: options,\n            screenshotInput: screenshotInput,\n            showName: options.showName || options.isNameRequired,\n            showEmail: options.showEmail || options.isEmailRequired,\n            defaultName: (userKey && user?.[userKey.name]) || '',\n            defaultEmail: (userKey && user?.[userKey.email]) || '',\n            onFormClose: () => {\n              renderContent(false);\n              options.onFormClose?.();\n            },\n            onSubmit: sendFeedback,\n            onSubmitSuccess: (data, eventId) => {\n              renderContent(false);\n              options.onSubmitSuccess?.(data, eventId);\n            },\n            onSubmitError: (error) => {\n              options.onSubmitError?.(error);\n            },\n            onFormSubmitted: () => {\n              options.onFormSubmitted?.();\n            },\n            open: open,}\n          ),\n          el,\n        );\n      };\n\n      return dialog;\n    },\n  };\n}) ;\n\nfunction IconCloseFactory({\n  h, // eslint-disable-line @typescript-eslint/no-unused-vars\n}) {\n  return function IconClose() {\n    return (\n      h('svg', { 'data-test-id': \"icon-close\", viewBox: \"0 0 16 16\"   , fill: \"#2B2233\", height: \"25px\", width: \"25px\",}\n        , h('circle', { r: \"7\", cx: \"8\", cy: \"8\", fill: \"white\",} )\n        , h('path', {\n          strokeWidth: \"1.5\",\n          d: \"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z\",}\n)\n        , h('path', {\n          strokeWidth: \"1.5\",\n          d: \"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z\",}\n)\n        , h('path', {\n          strokeWidth: \"1.5\",\n          d: \"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z\",}\n)\n      )\n    );\n  };\n}\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createScreenshotInputStyles(styleNonce) {\n  const style = DOCUMENT.createElement('style');\n\n  const surface200 = '#1A141F';\n  const gray100 = '#302735';\n\n  style.textContent = `\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${surface200};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${surface200} 8px,\n      ${surface200} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${gray100} 15px,\n      ${gray100} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`;\n\n  if (styleNonce) {\n    style.setAttribute('nonce', styleNonce);\n  }\n\n  return style;\n}\n\nfunction ToolbarFactory({\n  h, // eslint-disable-line @typescript-eslint/no-unused-vars\n}) {\n  return function Toolbar({\n    action,\n    setAction,\n    options,\n  }\n\n) {\n    return (\n      h('div', { class: \"editor__tool-container\",}\n        , h('div', { class: \"editor__tool-bar\",}\n          , h('button', {\n            type: \"button\",\n            class: `editor__tool ${action === 'highlight' ? 'editor__tool--active' : ''}`,\n            onClick: () => {\n              setAction(action === 'highlight' ? '' : 'highlight');\n            },}\n\n            , options.highlightToolText\n          )\n          , h('button', {\n            type: \"button\",\n            class: `editor__tool ${action === 'hide' ? 'editor__tool--active' : ''}`,\n            onClick: () => {\n              setAction(action === 'hide' ? '' : 'hide');\n            },}\n\n            , options.hideToolText\n          )\n        )\n      )\n    );\n  };\n}\n\nfunction useTakeScreenshotFactory({ hooks }) {\n  function useDpi() {\n    const [dpi, setDpi] = hooks.useState(WINDOW.devicePixelRatio ?? 1);\n    hooks.useEffect(() => {\n      const onChange = () => {\n        setDpi(WINDOW.devicePixelRatio);\n      };\n      const media = matchMedia(`(resolution: ${WINDOW.devicePixelRatio}dppx)`);\n      media.addEventListener('change', onChange);\n      return () => {\n        media.removeEventListener('change', onChange);\n      };\n    }, []);\n\n    return dpi;\n  }\n\n  return function useTakeScreenshot({ onBeforeScreenshot, onScreenshot, onAfterScreenshot, onError }) {\n    const dpi = useDpi();\n\n    hooks.useEffect(() => {\n      const takeScreenshot = async () => {\n        onBeforeScreenshot();\n\n        // Chrome will animate a top-bar which can shrink the window height by a\n        // few pixels. The exact amount depends on how fast it takes to exec\n        // the onloadedmetadata callback.\n        // https://stackoverflow.com/q/75833049\n        const stream = await NAVIGATOR.mediaDevices.getDisplayMedia({\n          video: {\n            width: WINDOW.innerWidth * dpi,\n            height: WINDOW.innerHeight * dpi,\n          },\n          audio: false,\n          // @ts-expect-error experimental flags: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia#prefercurrenttab\n          monitorTypeSurfaces: 'exclude',\n          preferCurrentTab: true,\n          selfBrowserSurface: 'include',\n          surfaceSwitching: 'exclude',\n        });\n\n        const video = DOCUMENT.createElement('video');\n        await new Promise((resolve, reject) => {\n          video.srcObject = stream;\n          video.onloadedmetadata = () => {\n            onScreenshot(video, dpi);\n            stream.getTracks().forEach(track => track.stop());\n            resolve();\n          };\n          video.play().catch(reject);\n        });\n        onAfterScreenshot();\n      };\n\n      takeScreenshot().catch(onError);\n    }, []);\n  };\n}\n\nfunction drawRect(command, ctx, color) {\n  switch (command.type) {\n    case 'highlight': {\n      // creates a shadow around\n      ctx.shadowColor = 'rgba(0, 0, 0, 0.7)';\n      ctx.shadowBlur = 50;\n\n      // draws a rectangle first with a shadow\n      ctx.fillStyle = color;\n      ctx.fillRect(command.x - 1, command.y - 1, command.w + 2, command.h + 2);\n\n      // cut out the inside of the rectangle\n      ctx.clearRect(command.x, command.y, command.w, command.h);\n\n      break;\n    }\n    case 'hide':\n      ctx.fillStyle = 'rgb(0, 0, 0)';\n      ctx.fillRect(command.x, command.y, command.w, command.h);\n\n      break;\n  }\n}\n\nfunction with2dContext(\n  canvas,\n  options,\n  callback,\n) {\n  if (!canvas) {\n    return;\n  }\n  const ctx = canvas.getContext('2d', options);\n  if (!ctx) {\n    return;\n  }\n  callback(canvas, ctx);\n}\n\nfunction paintImage(maybeDest, source) {\n  with2dContext(maybeDest, { alpha: true }, (destCanvas, destCtx) => {\n    destCtx.drawImage(source, 0, 0, source.width, source.height, 0, 0, destCanvas.width, destCanvas.height);\n  });\n}\n\n// Paint the array of drawCommands into a canvas.\n// Assuming this is the canvas foreground, and the background is cleaned.\nfunction paintForeground(maybeCanvas, strokeColor, drawCommands) {\n  with2dContext(maybeCanvas, { alpha: true }, (canvas, ctx) => {\n    // If there's anything to draw, then we'll first clear the canvas with\n    // a transparent grey background\n    if (drawCommands.length) {\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n\n    drawCommands.forEach(command => {\n      drawRect(command, ctx, strokeColor);\n    });\n  });\n}\n\nfunction ScreenshotEditorFactory({\n  h,\n  hooks,\n  outputBuffer,\n  dialog,\n  options,\n}) {\n  const useTakeScreenshot = useTakeScreenshotFactory({ hooks });\n  const Toolbar = ToolbarFactory({ h });\n  const IconClose = IconCloseFactory({ h });\n  const editorStyleInnerText = { __html: createScreenshotInputStyles(options.styleNonce).innerText };\n\n  const dialogStyle = (dialog.el ).style;\n\n  const ScreenshotEditor = ({ screenshot }) => {\n    // Data for rendering:\n    const [action, setAction] = hooks.useState('highlight');\n    const [drawCommands, setDrawCommands] = hooks.useState([]);\n\n    // Refs to our html components:\n    const measurementRef = hooks.useRef(null);\n    const backgroundRef = hooks.useRef(null);\n    const foregroundRef = hooks.useRef(null);\n    const mouseRef = hooks.useRef(null);\n\n    // The size of our window, relative to the imageSource\n    const [scaleFactor, setScaleFactor] = hooks.useState(1);\n\n    const strokeColor = hooks.useMemo(() => {\n      const sentryFeedback = DOCUMENT.getElementById(options.id);\n      if (!sentryFeedback) {\n        return 'white';\n      }\n      const computedStyle = getComputedStyle(sentryFeedback);\n      return (\n        computedStyle.getPropertyValue('--button-primary-background') ||\n        computedStyle.getPropertyValue('--accent-background')\n      );\n    }, [options.id]);\n\n    // The initial resize, to measure the area and set the children to the correct size\n    hooks.useLayoutEffect(() => {\n      const handleResize = () => {\n        const measurementDiv = measurementRef.current;\n        if (!measurementDiv) {\n          return;\n        }\n\n        with2dContext(screenshot.canvas, { alpha: false }, canvas => {\n          const scale = Math.min(\n            measurementDiv.clientWidth / canvas.width,\n            measurementDiv.clientHeight / canvas.height,\n          );\n          setScaleFactor(scale);\n        });\n\n        // For Firefox, the canvas is not yet measured, so we need to wait for it to get the correct size\n        if (measurementDiv.clientHeight === 0 || measurementDiv.clientWidth === 0) {\n          setTimeout(handleResize, 0);\n        }\n      };\n\n      handleResize();\n      WINDOW.addEventListener('resize', handleResize);\n      return () => {\n        WINDOW.removeEventListener('resize', handleResize);\n      };\n    }, [screenshot]);\n\n    // Set the size of the canvas element to match our screenshot\n    const setCanvasSize = hooks.useCallback(\n      (maybeCanvas, scale) => {\n        with2dContext(maybeCanvas, { alpha: true }, (canvas, ctx) => {\n          // Must call `scale()` before setting `width` & `height`\n          ctx.scale(scale, scale);\n          canvas.width = screenshot.canvas.width;\n          canvas.height = screenshot.canvas.height;\n        });\n      },\n      [screenshot],\n    );\n\n    // Draw the screenshot into the background\n    hooks.useEffect(() => {\n      setCanvasSize(backgroundRef.current, screenshot.dpi);\n      paintImage(backgroundRef.current, screenshot.canvas);\n    }, [screenshot]);\n\n    // Draw the commands into the foreground\n    hooks.useEffect(() => {\n      setCanvasSize(foregroundRef.current, screenshot.dpi);\n      with2dContext(foregroundRef.current, { alpha: true }, (canvas, ctx) => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n      paintForeground(foregroundRef.current, strokeColor, drawCommands);\n    }, [drawCommands, strokeColor]);\n\n    // Draw into the output outputBuffer\n    hooks.useEffect(() => {\n      setCanvasSize(outputBuffer, screenshot.dpi);\n      paintImage(outputBuffer, screenshot.canvas);\n      with2dContext(DOCUMENT.createElement('canvas'), { alpha: true }, (foreground, ctx) => {\n        ctx.scale(screenshot.dpi, screenshot.dpi); // The scale needs to be set before we set the width/height and paint\n        foreground.width = screenshot.canvas.width;\n        foreground.height = screenshot.canvas.height;\n        paintForeground(foreground, strokeColor, drawCommands);\n        paintImage(outputBuffer, foreground);\n      });\n    }, [drawCommands, screenshot, strokeColor]);\n\n    const handleMouseDown = (e) => {\n      if (!action || !mouseRef.current) {\n        return;\n      }\n\n      const boundingRect = mouseRef.current.getBoundingClientRect();\n      const startingPoint = {\n        type: action,\n        x: e.offsetX / scaleFactor,\n        y: e.offsetY / scaleFactor};\n\n      const getDrawCommand = (startingPoint, e) => {\n        const x = (e.clientX - boundingRect.x) / scaleFactor;\n        const y = (e.clientY - boundingRect.y) / scaleFactor;\n        return {\n          type: startingPoint.type,\n          x: Math.min(startingPoint.x, x),\n          y: Math.min(startingPoint.y, y),\n          w: Math.abs(x - startingPoint.x),\n          h: Math.abs(y - startingPoint.y),\n        } ;\n      };\n\n      const handleMouseMove = (e) => {\n        with2dContext(foregroundRef.current, { alpha: true }, (canvas, ctx) => {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n        });\n        paintForeground(foregroundRef.current, strokeColor, [...drawCommands, getDrawCommand(startingPoint, e)]);\n      };\n\n      const handleMouseUp = (e) => {\n        const drawCommand = getDrawCommand(startingPoint, e);\n\n        // Prevent just clicking onto the canvas, mouse has to move at least 1 pixel\n        if (drawCommand.w * scaleFactor >= 1 && drawCommand.h * scaleFactor >= 1) {\n          setDrawCommands(prev => [...prev, drawCommand]);\n        }\n        DOCUMENT.removeEventListener('mousemove', handleMouseMove);\n        DOCUMENT.removeEventListener('mouseup', handleMouseUp);\n      };\n\n      DOCUMENT.addEventListener('mousemove', handleMouseMove);\n      DOCUMENT.addEventListener('mouseup', handleMouseUp);\n    };\n\n    const deleteRect = hooks.useCallback((index) => {\n      return (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setDrawCommands(prev => {\n          const updatedRects = [...prev];\n          updatedRects.splice(index, 1);\n          return updatedRects;\n        });\n      };\n    }, []);\n\n    const dimensions = {\n      width: `${screenshot.canvas.width * scaleFactor}px`,\n      height: `${screenshot.canvas.height * scaleFactor}px`,\n    };\n\n    const handleStopPropagation = (e) => {\n      e.stopPropagation();\n    };\n\n    return (\n      h('div', { class: \"editor\",}\n        , h('style', { nonce: options.styleNonce, dangerouslySetInnerHTML: editorStyleInnerText,} )\n        , h('div', { class: \"editor__image-container\",}\n          , h('div', { class: \"editor__canvas-container\", ref: measurementRef,}\n            , h('canvas', { ref: backgroundRef, id: \"background\", style: dimensions,} )\n            , h('canvas', { ref: foregroundRef, id: \"foreground\", style: dimensions,} )\n            , h('div', { ref: mouseRef, onMouseDown: handleMouseDown, style: dimensions,}\n              , drawCommands.map((rect, index) => (\n                h('div', {\n                  key: index,\n                  class: \"editor__rect\",\n                  style: {\n                    top: `${rect.y * scaleFactor}px`,\n                    left: `${rect.x * scaleFactor}px`,\n                    width: `${rect.w * scaleFactor}px`,\n                    height: `${rect.h * scaleFactor}px`,\n                  },}\n\n                  , h('button', {\n                    'aria-label': options.removeHighlightText,\n                    onClick: deleteRect(index),\n                    onMouseDown: handleStopPropagation,\n                    onMouseUp: handleStopPropagation,\n                    type: \"button\",}\n\n                    , h(IconClose, null )\n                  )\n                )\n              ))\n            )\n          )\n        )\n        , h(Toolbar, { options: options, action: action, setAction: setAction,} )\n      )\n    );\n  };\n\n  return function Wrapper({ onError }) {\n    const [screenshot, setScreenshot] = hooks.useState();\n\n    useTakeScreenshot({\n      onBeforeScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'none';\n      }, []),\n      onScreenshot: hooks.useCallback((screenshotVideo, dpi) => {\n        // Stash the original screenshot image so we can (re)draw it multiple times\n        with2dContext(DOCUMENT.createElement('canvas'), { alpha: false }, (canvas, ctx) => {\n          ctx.scale(dpi, dpi); // The scale needs to be set before we set the width/height and paint\n          canvas.width = screenshotVideo.videoWidth;\n          canvas.height = screenshotVideo.videoHeight;\n          ctx.drawImage(screenshotVideo, 0, 0, canvas.width, canvas.height);\n\n          setScreenshot({ canvas, dpi });\n        });\n\n        // The output buffer, we only need to set the width/height on this once, it stays the same forever\n        outputBuffer.width = screenshotVideo.videoWidth;\n        outputBuffer.height = screenshotVideo.videoHeight;\n      }, []),\n      onAfterScreenshot: hooks.useCallback(() => {\n        dialogStyle.display = 'block';\n      }, []),\n      onError: hooks.useCallback(error => {\n        dialogStyle.display = 'block';\n        onError(error);\n      }, []),\n    });\n\n    if (screenshot) {\n      return h(ScreenshotEditor, { screenshot: screenshot,} );\n    }\n\n    return h('div', null );\n  };\n}\n\nconst feedbackScreenshotIntegration = (() => {\n  return {\n    name: 'FeedbackScreenshot',\n    setupOnce() {},\n    createInput: ({ h, hooks, dialog, options }) => {\n      const outputBuffer = DOCUMENT.createElement('canvas');\n\n      return {\n        input: ScreenshotEditorFactory({\n          h: h ,\n          hooks: hooks ,\n          outputBuffer,\n          dialog,\n          options,\n        }) , // eslint-disable-line @typescript-eslint/no-explicit-any\n\n        value: async () => {\n          const blob = await new Promise(resolve => {\n            outputBuffer.toBlob(resolve, 'image/png');\n          });\n          if (blob) {\n            const data = new Uint8Array(await blob.arrayBuffer());\n            const attachment = {\n              data,\n              filename: 'screenshot.png',\n              contentType: 'application/png',\n              // attachmentType?: string;\n            };\n            return attachment;\n          }\n          return undefined;\n        },\n      };\n    },\n  };\n}) ;\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNlbnRyeS1pbnRlcm5hbCtmZWVkYmFja0AxMC4yNS4wL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL2ZlZWRiYWNrL2J1aWxkL25wbS9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTZLOztBQUU3SztBQUNBO0FBQ0E7QUFDQSxlQUFlLG9EQUFVO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLHVEQUFTOztBQUUxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLDZEQUFlO0FBQ25CO0FBQ0Esa0JBQWtCLDZEQUFlO0FBQ2pDO0FBQ0E7QUFDQSxXQUFXLDZEQUFlO0FBQzFCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0RBQStEO0FBQy9FLGVBQWUscUNBQXFDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3RELFlBQVk7QUFDWixRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTtBQUNaLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsS0FB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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGLEVBQUU7QUFDRixFQUFFO0FBQ0YsRUFBRTtBQUNGLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQiw2REFBZTtBQUNyQyx3QkFBd0IsK0RBQWlCO0FBQ3pDLHFCQUFxQiw0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QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBLG1DQUFtQyx5QkFBeUI7QUFDNUQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixvQkFBb0IsMkJBQTJCO0FBQy9DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7O0FBRXVIO0FBQ3hIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd29ya3NwYWNlLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzZW50cnktaW50ZXJuYWwrZmVlZGJhY2tAMTAuMjUuMC9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC9mZWVkYmFjay9idWlsZC9ucG0vZXNtL2luZGV4LmpzP2VlNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR0xPQkFMX09CSiwgZ2V0Q2xpZW50LCBnZXRDdXJyZW50U2NvcGUsIGNhcHR1cmVGZWVkYmFjaywgZ2V0TG9jYXRpb25IcmVmLCBpc0Jyb3dzZXIsIGRlYnVnLCBhZGRJbnRlZ3JhdGlvbiwgZ2V0SXNvbGF0aW9uU2NvcGUsIGdldEdsb2JhbFNjb3BlIH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcblxuLy8gZXhwb3J0aW5nIGEgc2VwYXJhdGUgY29weSBvZiBgV0lORE9XYCByYXRoZXIgdGhhbiBleHBvcnRpbmcgdGhlIG9uZSBmcm9tIGBAc2VudHJ5L2Jyb3dzZXJgXG4vLyBwcmV2ZW50cyB0aGUgYnJvd3NlciBwYWNrYWdlIGZyb20gYmVpbmcgYnVuZGxlZCBpbiB0aGUgQ0ROIGJ1bmRsZSwgYW5kIGF2b2lkcyBhXG4vLyBjaXJjdWxhciBkZXBlbmRlbmN5IGJldHdlZW4gdGhlIGJyb3dzZXIgYW5kIGZlZWRiYWNrIHBhY2thZ2VzXG5jb25zdCBXSU5ET1cgPSBHTE9CQUxfT0JKIDtcbmNvbnN0IERPQ1VNRU5UID0gV0lORE9XLmRvY3VtZW50O1xuY29uc3QgTkFWSUdBVE9SID0gV0lORE9XLm5hdmlnYXRvcjtcblxuY29uc3QgVFJJR0dFUl9MQUJFTCA9ICdSZXBvcnQgYSBCdWcnO1xuY29uc3QgQ0FOQ0VMX0JVVFRPTl9MQUJFTCA9ICdDYW5jZWwnO1xuY29uc3QgU1VCTUlUX0JVVFRPTl9MQUJFTCA9ICdTZW5kIEJ1ZyBSZXBvcnQnO1xuY29uc3QgQ09ORklSTV9CVVRUT05fTEFCRUwgPSAnQ29uZmlybSc7XG5jb25zdCBGT1JNX1RJVExFID0gJ1JlcG9ydCBhIEJ1Zyc7XG5jb25zdCBFTUFJTF9QTEFDRUhPTERFUiA9ICd5b3VyLmVtYWlsQGV4YW1wbGUub3JnJztcbmNvbnN0IEVNQUlMX0xBQkVMID0gJ0VtYWlsJztcbmNvbnN0IE1FU1NBR0VfUExBQ0VIT0xERVIgPSBcIldoYXQncyB0aGUgYnVnPyBXaGF0IGRpZCB5b3UgZXhwZWN0P1wiO1xuY29uc3QgTUVTU0FHRV9MQUJFTCA9ICdEZXNjcmlwdGlvbic7XG5jb25zdCBOQU1FX1BMQUNFSE9MREVSID0gJ1lvdXIgTmFtZSc7XG5jb25zdCBOQU1FX0xBQkVMID0gJ05hbWUnO1xuY29uc3QgU1VDQ0VTU19NRVNTQUdFX1RFWFQgPSAnVGhhbmsgeW91IGZvciB5b3VyIHJlcG9ydCEnO1xuY29uc3QgSVNfUkVRVUlSRURfTEFCRUwgPSAnKHJlcXVpcmVkKSc7XG5jb25zdCBBRERfU0NSRUVOU0hPVF9MQUJFTCA9ICdBZGQgYSBzY3JlZW5zaG90JztcbmNvbnN0IFJFTU9WRV9TQ1JFRU5TSE9UX0xBQkVMID0gJ1JlbW92ZSBzY3JlZW5zaG90JztcbmNvbnN0IEhJR0hMSUdIVF9UT09MX1RFWFQgPSAnSGlnaGxpZ2h0JztcbmNvbnN0IEhJREVfVE9PTF9URVhUID0gJ0hpZGUnO1xuY29uc3QgUkVNT1ZFX0hJR0hMSUdIVF9URVhUID0gJ1JlbW92ZSc7XG5cbmNvbnN0IEZFRURCQUNLX1dJREdFVF9TT1VSQ0UgPSAnd2lkZ2V0JztcbmNvbnN0IEZFRURCQUNLX0FQSV9TT1VSQ0UgPSAnYXBpJztcblxuY29uc3QgU1VDQ0VTU19NRVNTQUdFX1RJTUVPVVQgPSA1MDAwO1xuXG4vKipcbiAqIFB1YmxpYyBBUEkgdG8gc2VuZCBhIEZlZWRiYWNrIGl0ZW0gdG8gU2VudHJ5XG4gKi9cbmNvbnN0IHNlbmRGZWVkYmFjayA9IChcbiAgcGFyYW1zLFxuICBoaW50ID0geyBpbmNsdWRlUmVwbGF5OiB0cnVlIH0sXG4pID0+IHtcbiAgaWYgKCFwYXJhbXMubWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHN1Ym1pdCBmZWVkYmFjayB3aXRoIGVtcHR5IG1lc3NhZ2UnKTtcbiAgfVxuXG4gIC8vIFdlIHdhbnQgdG8gd2FpdCBmb3IgdGhlIGZlZWRiYWNrIHRvIGJlIHNlbnQgKG9yIG5vdClcbiAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50KCk7XG5cbiAgaWYgKCFjbGllbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNsaWVudCBzZXR1cCwgY2Fubm90IHNlbmQgZmVlZGJhY2suJyk7XG4gIH1cblxuICBpZiAocGFyYW1zLnRhZ3MgJiYgT2JqZWN0LmtleXMocGFyYW1zLnRhZ3MpLmxlbmd0aCkge1xuICAgIGdldEN1cnJlbnRTY29wZSgpLnNldFRhZ3MocGFyYW1zLnRhZ3MpO1xuICB9XG4gIGNvbnN0IGV2ZW50SWQgPSBjYXB0dXJlRmVlZGJhY2soXG4gICAge1xuICAgICAgc291cmNlOiBGRUVEQkFDS19BUElfU09VUkNFLFxuICAgICAgdXJsOiBnZXRMb2NhdGlvbkhyZWYoKSxcbiAgICAgIC4uLnBhcmFtcyxcbiAgICB9LFxuICAgIGhpbnQsXG4gICk7XG5cbiAgLy8gV2Ugd2FudCB0byB3YWl0IGZvciB0aGUgZmVlZGJhY2sgdG8gYmUgc2VudCAob3Igbm90KVxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIC8vIEFmdGVyIDMwcywgd2Ugd2FudCB0byBjbGVhciBhbnlob3dcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiByZWplY3QoJ1VuYWJsZSB0byBkZXRlcm1pbmUgaWYgRmVlZGJhY2sgd2FzIGNvcnJlY3RseSBzZW50LicpLCAzMDAwMCk7XG5cbiAgICBjb25zdCBjbGVhbnVwID0gY2xpZW50Lm9uKCdhZnRlclNlbmRFdmVudCcsIChldmVudCwgcmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChldmVudC5ldmVudF9pZCAhPT0gZXZlbnRJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIGNsZWFudXAoKTtcblxuICAgICAgLy8gUmVxdWlyZSB2YWxpZCBzdGF0dXMgY29kZXMsIG90aGVyd2lzZSBjYW4gYXNzdW1lIGZlZWRiYWNrIHdhcyBub3Qgc2VudCBzdWNjZXNzZnVsbHlcbiAgICAgIGlmIChyZXNwb25zZT8uc3RhdHVzQ29kZSAmJiByZXNwb25zZS5zdGF0dXNDb2RlID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXNDb2RlIDwgMzAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKGV2ZW50SWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2U/LnN0YXR1c0NvZGUgPT09IDQwMykge1xuICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgICdVbmFibGUgdG8gc2VuZCBmZWVkYmFjay4gVGhpcyBjb3VsZCBiZSBiZWNhdXNlIHRoaXMgZG9tYWluIGlzIG5vdCBpbiB5b3VyIGxpc3Qgb2YgYWxsb3dlZCBkb21haW5zLicsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgICdVbmFibGUgdG8gc2VuZCBmZWVkYmFjay4gVGhpcyBjb3VsZCBiZSBiZWNhdXNlIG9mIG5ldHdvcmsgaXNzdWVzLCBvciBiZWNhdXNlIHlvdSBhcmUgdXNpbmcgYW4gYWQtYmxvY2tlci4nLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKlxuICogRm9yIHJlZmVyZW5jZSwgdGhlIGZ1bGx5IGJ1aWx0IGV2ZW50IGxvb2tzIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gKiB7XG4gKiAgICAgXCJ0eXBlXCI6IFwiZmVlZGJhY2tcIixcbiAqICAgICBcImV2ZW50X2lkXCI6IFwiZDIxMzJkMzFiMzk0NDVmMTkzOGQ3ZTIxYjZiZjBlYzRcIixcbiAqICAgICBcInRpbWVzdGFtcFwiOiAxNTk3OTc3Nzc3LjYxODk3MTgsXG4gKiAgICAgXCJkaXN0XCI6IFwiMS4xMlwiLFxuICogICAgIFwicGxhdGZvcm1cIjogXCJqYXZhc2NyaXB0XCIsXG4gKiAgICAgXCJlbnZpcm9ubWVudFwiOiBcInByb2R1Y3Rpb25cIixcbiAqICAgICBcInJlbGVhc2VcIjogNDIsXG4gKiAgICAgXCJ0YWdzXCI6IHtcInRyYW5zYWN0aW9uXCI6IFwiL29yZ2FuaXphdGlvbnMvOm9yZ0lkL3BlcmZvcm1hbmNlLzpldmVudFNsdWcvXCJ9LFxuICogICAgIFwic2RrXCI6IHtcIm5hbWVcIjogXCJuYW1lXCIsIFwidmVyc2lvblwiOiBcInZlcnNpb25cIn0sXG4gKiAgICAgXCJ1c2VyXCI6IHtcbiAqICAgICAgICAgXCJpZFwiOiBcIjEyM1wiLFxuICogICAgICAgICBcInVzZXJuYW1lXCI6IFwidXNlclwiLFxuICogICAgICAgICBcImVtYWlsXCI6IFwidXNlckBzaXRlLmNvbVwiLFxuICogICAgICAgICBcImlwX2FkZHJlc3NcIjogXCIxOTIuMTY4LjExLjEyXCIsXG4gKiAgICAgfSxcbiAqICAgICBcInJlcXVlc3RcIjoge1xuICogICAgICAgICBcInVybFwiOiBOb25lLFxuICogICAgICAgICBcImhlYWRlcnNcIjoge1xuICogICAgICAgICAgICAgXCJ1c2VyLUFnZW50XCI6IFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNjA1LjEuMTUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzE1LjUgU2FmYXJpLzYwNS4xLjE1XCJcbiAqICAgICAgICAgfSxcbiAqICAgICB9LFxuICogICAgIFwiY29udGV4dHNcIjoge1xuICogICAgICAgICBcImZlZWRiYWNrXCI6IHtcbiAqICAgICAgICAgICAgIFwibWVzc2FnZVwiOiBcInRlc3QgbWVzc2FnZVwiLFxuICogICAgICAgICAgICAgXCJjb250YWN0X2VtYWlsXCI6IFwidGVzdEBleGFtcGxlLmNvbVwiLFxuICogICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZmVlZGJhY2tcIixcbiAqICAgICAgICAgfSxcbiAqICAgICAgICAgXCJ0cmFjZVwiOiB7XG4gKiAgICAgICAgICAgICBcInRyYWNlX2lkXCI6IFwiNEM3OUY2MEMxMTIxNEVCMzg2MDRGNEFFMDc4MUJGQjJcIixcbiAqICAgICAgICAgICAgIFwic3Bhbl9pZFwiOiBcIkZBOTBGREVBRDVGNzQwNTJcIixcbiAqICAgICAgICAgICAgIFwidHlwZVwiOiBcInRyYWNlXCIsXG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIFwicmVwbGF5XCI6IHtcbiAqICAgICAgICAgICAgIFwicmVwbGF5X2lkXCI6IFwiZTJkNDIwNDdiMWM1NDMxYzhjYmE4NWVlMmE4YWIyNWRcIixcbiAqICAgICAgICAgfSxcbiAqICAgICB9LFxuICogICB9XG4gKi9cblxuLyoqXG4gKiBUaGlzIHNlcnZlcyBhcyBhIGJ1aWxkIHRpbWUgZmxhZyB0aGF0IHdpbGwgYmUgdHJ1ZSBieSBkZWZhdWx0LCBidXQgZmFsc2UgaW4gbm9uLWRlYnVnIGJ1aWxkcyBvciBpZiB1c2VycyByZXBsYWNlIGBfX1NFTlRSWV9ERUJVR19fYCBpbiB0aGVpciBnZW5lcmF0ZWQgY29kZS5cbiAqXG4gKiBBVFRFTlRJT046IFRoaXMgY29uc3RhbnQgbXVzdCBuZXZlciBjcm9zcyBwYWNrYWdlIGJvdW5kYXJpZXMgKGkuZS4gYmUgZXhwb3J0ZWQpIHRvIGd1YXJhbnRlZSB0aGF0IGl0IGNhbiBiZSB1c2VkIGZvciB0cmVlIHNoYWtpbmcuXG4gKi9cbmNvbnN0IERFQlVHX0JVSUxEID0gKHR5cGVvZiBfX1NFTlRSWV9ERUJVR19fID09PSAndW5kZWZpbmVkJyB8fCBfX1NFTlRSWV9ERUJVR19fKTtcblxuLyoqXG4gKiBNb2JpbGUgYnJvd3NlcnMgZG8gbm90IHN1cHBvcnQgYG1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWFgIGV2ZW4gdGhvdWdoIHRoZXkgaGF2ZSB0aGUgYXBpIGltcGxlbWVudGVkXG4gKiBJbnN0ZWFkIHRoZXkgcmV0dXJuIHRoaW5ncyBsaWtlIGBOb3RBbGxvd2VkRXJyb3JgIHdoZW4gY2FsbGVkLlxuICpcbiAqIEl0J3Mgc2ltcGxlciBmb3IgdXMgdG8gYnJvd3NlciBzbmlmZiBmaXJzdCwgYW5kIGF2b2lkIGxvYWRpbmcgdGhlIGludGVncmF0aW9uIGlmIHdlIGNhbi5cbiAqXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTg4NzkyMTJcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNTQwMjk1XG4gKlxuICogYG1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWFgIGlzIGFsc28gb25seSBzdXBwb3J0ZWQgaW4gc2VjdXJlIGNvbnRleHRzLCBhbmQgcmV0dXJuIGEgYG1lZGlhRGV2aWNlcyBpcyBub3Qgc3VwcG9ydGVkYCBlcnJvciwgc28gd2Ugc2hvdWxkIGFsc28gYXZvaWQgbG9hZGluZyB0aGUgaW50ZWdyYXRpb24gaWYgd2UgY2FuLlxuICpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYURldmljZXMvZ2V0RGlzcGxheU1lZGlhXG4gKi9cbmZ1bmN0aW9uIGlzU2NyZWVuc2hvdFN1cHBvcnRlZCgpIHtcbiAgaWYgKC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChOQVZJR0FUT1IudXNlckFnZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogVXNlciBhZ2VudCBvbiBpUGFkcyBzaG93IGFzIE1hY2ludG9zaCwgc28gd2UgbmVlZCBleHRyYSBjaGVja3NcbiAgICpcbiAgICogaHR0cHM6Ly9mb3J1bXMuZGV2ZWxvcGVyLmFwcGxlLmNvbS9mb3J1bXMvdGhyZWFkLzExOTE4NlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82MDQ4MjY1MC9ob3ctdG8tZGV0ZWN0LWlwYWQtdXNlcmFnZW50LW9uLXNhZmFyaS1icm93c2VyXG4gICAqL1xuICBpZiAoL01hY2ludG9zaC9pLnRlc3QoTkFWSUdBVE9SLnVzZXJBZ2VudCkgJiYgTkFWSUdBVE9SLm1heFRvdWNoUG9pbnRzICYmIE5BVklHQVRPUi5tYXhUb3VjaFBvaW50cyA+IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFpc1NlY3VyZUNvbnRleHQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogUXVpY2sgYW5kIGRpcnR5IGRlZXAgbWVyZ2UgZm9yIHRoZSBGZWVkYmFjayBpbnRlZ3JhdGlvbiBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhcbiAgZGVmYXVsdE9wdGlvbnMsXG4gIG9wdGlvbk92ZXJyaWRlcyxcbikge1xuICByZXR1cm4ge1xuICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbk92ZXJyaWRlcyxcbiAgICB0YWdzOiB7XG4gICAgICAuLi5kZWZhdWx0T3B0aW9ucy50YWdzLFxuICAgICAgLi4ub3B0aW9uT3ZlcnJpZGVzLnRhZ3MsXG4gICAgfSxcbiAgICBvbkZvcm1PcGVuOiAoKSA9PiB7XG4gICAgICBvcHRpb25PdmVycmlkZXMub25Gb3JtT3Blbj8uKCk7XG4gICAgICBkZWZhdWx0T3B0aW9ucy5vbkZvcm1PcGVuPy4oKTtcbiAgICB9LFxuICAgIG9uRm9ybUNsb3NlOiAoKSA9PiB7XG4gICAgICBvcHRpb25PdmVycmlkZXMub25Gb3JtQ2xvc2U/LigpO1xuICAgICAgZGVmYXVsdE9wdGlvbnMub25Gb3JtQ2xvc2U/LigpO1xuICAgIH0sXG4gICAgb25TdWJtaXRTdWNjZXNzOiAoZGF0YSwgZXZlbnRJZCkgPT4ge1xuICAgICAgb3B0aW9uT3ZlcnJpZGVzLm9uU3VibWl0U3VjY2Vzcz8uKGRhdGEsIGV2ZW50SWQpO1xuICAgICAgZGVmYXVsdE9wdGlvbnMub25TdWJtaXRTdWNjZXNzPy4oZGF0YSwgZXZlbnRJZCk7XG4gICAgfSxcbiAgICBvblN1Ym1pdEVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgIG9wdGlvbk92ZXJyaWRlcy5vblN1Ym1pdEVycm9yPy4oZXJyb3IpO1xuICAgICAgZGVmYXVsdE9wdGlvbnMub25TdWJtaXRFcnJvcj8uKGVycm9yKTtcbiAgICB9LFxuICAgIG9uRm9ybVN1Ym1pdHRlZDogKCkgPT4ge1xuICAgICAgb3B0aW9uT3ZlcnJpZGVzLm9uRm9ybVN1Ym1pdHRlZD8uKCk7XG4gICAgICBkZWZhdWx0T3B0aW9ucy5vbkZvcm1TdWJtaXR0ZWQ/LigpO1xuICAgIH0sXG4gICAgdGhlbWVEYXJrOiB7XG4gICAgICAuLi5kZWZhdWx0T3B0aW9ucy50aGVtZURhcmssXG4gICAgICAuLi5vcHRpb25PdmVycmlkZXMudGhlbWVEYXJrLFxuICAgIH0sXG4gICAgdGhlbWVMaWdodDoge1xuICAgICAgLi4uZGVmYXVsdE9wdGlvbnMudGhlbWVMaWdodCxcbiAgICAgIC4uLm9wdGlvbk92ZXJyaWRlcy50aGVtZUxpZ2h0LFxuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyA8c3R5bGU+IGVsZW1lbnQgZm9yIHdpZGdldCBhY3RvciAoYnV0dG9uIHRoYXQgb3BlbnMgdGhlIGRpYWxvZylcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQWN0b3JTdHlsZXMoc3R5bGVOb25jZSkge1xuICBjb25zdCBzdHlsZSA9IERPQ1VNRU5ULmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLnRleHRDb250ZW50ID0gYFxuLndpZGdldF9fYWN0b3Ige1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHotaW5kZXg6IHZhcigtLXotaW5kZXgpO1xuICBtYXJnaW46IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgaW5zZXQ6IHZhcigtLWFjdG9yLWluc2V0KTtcblxuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDhweDtcbiAgcGFkZGluZzogMTZweDtcblxuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUpO1xuICBmb250LXdlaWdodDogNjAwO1xuICBsaW5lLWhlaWdodDogMS4xNGVtO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG5cbiAgYmFja2dyb3VuZDogdmFyKC0tYWN0b3ItYmFja2dyb3VuZCwgdmFyKC0tYmFja2dyb3VuZCkpO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1hY3Rvci1ib3JkZXItcmFkaXVzLCAxLjdlbS81MCUpO1xuICBib3JkZXI6IHZhcigtLWFjdG9yLWJvcmRlciwgdmFyKC0tYm9yZGVyKSk7XG4gIGJveC1zaGFkb3c6IHZhcigtLWFjdG9yLWJveC1zaGFkb3csIHZhcigtLWJveC1zaGFkb3cpKTtcbiAgY29sb3I6IHZhcigtLWFjdG9yLWNvbG9yLCB2YXIoLS1mb3JlZ3JvdW5kKSk7XG4gIGZpbGw6IHZhcigtLWFjdG9yLWNvbG9yLCB2YXIoLS1mb3JlZ3JvdW5kKSk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZS1pbi1vdXQ7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApIHNjYWxlKDEpO1xufVxuLndpZGdldF9fYWN0b3JbYXJpYS1oaWRkZW49XCJ0cnVlXCJdIHtcbiAgb3BhY2l0eTogMDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMTZweCkgc2NhbGUoMC45OCk7XG59XG5cbi53aWRnZXRfX2FjdG9yOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYWN0b3ItaG92ZXItYmFja2dyb3VuZCwgdmFyKC0tYmFja2dyb3VuZCkpO1xuICBmaWx0ZXI6IHZhcigtLWludGVyYWN0aXZlLWZpbHRlcik7XG59XG5cbi53aWRnZXRfX2FjdG9yIHN2ZyB7XG4gIHdpZHRoOiAxLjE0ZW07XG4gIGhlaWdodDogMS4xNGVtO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgLndpZGdldF9fYWN0b3Igc3BhbiB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufVxuYDtcblxuICBpZiAoc3R5bGVOb25jZSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBzdHlsZU5vbmNlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2V0IGEgZGljdCBvZiBhdHRyaWJ1dGVzIG9uIGVsZW1lbnQgKHcvIHNwZWNpZmllZCBuYW1lc3BhY2UpXG4gKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNOUyhlbCwgYXR0cmlidXRlcykge1xuICBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5mb3JFYWNoKChba2V5LCB2YWxdKSA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlTlMobnVsbCwga2V5LCB2YWwpO1xuICB9KTtcbiAgcmV0dXJuIGVsO1xufVxuXG5jb25zdCBTSVpFID0gMjA7XG5jb25zdCBYTUxOUyQyID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxuLyoqXG4gKiBGZWVkYmFjayBJY29uXG4gKi9cbmZ1bmN0aW9uIEZlZWRiYWNrSWNvbigpIHtcbiAgY29uc3QgY3JlYXRlRWxlbWVudE5TID0gKHRhZ05hbWUpID0+XG4gICAgV0lORE9XLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhYTUxOUyQyLCB0YWdOYW1lKTtcbiAgY29uc3Qgc3ZnID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygnc3ZnJyksIHtcbiAgICB3aWR0aDogYCR7U0laRX1gLFxuICAgIGhlaWdodDogYCR7U0laRX1gLFxuICAgIHZpZXdCb3g6IGAwIDAgJHtTSVpFfSAke1NJWkV9YCxcbiAgICBmaWxsOiAndmFyKC0tYWN0b3ItY29sb3IsIHZhcigtLWZvcmVncm91bmQpKScsXG4gIH0pO1xuXG4gIGNvbnN0IGcgPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdnJyksIHtcbiAgICBjbGlwUGF0aDogJ3VybCgjY2xpcDBfNTdfODApJyxcbiAgfSk7XG5cbiAgY29uc3QgcGF0aCA9IHNldEF0dHJpYnV0ZXNOUyhjcmVhdGVFbGVtZW50TlMoJ3BhdGgnKSwge1xuICAgIFsnZmlsbC1ydWxlJ106ICdldmVub2RkJyxcbiAgICBbJ2NsaXAtcnVsZSddOiAnZXZlbm9kZCcsXG4gICAgZDogJ00xNS42NjIyIDE1SDEyLjM5OTdDMTIuMjEyOSAxNC45OTU5IDEyLjAzMSAxNC45Mzk2IDExLjg3NDcgMTQuODM3NUw4LjA0OTY1IDEyLjJINy40OTk1NlYxOS4xQzcuNDg3NSAxOS4zMzQ4IDcuMzg4OCAxOS41NTY4IDcuMjIyNTYgMTkuNzIzQzcuMDU2MzIgMTkuODg5MiA2LjgzNDM1IDE5Ljk4NzkgNi41OTk1NiAyMEgyLjA0OTU2QzEuODAxOTMgMTkuOTk2OCAxLjU2NTM1IDE5Ljg5NjkgMS4zOTAyMyAxOS43MjE4QzEuMjE1MTEgMTkuNTQ2NyAxLjExNTMgMTkuMzEwMSAxLjExMjA2IDE5LjA2MjVWMTIuMkgwLjk0OTY1MkMwLjgyNDQzMSAxMi4yMDE3IDAuNzAwMTQyIDEyLjE3ODMgMC41ODQxMjMgMTIuMTMxMUMwLjQ2ODEwNCAxMi4wODQgMC4zNjI3MDggMTIuMDE0IDAuMjc0MTU1IDExLjkyNTVDMC4xODU2MDIgMTEuODM2OSAwLjExNTY4OSAxMS43MzE1IDAuMDY4NTQxOSAxMS42MTU1QzAuMDIxMzk1MiAxMS40OTk1IC0wLjAwMjAyOTEzIDExLjM3NTIgLTAuMDAwMzQ4MDggMTEuMjVWMy43NUMtMC4wMDkwMDQ5OCAzLjYyMDY3IDAuMDA5MjUwNCAzLjQ5MDk1IDAuMDUzMjY1MSAzLjM2OTA0QzAuMDk3Mjc5OCAzLjI0NzEyIDAuMTY2MDk3IDMuMTM1NjYgMC4yNTUzNzIgMy4wNDE2OEMwLjM0NDY0NiAyLjk0NzcxIDAuNDUyNDM3IDIuODczMjcgMC41NzE5MzcgMi44MjMwN0MwLjY5MTQzNyAyLjc3Mjg2IDAuODIwMDUgMi43NDc5OCAwLjk0OTY1MiAyLjc1SDguMDQ5NjVMMTEuODc0NyAwLjE2MjVDMTIuMDMxIDAuMDYwMzY0OSAxMi4yMTI5IDAuMDA0MDcyMjEgMTIuMzk5NyAwSDE1LjY2MjJDMTUuOTA5OCAwLjAwMzIzNzQ2IDE2LjE0NjQgMC4xMDMwNDkgMTYuMzIxNSAwLjI3ODE2N0MxNi40OTY2IDAuNDUzMjg2IDE2LjU5NjQgMC42ODk4NjYgMTYuNTk5NyAwLjkzNzVWMy4yNTI2OUMxNy4zOTY5IDMuNDI5NTkgMTguMTM0NSAzLjgzMDI2IDE4LjcyMTEgNC40MTY3OUMxOS41MzIyIDUuMjI3ODggMTkuOTg3OCA2LjMyNzk2IDE5Ljk4NzggNy40NzUwMkMxOS45ODc4IDguNjIyMDkgMTkuNTMyMiA5LjcyMjE3IDE4LjcyMTEgMTAuNTMzM0MxOC4xMzQ1IDExLjExOTggMTcuMzk2OSAxMS41MjA1IDE2LjU5OTcgMTEuNjk3NFYxNC4wMTI1QzE2LjYwNDcgMTQuMTM5MyAxNi41ODQyIDE0LjI2NTkgMTYuNTM5NSAxNC4zODQ3QzE2LjQ5NDggMTQuNTAzNSAxNi40MjY4IDE0LjYxMjEgMTYuMzM5NCAxNC43MDQyQzE2LjI1MiAxNC43OTYyIDE2LjE0NyAxNC44Njk4IDE2LjAzMDcgMTQuOTIwNkMxNS45MTQ0IDE0Ljk3MTQgMTUuNzg5MSAxNC45OTg0IDE1LjY2MjIgMTVaTTEuODk2OTUgMTAuMzI1SDEuODg3MTVWNC42MjVIOC4zMzcxNUM4LjUyNDIzIDQuNjIzMDEgOC43MDY2NiA0LjU2NjU0IDguODYyMTUgNC40NjI1TDEyLjY4NzIgMS44NzVIMTQuNzI0N1YxMy4xMjVIMTIuNjg3Mkw4Ljg2MjE1IDEwLjQ4NzVDOC43MDY2NiAxMC4zODM1IDguNTI0MjMgMTAuMzI3IDguMzM3MTUgMTAuMzI1SDIuMjAyMTdDMi4xNTIwNSAxMC4zMTY3IDIuMTAxMDIgMTAuMzEyNSAyLjA0OTU2IDEwLjMxMjVDMS45OTgxIDEwLjMxMjUgMS45NDcwOCAxMC4zMTY3IDEuODk2OTUgMTAuMzI1Wk0yLjk4NzA2IDEyLjJWMTguMTYyNUg1LjY2MjA2VjEyLjJIMi45ODcwNlpNMTYuNTk5NyA5LjkzNjEyVjUuMDEzOTNDMTYuNjUzNiA1LjAyMzU1IDE2LjcwNzIgNS4wMzQ5NSAxNi43NjA1IDUuMDQ4MTRDMTcuMTIwMiA1LjEzNzA5IDE3LjQ1NTYgNS4zMDQ4NyAxNy43NDI1IDUuNTM5MzRDMTguMDI5MyA1Ljc3MzgxIDE4LjI2MDUgNi4wNjkxMiAxOC40MTkyIDYuNDAzODlDMTguNTc4IDYuNzM4NjYgMTguNjYwMyA3LjEwNDUyIDE4LjY2MDMgNy40NzUwMkMxOC42NjAzIDcuODQ1NTIgMTguNTc4IDguMjExMzkgMTguNDE5MiA4LjU0NjE2QzE4LjI2MDUgOC44ODA5MyAxOC4wMjkzIDkuMTc2MjQgMTcuNzQyNSA5LjQxMDcxQzE3LjQ1NTYgOS42NDUxOCAxNy4xMjAyIDkuODEyOTYgMTYuNzYwNSA5LjkwMTkxQzE2LjcwNzIgOS45MTUwOSAxNi42NTM2IDkuOTI2NSAxNi41OTk3IDkuOTM2MTJaJyxcbiAgfSk7XG4gIHN2Zy5hcHBlbmRDaGlsZChnKS5hcHBlbmRDaGlsZChwYXRoKTtcblxuICBjb25zdCBzcGVha2VyRGVmcyA9IGNyZWF0ZUVsZW1lbnROUygnZGVmcycpO1xuICBjb25zdCBzcGVha2VyQ2xpcFBhdGhEZWYgPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdjbGlwUGF0aCcpLCB7XG4gICAgaWQ6ICdjbGlwMF81N184MCcsXG4gIH0pO1xuXG4gIGNvbnN0IHNwZWFrZXJSZWN0ID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygncmVjdCcpLCB7XG4gICAgd2lkdGg6IGAke1NJWkV9YCxcbiAgICBoZWlnaHQ6IGAke1NJWkV9YCxcbiAgICBmaWxsOiAnd2hpdGUnLFxuICB9KTtcblxuICBzcGVha2VyQ2xpcFBhdGhEZWYuYXBwZW5kQ2hpbGQoc3BlYWtlclJlY3QpO1xuICBzcGVha2VyRGVmcy5hcHBlbmRDaGlsZChzcGVha2VyQ2xpcFBhdGhEZWYpO1xuXG4gIHN2Zy5hcHBlbmRDaGlsZChzcGVha2VyRGVmcykuYXBwZW5kQ2hpbGQoc3BlYWtlckNsaXBQYXRoRGVmKS5hcHBlbmRDaGlsZChzcGVha2VyUmVjdCk7XG5cbiAgcmV0dXJuIHN2Zztcbn1cblxuLyoqXG4gKiBUaGUgc2VudHJ5LXByb3ZpZGVkIGJ1dHRvbiB0byBvcGVuIHRoZSBmZWVkYmFjayBtb2RhbFxuICovXG5mdW5jdGlvbiBBY3Rvcih7IHRyaWdnZXJMYWJlbCwgdHJpZ2dlckFyaWFMYWJlbCwgc2hhZG93LCBzdHlsZU5vbmNlIH0pIHtcbiAgY29uc3QgZWwgPSBET0NVTUVOVC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgZWwudHlwZSA9ICdidXR0b24nO1xuICBlbC5jbGFzc05hbWUgPSAnd2lkZ2V0X19hY3Rvcic7XG4gIGVsLmFyaWFIaWRkZW4gPSAnZmFsc2UnO1xuICBlbC5hcmlhTGFiZWwgPSB0cmlnZ2VyQXJpYUxhYmVsIHx8IHRyaWdnZXJMYWJlbCB8fCBUUklHR0VSX0xBQkVMO1xuICBlbC5hcHBlbmRDaGlsZChGZWVkYmFja0ljb24oKSk7XG4gIGlmICh0cmlnZ2VyTGFiZWwpIHtcbiAgICBjb25zdCBsYWJlbCA9IERPQ1VNRU5ULmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBsYWJlbC5hcHBlbmRDaGlsZChET0NVTUVOVC5jcmVhdGVUZXh0Tm9kZSh0cmlnZ2VyTGFiZWwpKTtcbiAgICBlbC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gIH1cblxuICBjb25zdCBzdHlsZSA9IGNyZWF0ZUFjdG9yU3R5bGVzKHN0eWxlTm9uY2UpO1xuXG4gIHJldHVybiB7XG4gICAgZWwsXG4gICAgYXBwZW5kVG9Eb20oKSB7XG4gICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgc2hhZG93LmFwcGVuZENoaWxkKGVsKTtcbiAgICB9LFxuICAgIHJlbW92ZUZyb21Eb20oKSB7XG4gICAgICBlbC5yZW1vdmUoKTtcbiAgICAgIHN0eWxlLnJlbW92ZSgpO1xuICAgIH0sXG4gICAgc2hvdygpIHtcbiAgICAgIGVsLmFyaWFIaWRkZW4gPSAnZmFsc2UnO1xuICAgIH0sXG4gICAgaGlkZSgpIHtcbiAgICAgIGVsLmFyaWFIaWRkZW4gPSAndHJ1ZSc7XG4gICAgfSxcbiAgfTtcbn1cblxuY29uc3QgUFVSUExFID0gJ3JnYmEoODgsIDc0LCAxOTIsIDEpJztcblxuY29uc3QgREVGQVVMVF9MSUdIVCA9IHtcbiAgZm9yZWdyb3VuZDogJyMyYjIyMzMnLFxuICBiYWNrZ3JvdW5kOiAnI2ZmZmZmZicsXG4gIGFjY2VudEZvcmVncm91bmQ6ICd3aGl0ZScsXG4gIGFjY2VudEJhY2tncm91bmQ6IFBVUlBMRSxcbiAgc3VjY2Vzc0NvbG9yOiAnIzI2OGQ3NScsXG4gIGVycm9yQ29sb3I6ICcjZGYzMzM4JyxcbiAgYm9yZGVyOiAnMS41cHggc29saWQgcmdiYSg0MSwgMzUsIDQ3LCAwLjEzKScsXG4gIGJveFNoYWRvdzogJzBweCA0cHggMjRweCAwcHggcmdiYSg0MywgMzQsIDUxLCAwLjEyKScsXG4gIG91dGxpbmU6ICcxcHggYXV0byB2YXIoLS1hY2NlbnQtYmFja2dyb3VuZCknLFxuICBpbnRlcmFjdGl2ZUZpbHRlcjogJ2JyaWdodG5lc3MoOTUlKScsXG59O1xuY29uc3QgREVGQVVMVF9EQVJLID0ge1xuICBmb3JlZ3JvdW5kOiAnI2ViZTZlZicsXG4gIGJhY2tncm91bmQ6ICcjMjkyMzJmJyxcbiAgYWNjZW50Rm9yZWdyb3VuZDogJ3doaXRlJyxcbiAgYWNjZW50QmFja2dyb3VuZDogUFVSUExFLFxuICBzdWNjZXNzQ29sb3I6ICcjMmRhOThjJyxcbiAgZXJyb3JDb2xvcjogJyNmNTU0NTknLFxuICBib3JkZXI6ICcxLjVweCBzb2xpZCByZ2JhKDIzNSwgMjMwLCAyMzksIDAuMTUpJyxcbiAgYm94U2hhZG93OiAnMHB4IDRweCAyNHB4IDBweCByZ2JhKDQzLCAzNCwgNTEsIDAuMTIpJyxcbiAgb3V0bGluZTogJzFweCBhdXRvIHZhcigtLWFjY2VudC1iYWNrZ3JvdW5kKScsXG4gIGludGVyYWN0aXZlRmlsdGVyOiAnYnJpZ2h0bmVzcygxNTAlKScsXG59O1xuXG5mdW5jdGlvbiBnZXRUaGVtZWRDc3NWYXJpYWJsZXModGhlbWUpIHtcbiAgcmV0dXJuIGBcbiAgLS1mb3JlZ3JvdW5kOiAke3RoZW1lLmZvcmVncm91bmR9O1xuICAtLWJhY2tncm91bmQ6ICR7dGhlbWUuYmFja2dyb3VuZH07XG4gIC0tYWNjZW50LWZvcmVncm91bmQ6ICR7dGhlbWUuYWNjZW50Rm9yZWdyb3VuZH07XG4gIC0tYWNjZW50LWJhY2tncm91bmQ6ICR7dGhlbWUuYWNjZW50QmFja2dyb3VuZH07XG4gIC0tc3VjY2Vzcy1jb2xvcjogJHt0aGVtZS5zdWNjZXNzQ29sb3J9O1xuICAtLWVycm9yLWNvbG9yOiAke3RoZW1lLmVycm9yQ29sb3J9O1xuICAtLWJvcmRlcjogJHt0aGVtZS5ib3JkZXJ9O1xuICAtLWJveC1zaGFkb3c6ICR7dGhlbWUuYm94U2hhZG93fTtcbiAgLS1vdXRsaW5lOiAke3RoZW1lLm91dGxpbmV9O1xuICAtLWludGVyYWN0aXZlLWZpbHRlcjogJHt0aGVtZS5pbnRlcmFjdGl2ZUZpbHRlcn07XG4gIGA7XG59XG5cbi8qKlxuICogQ3JlYXRlcyA8c3R5bGU+IGVsZW1lbnQgZm9yIHdpZGdldCBhY3RvciAoYnV0dG9uIHRoYXQgb3BlbnMgdGhlIGRpYWxvZylcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWFpblN0eWxlcyh7XG4gIGNvbG9yU2NoZW1lLFxuICB0aGVtZURhcmssXG4gIHRoZW1lTGlnaHQsXG4gIHN0eWxlTm9uY2UsXG59KSB7XG4gIGNvbnN0IHN0eWxlID0gRE9DVU1FTlQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG46aG9zdCB7XG4gIC0tZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgJ0hlbHZldGljYSBOZXVlJywgQXJpYWwsIHNhbnMtc2VyaWY7XG4gIC0tZm9udC1zaXplOiAxNHB4O1xuICAtLXotaW5kZXg6IDEwMDAwMDtcblxuICAtLXBhZ2UtbWFyZ2luOiAxNnB4O1xuICAtLWluc2V0OiBhdXRvIDAgMCBhdXRvO1xuICAtLWFjdG9yLWluc2V0OiB2YXIoLS1pbnNldCk7XG5cbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5KTtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUpO1xuXG4gICR7Y29sb3JTY2hlbWUgIT09ICdzeXN0ZW0nID8gJ2NvbG9yLXNjaGVtZTogb25seSBsaWdodDsnIDogJyd9XG5cbiAgJHtnZXRUaGVtZWRDc3NWYXJpYWJsZXMoXG4gICAgY29sb3JTY2hlbWUgPT09ICdkYXJrJyA/IHsgLi4uREVGQVVMVF9EQVJLLCAuLi50aGVtZURhcmsgfSA6IHsgLi4uREVGQVVMVF9MSUdIVCwgLi4udGhlbWVMaWdodCB9LFxuICApfVxufVxuXG4ke1xuICBjb2xvclNjaGVtZSA9PT0gJ3N5c3RlbSdcbiAgICA/IGBcbkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcbiAgOmhvc3Qge1xuICAgICR7Z2V0VGhlbWVkQ3NzVmFyaWFibGVzKHsgLi4uREVGQVVMVF9EQVJLLCAuLi50aGVtZURhcmsgfSl9XG4gIH1cbn1gXG4gICAgOiAnJ1xufVxufVxuYDtcblxuICBpZiAoc3R5bGVOb25jZSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBzdHlsZU5vbmNlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuY29uc3QgYnVpbGRGZWVkYmFja0ludGVncmF0aW9uID0gKHtcbiAgbGF6eUxvYWRJbnRlZ3JhdGlvbixcbiAgZ2V0TW9kYWxJbnRlZ3JhdGlvbixcbiAgZ2V0U2NyZWVuc2hvdEludGVncmF0aW9uLFxufVxuXG4pID0+IHtcbiAgY29uc3QgZmVlZGJhY2tJbnRlZ3JhdGlvbiA9ICgoe1xuICAgIC8vIEZlZWRiYWNrR2VuZXJhbENvbmZpZ3VyYXRpb25cbiAgICBpZCA9ICdzZW50cnktZmVlZGJhY2snLFxuICAgIGF1dG9JbmplY3QgPSB0cnVlLFxuICAgIHNob3dCcmFuZGluZyA9IHRydWUsXG4gICAgaXNFbWFpbFJlcXVpcmVkID0gZmFsc2UsXG4gICAgaXNOYW1lUmVxdWlyZWQgPSBmYWxzZSxcbiAgICBzaG93RW1haWwgPSB0cnVlLFxuICAgIHNob3dOYW1lID0gdHJ1ZSxcbiAgICBlbmFibGVTY3JlZW5zaG90ID0gdHJ1ZSxcbiAgICB1c2VTZW50cnlVc2VyID0ge1xuICAgICAgZW1haWw6ICdlbWFpbCcsXG4gICAgICBuYW1lOiAndXNlcm5hbWUnLFxuICAgIH0sXG4gICAgdGFncyxcbiAgICBzdHlsZU5vbmNlLFxuICAgIHNjcmlwdE5vbmNlLFxuXG4gICAgLy8gRmVlZGJhY2tUaGVtZUNvbmZpZ3VyYXRpb25cbiAgICBjb2xvclNjaGVtZSA9ICdzeXN0ZW0nLFxuICAgIHRoZW1lTGlnaHQgPSB7fSxcbiAgICB0aGVtZURhcmsgPSB7fSxcblxuICAgIC8vIEZlZWRiYWNrVGV4dENvbmZpZ3VyYXRpb25cbiAgICBhZGRTY3JlZW5zaG90QnV0dG9uTGFiZWwgPSBBRERfU0NSRUVOU0hPVF9MQUJFTCxcbiAgICBjYW5jZWxCdXR0b25MYWJlbCA9IENBTkNFTF9CVVRUT05fTEFCRUwsXG4gICAgY29uZmlybUJ1dHRvbkxhYmVsID0gQ09ORklSTV9CVVRUT05fTEFCRUwsXG4gICAgZW1haWxMYWJlbCA9IEVNQUlMX0xBQkVMLFxuICAgIGVtYWlsUGxhY2Vob2xkZXIgPSBFTUFJTF9QTEFDRUhPTERFUixcbiAgICBmb3JtVGl0bGUgPSBGT1JNX1RJVExFLFxuICAgIGlzUmVxdWlyZWRMYWJlbCA9IElTX1JFUVVJUkVEX0xBQkVMLFxuICAgIG1lc3NhZ2VMYWJlbCA9IE1FU1NBR0VfTEFCRUwsXG4gICAgbWVzc2FnZVBsYWNlaG9sZGVyID0gTUVTU0FHRV9QTEFDRUhPTERFUixcbiAgICBuYW1lTGFiZWwgPSBOQU1FX0xBQkVMLFxuICAgIG5hbWVQbGFjZWhvbGRlciA9IE5BTUVfUExBQ0VIT0xERVIsXG4gICAgcmVtb3ZlU2NyZWVuc2hvdEJ1dHRvbkxhYmVsID0gUkVNT1ZFX1NDUkVFTlNIT1RfTEFCRUwsXG4gICAgc3VibWl0QnV0dG9uTGFiZWwgPSBTVUJNSVRfQlVUVE9OX0xBQkVMLFxuICAgIHN1Y2Nlc3NNZXNzYWdlVGV4dCA9IFNVQ0NFU1NfTUVTU0FHRV9URVhULFxuICAgIHRyaWdnZXJMYWJlbCA9IFRSSUdHRVJfTEFCRUwsXG4gICAgdHJpZ2dlckFyaWFMYWJlbCA9ICcnLFxuICAgIGhpZ2hsaWdodFRvb2xUZXh0ID0gSElHSExJR0hUX1RPT0xfVEVYVCxcbiAgICBoaWRlVG9vbFRleHQgPSBISURFX1RPT0xfVEVYVCxcbiAgICByZW1vdmVIaWdobGlnaHRUZXh0ID0gUkVNT1ZFX0hJR0hMSUdIVF9URVhULFxuXG4gICAgLy8gRmVlZGJhY2tDYWxsYmFja3NcbiAgICBvbkZvcm1PcGVuLFxuICAgIG9uRm9ybUNsb3NlLFxuICAgIG9uU3VibWl0U3VjY2VzcyxcbiAgICBvblN1Ym1pdEVycm9yLFxuICAgIG9uRm9ybVN1Ym1pdHRlZCxcbiAgfSA9IHt9KSA9PiB7XG4gICAgY29uc3QgX29wdGlvbnMgPSB7XG4gICAgICBpZCxcbiAgICAgIGF1dG9JbmplY3QsXG4gICAgICBzaG93QnJhbmRpbmcsXG4gICAgICBpc0VtYWlsUmVxdWlyZWQsXG4gICAgICBpc05hbWVSZXF1aXJlZCxcbiAgICAgIHNob3dFbWFpbCxcbiAgICAgIHNob3dOYW1lLFxuICAgICAgZW5hYmxlU2NyZWVuc2hvdCxcbiAgICAgIHVzZVNlbnRyeVVzZXIsXG4gICAgICB0YWdzLFxuICAgICAgc3R5bGVOb25jZSxcbiAgICAgIHNjcmlwdE5vbmNlLFxuXG4gICAgICBjb2xvclNjaGVtZSxcbiAgICAgIHRoZW1lRGFyayxcbiAgICAgIHRoZW1lTGlnaHQsXG5cbiAgICAgIHRyaWdnZXJMYWJlbCxcbiAgICAgIHRyaWdnZXJBcmlhTGFiZWwsXG4gICAgICBjYW5jZWxCdXR0b25MYWJlbCxcbiAgICAgIHN1Ym1pdEJ1dHRvbkxhYmVsLFxuICAgICAgY29uZmlybUJ1dHRvbkxhYmVsLFxuICAgICAgZm9ybVRpdGxlLFxuICAgICAgZW1haWxMYWJlbCxcbiAgICAgIGVtYWlsUGxhY2Vob2xkZXIsXG4gICAgICBtZXNzYWdlTGFiZWwsXG4gICAgICBtZXNzYWdlUGxhY2Vob2xkZXIsXG4gICAgICBuYW1lTGFiZWwsXG4gICAgICBuYW1lUGxhY2Vob2xkZXIsXG4gICAgICBzdWNjZXNzTWVzc2FnZVRleHQsXG4gICAgICBpc1JlcXVpcmVkTGFiZWwsXG4gICAgICBhZGRTY3JlZW5zaG90QnV0dG9uTGFiZWwsXG4gICAgICByZW1vdmVTY3JlZW5zaG90QnV0dG9uTGFiZWwsXG4gICAgICBoaWdobGlnaHRUb29sVGV4dCxcbiAgICAgIGhpZGVUb29sVGV4dCxcbiAgICAgIHJlbW92ZUhpZ2hsaWdodFRleHQsXG5cbiAgICAgIG9uRm9ybUNsb3NlLFxuICAgICAgb25Gb3JtT3BlbixcbiAgICAgIG9uU3VibWl0RXJyb3IsXG4gICAgICBvblN1Ym1pdFN1Y2Nlc3MsXG4gICAgICBvbkZvcm1TdWJtaXR0ZWQsXG4gICAgfTtcblxuICAgIGxldCBfc2hhZG93ID0gbnVsbDtcbiAgICBsZXQgX3N1YnNjcmlwdGlvbnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2hhZG93IHJvb3Qgd2hlcmUgd2Ugd2lsbCBhcHBlbmQgY3NzXG4gICAgICovXG4gICAgY29uc3QgX2NyZWF0ZVNoYWRvdyA9IChvcHRpb25zKSA9PiB7XG4gICAgICBpZiAoIV9zaGFkb3cpIHtcbiAgICAgICAgY29uc3QgaG9zdCA9IERPQ1VNRU5ULmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBob3N0LmlkID0gU3RyaW5nKG9wdGlvbnMuaWQpO1xuICAgICAgICBET0NVTUVOVC5ib2R5LmFwcGVuZENoaWxkKGhvc3QpO1xuXG4gICAgICAgIF9zaGFkb3cgPSBob3N0LmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgX3NoYWRvdy5hcHBlbmRDaGlsZChjcmVhdGVNYWluU3R5bGVzKG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfc2hhZG93O1xuICAgIH07XG5cbiAgICBjb25zdCBfbG9hZEFuZFJlbmRlckRpYWxvZyA9IGFzeW5jIChcbiAgICAgIG9wdGlvbnMsXG4gICAgKSA9PiB7XG4gICAgICBjb25zdCBzY3JlZW5zaG90UmVxdWlyZWQgPSBvcHRpb25zLmVuYWJsZVNjcmVlbnNob3QgJiYgaXNTY3JlZW5zaG90U3VwcG9ydGVkKCk7XG5cbiAgICAgIGxldCBtb2RhbEludGVncmF0aW9uO1xuICAgICAgbGV0IHNjcmVlbnNob3RJbnRlZ3JhdGlvbjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbW9kYWxJbnRlZ3JhdGlvbkZuID0gZ2V0TW9kYWxJbnRlZ3JhdGlvblxuICAgICAgICAgID8gZ2V0TW9kYWxJbnRlZ3JhdGlvbigpXG4gICAgICAgICAgOiBhd2FpdCBsYXp5TG9hZEludGVncmF0aW9uKCdmZWVkYmFja01vZGFsSW50ZWdyYXRpb24nLCBzY3JpcHROb25jZSk7XG4gICAgICAgIG1vZGFsSW50ZWdyYXRpb24gPSBtb2RhbEludGVncmF0aW9uRm4oKSA7XG4gICAgICAgIGFkZEludGVncmF0aW9uKG1vZGFsSW50ZWdyYXRpb24pO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIERFQlVHX0JVSUxEICYmXG4gICAgICAgICAgZGVidWcuZXJyb3IoXG4gICAgICAgICAgICAnW0ZlZWRiYWNrXSBFcnJvciB3aGVuIHRyeWluZyB0byBsb2FkIGZlZWRiYWNrIGludGVncmF0aW9ucy4gVHJ5IHVzaW5nIGBmZWVkYmFja1N5bmNJbnRlZ3JhdGlvbmAgaW4geW91ciBgU2VudHJ5LmluaXRgLicsXG4gICAgICAgICAgKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbRmVlZGJhY2tdIE1pc3NpbmcgZmVlZGJhY2sgbW9kYWwgaW50ZWdyYXRpb24hJyk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNjcmVlbnNob3RJbnRlZ3JhdGlvbkZuID0gc2NyZWVuc2hvdFJlcXVpcmVkXG4gICAgICAgICAgPyBnZXRTY3JlZW5zaG90SW50ZWdyYXRpb25cbiAgICAgICAgICAgID8gZ2V0U2NyZWVuc2hvdEludGVncmF0aW9uKClcbiAgICAgICAgICAgIDogYXdhaXQgbGF6eUxvYWRJbnRlZ3JhdGlvbignZmVlZGJhY2tTY3JlZW5zaG90SW50ZWdyYXRpb24nLCBzY3JpcHROb25jZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoc2NyZWVuc2hvdEludGVncmF0aW9uRm4pIHtcbiAgICAgICAgICBzY3JlZW5zaG90SW50ZWdyYXRpb24gPSBzY3JlZW5zaG90SW50ZWdyYXRpb25GbigpIDtcbiAgICAgICAgICBhZGRJbnRlZ3JhdGlvbihzY3JlZW5zaG90SW50ZWdyYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgREVCVUdfQlVJTEQgJiZcbiAgICAgICAgICBkZWJ1Zy5lcnJvcignW0ZlZWRiYWNrXSBNaXNzaW5nIGZlZWRiYWNrIHNjcmVlbnNob3QgaW50ZWdyYXRpb24uIFByb2NlZWRpbmcgd2l0aG91dCBzY3JlZW5zaG90cy4nKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGlhbG9nID0gbW9kYWxJbnRlZ3JhdGlvbi5jcmVhdGVEaWFsb2coe1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICBvbkZvcm1DbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgZGlhbG9nPy5jbG9zZSgpO1xuICAgICAgICAgICAgb3B0aW9ucy5vbkZvcm1DbG9zZT8uKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkZvcm1TdWJtaXR0ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIGRpYWxvZz8uY2xvc2UoKTtcbiAgICAgICAgICAgIG9wdGlvbnMub25Gb3JtU3VibWl0dGVkPy4oKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBzY3JlZW5zaG90SW50ZWdyYXRpb24sXG4gICAgICAgIHNlbmRGZWVkYmFjayxcbiAgICAgICAgc2hhZG93OiBfY3JlYXRlU2hhZG93KG9wdGlvbnMpLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkaWFsb2c7XG4gICAgfTtcblxuICAgIGNvbnN0IF9hdHRhY2hUbyA9IChlbCwgb3B0aW9uT3ZlcnJpZGVzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoX29wdGlvbnMsIG9wdGlvbk92ZXJyaWRlcyk7XG5cbiAgICAgIGNvbnN0IHRhcmdldEVsID1cbiAgICAgICAgdHlwZW9mIGVsID09PSAnc3RyaW5nJyA/IERPQ1VNRU5ULnF1ZXJ5U2VsZWN0b3IoZWwpIDogdHlwZW9mIGVsLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicgPyBlbCA6IG51bGw7XG5cbiAgICAgIGlmICghdGFyZ2V0RWwpIHtcbiAgICAgICAgREVCVUdfQlVJTEQgJiYgZGVidWcuZXJyb3IoJ1tGZWVkYmFja10gVW5hYmxlIHRvIGF0dGFjaCB0byB0YXJnZXQgZWxlbWVudCcpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBhdHRhY2ggdG8gdGFyZ2V0IGVsZW1lbnQnKTtcbiAgICAgIH1cblxuICAgICAgbGV0IGRpYWxvZyA9IG51bGw7XG4gICAgICBjb25zdCBoYW5kbGVDbGljayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFkaWFsb2cpIHtcbiAgICAgICAgICBkaWFsb2cgPSBhd2FpdCBfbG9hZEFuZFJlbmRlckRpYWxvZyh7XG4gICAgICAgICAgICAuLi5tZXJnZWRPcHRpb25zLFxuICAgICAgICAgICAgb25Gb3JtU3VibWl0dGVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGRpYWxvZz8ucmVtb3ZlRnJvbURvbSgpO1xuICAgICAgICAgICAgICBtZXJnZWRPcHRpb25zLm9uRm9ybVN1Ym1pdHRlZD8uKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRpYWxvZy5hcHBlbmRUb0RvbSgpO1xuICAgICAgICBkaWFsb2cub3BlbigpO1xuICAgICAgfTtcbiAgICAgIHRhcmdldEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICAgIF9zdWJzY3JpcHRpb25zID0gX3N1YnNjcmlwdGlvbnMuZmlsdGVyKHN1YiA9PiBzdWIgIT09IHVuc3Vic2NyaWJlKTtcbiAgICAgICAgZGlhbG9nPy5yZW1vdmVGcm9tRG9tKCk7XG4gICAgICAgIGRpYWxvZyA9IG51bGw7XG4gICAgICAgIHRhcmdldEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICAgICAgfTtcbiAgICAgIF9zdWJzY3JpcHRpb25zLnB1c2godW5zdWJzY3JpYmUpO1xuICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xuICAgIH07XG5cbiAgICBjb25zdCBfY3JlYXRlQWN0b3IgPSAob3B0aW9uT3ZlcnJpZGVzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoX29wdGlvbnMsIG9wdGlvbk92ZXJyaWRlcyk7XG4gICAgICBjb25zdCBzaGFkb3cgPSBfY3JlYXRlU2hhZG93KG1lcmdlZE9wdGlvbnMpO1xuICAgICAgY29uc3QgYWN0b3IgPSBBY3Rvcih7XG4gICAgICAgIHRyaWdnZXJMYWJlbDogbWVyZ2VkT3B0aW9ucy50cmlnZ2VyTGFiZWwsXG4gICAgICAgIHRyaWdnZXJBcmlhTGFiZWw6IG1lcmdlZE9wdGlvbnMudHJpZ2dlckFyaWFMYWJlbCxcbiAgICAgICAgc2hhZG93LFxuICAgICAgICBzdHlsZU5vbmNlLFxuICAgICAgfSk7XG4gICAgICBfYXR0YWNoVG8oYWN0b3IuZWwsIHtcbiAgICAgICAgLi4ubWVyZ2VkT3B0aW9ucyxcbiAgICAgICAgb25Gb3JtT3BlbigpIHtcbiAgICAgICAgICBhY3Rvci5oaWRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRm9ybUNsb3NlKCkge1xuICAgICAgICAgIGFjdG9yLnNob3coKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb3JtU3VibWl0dGVkKCkge1xuICAgICAgICAgIGFjdG9yLnNob3coKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjdG9yO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogJ0ZlZWRiYWNrJyxcbiAgICAgIHNldHVwT25jZSgpIHtcbiAgICAgICAgaWYgKCFpc0Jyb3dzZXIoKSB8fCAhX29wdGlvbnMuYXV0b0luamVjdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChET0NVTUVOVC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgICAgICBET0NVTUVOVC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gX2NyZWF0ZUFjdG9yKCkuYXBwZW5kVG9Eb20oKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NyZWF0ZUFjdG9yKCkuYXBwZW5kVG9Eb20oKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBZGRzIGNsaWNrIGxpc3RlbmVyIHRvIHRoZSBlbGVtZW50IHRvIG9wZW4gYSBmZWVkYmFjayBkaWFsb2dcbiAgICAgICAqXG4gICAgICAgKiBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gcmVtb3ZlIHRoZSBjbGljayBsaXN0ZW5lclxuICAgICAgICovXG4gICAgICBhdHRhY2hUbzogX2F0dGFjaFRvLFxuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgd2lkZ2V0IHdoaWNoIGlzIGNvbXBvc2VkIG9mIGEgQnV0dG9uIHdoaWNoIHRyaWdnZXJzIGEgRGlhbG9nLlxuICAgICAgICogQWNjZXB0cyBwYXJ0aWFsIG9wdGlvbnMgdG8gb3ZlcnJpZGUgYW55IG9wdGlvbnMgcGFzc2VkIHRvIGNvbnN0cnVjdG9yLlxuICAgICAgICovXG4gICAgICBjcmVhdGVXaWRnZXQob3B0aW9uT3ZlcnJpZGVzID0ge30pIHtcbiAgICAgICAgY29uc3QgYWN0b3IgPSBfY3JlYXRlQWN0b3IobWVyZ2VPcHRpb25zKF9vcHRpb25zLCBvcHRpb25PdmVycmlkZXMpKTtcbiAgICAgICAgYWN0b3IuYXBwZW5kVG9Eb20oKTtcbiAgICAgICAgcmV0dXJuIGFjdG9yO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIGEgbmV3IEZvcm0gd2hpY2ggeW91IGNhblxuICAgICAgICogQWNjZXB0cyBwYXJ0aWFsIG9wdGlvbnMgdG8gb3ZlcnJpZGUgYW55IG9wdGlvbnMgcGFzc2VkIHRvIGNvbnN0cnVjdG9yLlxuICAgICAgICovXG4gICAgICBhc3luYyBjcmVhdGVGb3JtKFxuICAgICAgICBvcHRpb25PdmVycmlkZXMgPSB7fSxcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gX2xvYWRBbmRSZW5kZXJEaWFsb2cobWVyZ2VPcHRpb25zKF9vcHRpb25zLCBvcHRpb25PdmVycmlkZXMpKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlcyB0aGUgRmVlZGJhY2sgaW50ZWdyYXRpb24gKGluY2x1ZGluZyBob3N0LCBzaGFkb3cgRE9NLCBhbmQgYWxsIHdpZGdldHMpXG4gICAgICAgKi9cbiAgICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKF9zaGFkb3cpIHtcbiAgICAgICAgICBfc2hhZG93LnBhcmVudEVsZW1lbnQ/LnJlbW92ZSgpO1xuICAgICAgICAgIF9zaGFkb3cgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSBhbnkgbGluZ2VyaW5nIHN1YnNjcmlwdGlvbnNcbiAgICAgICAgX3N1YnNjcmlwdGlvbnMuZm9yRWFjaChzdWIgPT4gc3ViKCkpO1xuICAgICAgICBfc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgfSxcbiAgICB9O1xuICB9KSA7XG5cbiAgcmV0dXJuIGZlZWRiYWNrSW50ZWdyYXRpb247XG59O1xuXG4vKipcbiAqIFRoaXMgaXMgYSBzbWFsbCB1dGlsaXR5IHRvIGdldCBhIHR5cGUtc2FmZSBpbnN0YW5jZSBvZiB0aGUgRmVlZGJhY2sgaW50ZWdyYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldEZlZWRiYWNrKCkge1xuICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnQoKTtcbiAgcmV0dXJuIGNsaWVudD8uZ2V0SW50ZWdyYXRpb25CeU5hbWUoJ0ZlZWRiYWNrJyk7XG59XG5cbnZhciBuLGwkMSx1JDEsaSQxLG8kMSxyJDEsZiQxLGMkMT17fSxzJDE9W10sYSQxPS9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2ksaCQxPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gdiQxKG4sbCl7Zm9yKHZhciB1IGluIGwpblt1XT1sW3VdO3JldHVybiBufWZ1bmN0aW9uIHAkMShuKXt2YXIgbD1uLnBhcmVudE5vZGU7bCYmbC5yZW1vdmVDaGlsZChuKTt9ZnVuY3Rpb24geSQxKGwsdSx0KXt2YXIgaSxvLHIsZj17fTtmb3IociBpbiB1KVwia2V5XCI9PXI/aT11W3JdOlwicmVmXCI9PXI/bz11W3JdOmZbcl09dVtyXTtpZihhcmd1bWVudHMubGVuZ3RoPjImJihmLmNoaWxkcmVuPWFyZ3VtZW50cy5sZW5ndGg+Mz9uLmNhbGwoYXJndW1lbnRzLDIpOnQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGwmJm51bGwhPWwuZGVmYXVsdFByb3BzKWZvcihyIGluIGwuZGVmYXVsdFByb3BzKSB2b2lkIDA9PT1mW3JdJiYoZltyXT1sLmRlZmF1bHRQcm9wc1tyXSk7cmV0dXJuIGQkMShsLGYsaSxvLG51bGwpfWZ1bmN0aW9uIGQkMShuLHQsaSxvLHIpe3ZhciBmPXt0eXBlOm4scHJvcHM6dCxrZXk6aSxyZWY6byxfX2s6bnVsbCxfXzpudWxsLF9fYjowLF9fZTpudWxsLF9fZDp2b2lkIDAsX19jOm51bGwsY29uc3RydWN0b3I6dm9pZCAwLF9fdjpudWxsPT1yPysrdSQxOnIsX19pOi0xLF9fdTowfTtyZXR1cm4gbnVsbD09ciYmbnVsbCE9bCQxLnZub2RlJiZsJDEudm5vZGUoZiksZn1mdW5jdGlvbiBnJDEobil7cmV0dXJuIG4uY2hpbGRyZW59ZnVuY3Rpb24gYiQxKG4sbCl7dGhpcy5wcm9wcz1uLHRoaXMuY29udGV4dD1sO31mdW5jdGlvbiBtJDEobixsKXtpZihudWxsPT1sKXJldHVybiBuLl9fP20kMShuLl9fLG4uX19pKzEpOm51bGw7Zm9yKHZhciB1O2w8bi5fX2subGVuZ3RoO2wrKylpZihudWxsIT0odT1uLl9fa1tsXSkmJm51bGwhPXUuX19lKXJldHVybiB1Ll9fZTtyZXR1cm4gXCJmdW5jdGlvblwiPT10eXBlb2Ygbi50eXBlP20kMShuKTpudWxsfWZ1bmN0aW9uIHckMShuLHUsdCl7dmFyIGksbz1uLl9fdixyPW8uX19lLGY9bi5fX1A7aWYoZilyZXR1cm4gKGk9diQxKHt9LG8pKS5fX3Y9by5fX3YrMSxsJDEudm5vZGUmJmwkMS52bm9kZShpKSxNKGYsaSxvLG4uX19uLHZvaWQgMCE9PWYub3duZXJTVkdFbGVtZW50LDMyJm8uX191P1tyXTpudWxsLHUsbnVsbD09cj9tJDEobyk6ciwhISgzMiZvLl9fdSksdCksaS5fXy5fX2tbaS5fX2ldPWksaS5fX2Q9dm9pZCAwLGkuX19lIT1yJiZrJDEoaSksaX1mdW5jdGlvbiBrJDEobil7dmFyIGwsdTtpZihudWxsIT0obj1uLl9fKSYmbnVsbCE9bi5fX2Mpe2ZvcihuLl9fZT1uLl9fYy5iYXNlPW51bGwsbD0wO2w8bi5fX2subGVuZ3RoO2wrKylpZihudWxsIT0odT1uLl9fa1tsXSkmJm51bGwhPXUuX19lKXtuLl9fZT1uLl9fYy5iYXNlPXUuX19lO2JyZWFrfXJldHVybiBrJDEobil9fWZ1bmN0aW9uIHgkMShuKXsoIW4uX19kJiYobi5fX2Q9dHJ1ZSkmJmkkMS5wdXNoKG4pJiYhQyQxLl9fcisrfHxvJDEhPT1sJDEuZGVib3VuY2VSZW5kZXJpbmcpJiYoKG8kMT1sJDEuZGVib3VuY2VSZW5kZXJpbmcpfHxyJDEpKEMkMSk7fWZ1bmN0aW9uIEMkMSgpe3ZhciBuLHUsdCxvPVtdLHI9W107Zm9yKGkkMS5zb3J0KGYkMSk7bj1pJDEuc2hpZnQoKTspbi5fX2QmJih0PWkkMS5sZW5ndGgsdT13JDEobixvLHIpfHx1LDA9PT10fHxpJDEubGVuZ3RoPnQ/KGokMShvLHUsciksci5sZW5ndGg9by5sZW5ndGg9MCx1PXZvaWQgMCxpJDEuc29ydChmJDEpKTp1JiZsJDEuX19jJiZsJDEuX19jKHUscyQxKSk7dSYmaiQxKG8sdSxyKSxDJDEuX19yPTA7fWZ1bmN0aW9uIFAkMShuLGwsdSx0LGksbyxyLGYsZSxhLGgpe3ZhciB2LHAseSxkLF8sZz10JiZ0Ll9fa3x8cyQxLGI9bC5sZW5ndGg7Zm9yKHUuX19kPWUsUyh1LGwsZyksZT11Ll9fZCx2PTA7djxiO3YrKyludWxsIT0oeT11Ll9fa1t2XSkmJlwiYm9vbGVhblwiIT10eXBlb2YgeSYmXCJmdW5jdGlvblwiIT10eXBlb2YgeSYmKHA9LTE9PT15Ll9faT9jJDE6Z1t5Ll9faV18fGMkMSx5Ll9faT12LE0obix5LHAsaSxvLHIsZixlLGEsaCksZD15Ll9fZSx5LnJlZiYmcC5yZWYhPXkucmVmJiYocC5yZWYmJk4ocC5yZWYsbnVsbCx5KSxoLnB1c2goeS5yZWYseS5fX2N8fGQseSkpLG51bGw9PV8mJm51bGwhPWQmJihfPWQpLDY1NTM2JnkuX191fHxwLl9faz09PXkuX19rP2U9JCh5LGUsbik6XCJmdW5jdGlvblwiPT10eXBlb2YgeS50eXBlJiZ2b2lkIDAhPT15Ll9fZD9lPXkuX19kOmQmJihlPWQubmV4dFNpYmxpbmcpLHkuX19kPXZvaWQgMCx5Ll9fdSY9LTE5NjYwOSk7dS5fX2Q9ZSx1Ll9fZT1fO31mdW5jdGlvbiBTKG4sbCx1KXt2YXIgdCxpLG8scixmLGU9bC5sZW5ndGgsYz11Lmxlbmd0aCxzPWMsYT0wO2ZvcihuLl9faz1bXSx0PTA7dDxlO3QrKyludWxsIT0oaT1uLl9fa1t0XT1udWxsPT0oaT1sW3RdKXx8XCJib29sZWFuXCI9PXR5cGVvZiBpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP251bGw6XCJzdHJpbmdcIj09dHlwZW9mIGl8fFwibnVtYmVyXCI9PXR5cGVvZiBpfHxcImJpZ2ludFwiPT10eXBlb2YgaXx8aS5jb25zdHJ1Y3Rvcj09U3RyaW5nP2QkMShudWxsLGksbnVsbCxudWxsLGkpOmgkMShpKT9kJDEoZyQxLHtjaGlsZHJlbjppfSxudWxsLG51bGwsbnVsbCk6dm9pZCAwPT09aS5jb25zdHJ1Y3RvciYmaS5fX2I+MD9kJDEoaS50eXBlLGkucHJvcHMsaS5rZXksaS5yZWY/aS5yZWY6bnVsbCxpLl9fdik6aSk/KGkuX189bixpLl9fYj1uLl9fYisxLGY9SShpLHUscj10K2EscyksaS5fX2k9ZixvPW51bGwsLTEhPT1mJiYocy0tLChvPXVbZl0pJiYoby5fX3V8PTEzMTA3MikpLG51bGw9PW98fG51bGw9PT1vLl9fdj8oLTE9PWYmJmEtLSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBpLnR5cGUmJihpLl9fdXw9NjU1MzYpKTpmIT09ciYmKGY9PT1yKzE/YSsrOmY+cj9zPmUtcj9hKz1mLXI6YS0tOmE9ZjxyJiZmPT1yLTE/Zi1yOjAsZiE9PXQrYSYmKGkuX191fD02NTUzNikpKToobz11W3RdKSYmbnVsbD09by5rZXkmJm8uX19lJiYoby5fX2U9PW4uX19kJiYobi5fX2Q9bSQxKG8pKSxPKG8sbyxmYWxzZSksdVt0XT1udWxsLHMtLSk7aWYocylmb3IodD0wO3Q8Yzt0KyspbnVsbCE9KG89dVt0XSkmJjA9PSgxMzEwNzImby5fX3UpJiYoby5fX2U9PW4uX19kJiYobi5fX2Q9bSQxKG8pKSxPKG8sbykpO31mdW5jdGlvbiAkKG4sbCx1KXt2YXIgdCxpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4udHlwZSl7Zm9yKHQ9bi5fX2ssaT0wO3QmJmk8dC5sZW5ndGg7aSsrKXRbaV0mJih0W2ldLl9fPW4sbD0kKHRbaV0sbCx1KSk7cmV0dXJuIGx9bi5fX2UhPWwmJih1Lmluc2VydEJlZm9yZShuLl9fZSxsfHxudWxsKSxsPW4uX19lKTtkb3tsPWwmJmwubmV4dFNpYmxpbmc7fXdoaWxlKG51bGwhPWwmJjg9PT1sLm5vZGVUeXBlKTtyZXR1cm4gbH1mdW5jdGlvbiBJKG4sbCx1LHQpe3ZhciBpPW4ua2V5LG89bi50eXBlLHI9dS0xLGY9dSsxLGU9bFt1XTtpZihudWxsPT09ZXx8ZSYmaT09ZS5rZXkmJm89PT1lLnR5cGUpcmV0dXJuIHU7aWYodD4obnVsbCE9ZSYmMD09KDEzMTA3MiZlLl9fdSk/MTowKSlmb3IoO3I+PTB8fGY8bC5sZW5ndGg7KXtpZihyPj0wKXtpZigoZT1sW3JdKSYmMD09KDEzMTA3MiZlLl9fdSkmJmk9PWUua2V5JiZvPT09ZS50eXBlKXJldHVybiByO3ItLTt9aWYoZjxsLmxlbmd0aCl7aWYoKGU9bFtmXSkmJjA9PSgxMzEwNzImZS5fX3UpJiZpPT1lLmtleSYmbz09PWUudHlwZSlyZXR1cm4gZjtmKys7fX1yZXR1cm4gIC0xfWZ1bmN0aW9uIFQkMShuLGwsdSl7XCItXCI9PT1sWzBdP24uc2V0UHJvcGVydHkobCxudWxsPT11P1wiXCI6dSk6bltsXT1udWxsPT11P1wiXCI6XCJudW1iZXJcIiE9dHlwZW9mIHV8fGEkMS50ZXN0KGwpP3U6dStcInB4XCI7fWZ1bmN0aW9uIEEkMShuLGwsdSx0LGkpe3ZhciBvO246aWYoXCJzdHlsZVwiPT09bClpZihcInN0cmluZ1wiPT10eXBlb2YgdSluLnN0eWxlLmNzc1RleHQ9dTtlbHNlIHtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKG4uc3R5bGUuY3NzVGV4dD10PVwiXCIpLHQpZm9yKGwgaW4gdCl1JiZsIGluIHV8fFQkMShuLnN0eWxlLGwsXCJcIik7aWYodSlmb3IobCBpbiB1KXQmJnVbbF09PT10W2xdfHxUJDEobi5zdHlsZSxsLHVbbF0pO31lbHNlIGlmKFwib1wiPT09bFswXSYmXCJuXCI9PT1sWzFdKW89bCE9PShsPWwucmVwbGFjZSgvKFBvaW50ZXJDYXB0dXJlKSR8Q2FwdHVyZSQvaSxcIiQxXCIpKSxsPWwudG9Mb3dlckNhc2UoKWluIG4/bC50b0xvd2VyQ2FzZSgpLnNsaWNlKDIpOmwuc2xpY2UoMiksbi5sfHwobi5sPXt9KSxuLmxbbCtvXT11LHU/dD91LnU9dC51Oih1LnU9RGF0ZS5ub3coKSxuLmFkZEV2ZW50TGlzdGVuZXIobCxvP0w6RCQxLG8pKTpuLnJlbW92ZUV2ZW50TGlzdGVuZXIobCxvP0w6RCQxLG8pO2Vsc2Uge2lmKGkpbD1sLnJlcGxhY2UoL3hsaW5rKEh8OmgpLyxcImhcIikucmVwbGFjZSgvc05hbWUkLyxcInNcIik7ZWxzZSBpZihcIndpZHRoXCIhPT1sJiZcImhlaWdodFwiIT09bCYmXCJocmVmXCIhPT1sJiZcImxpc3RcIiE9PWwmJlwiZm9ybVwiIT09bCYmXCJ0YWJJbmRleFwiIT09bCYmXCJkb3dubG9hZFwiIT09bCYmXCJyb3dTcGFuXCIhPT1sJiZcImNvbFNwYW5cIiE9PWwmJlwicm9sZVwiIT09bCYmbCBpbiBuKXRyeXtuW2xdPW51bGw9PXU/XCJcIjp1O2JyZWFrIG59Y2F0Y2gobil7fVwiZnVuY3Rpb25cIj09dHlwZW9mIHV8fChudWxsPT11fHxmYWxzZT09PXUmJlwiLVwiIT09bFs0XT9uLnJlbW92ZUF0dHJpYnV0ZShsKTpuLnNldEF0dHJpYnV0ZShsLHUpKTt9fWZ1bmN0aW9uIEQkMShuKXtpZih0aGlzLmwpe3ZhciB1PXRoaXMubFtuLnR5cGUrZmFsc2VdO2lmKG4udCl7aWYobi50PD11LnUpcmV0dXJufWVsc2Ugbi50PURhdGUubm93KCk7cmV0dXJuIHUobCQxLmV2ZW50P2wkMS5ldmVudChuKTpuKX19ZnVuY3Rpb24gTChuKXtpZih0aGlzLmwpcmV0dXJuIHRoaXMubFtuLnR5cGUrdHJ1ZV0obCQxLmV2ZW50P2wkMS5ldmVudChuKTpuKX1mdW5jdGlvbiBNKG4sdSx0LGksbyxyLGYsZSxjLHMpe3ZhciBhLHAseSxkLF8sbSx3LGsseCxDLFMsJCxILEksVCxBPXUudHlwZTtpZih2b2lkIDAhPT11LmNvbnN0cnVjdG9yKXJldHVybiBudWxsOzEyOCZ0Ll9fdSYmKGM9ISEoMzImdC5fX3UpLHI9W2U9dS5fX2U9dC5fX2VdKSwoYT1sJDEuX19iKSYmYSh1KTtuOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEEpdHJ5e2lmKGs9dS5wcm9wcyx4PShhPUEuY29udGV4dFR5cGUpJiZpW2EuX19jXSxDPWE/eD94LnByb3BzLnZhbHVlOmEuX186aSx0Ll9fYz93PShwPXUuX19jPXQuX19jKS5fXz1wLl9fRTooXCJwcm90b3R5cGVcImluIEEmJkEucHJvdG90eXBlLnJlbmRlcj91Ll9fYz1wPW5ldyBBKGssQyk6KHUuX19jPXA9bmV3IGIkMShrLEMpLHAuY29uc3RydWN0b3I9QSxwLnJlbmRlcj1xJDEpLHgmJnguc3ViKHApLHAucHJvcHM9ayxwLnN0YXRlfHwocC5zdGF0ZT17fSkscC5jb250ZXh0PUMscC5fX249aSx5PXAuX19kPSEwLHAuX19oPVtdLHAuX3NiPVtdKSxudWxsPT1wLl9fcyYmKHAuX19zPXAuc3RhdGUpLG51bGwhPUEuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiYocC5fX3M9PXAuc3RhdGUmJihwLl9fcz12JDEoe30scC5fX3MpKSx2JDEocC5fX3MsQS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoayxwLl9fcykpKSxkPXAucHJvcHMsXz1wLnN0YXRlLHAuX192PXUseSludWxsPT1BLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmbnVsbCE9cC5jb21wb25lbnRXaWxsTW91bnQmJnAuY29tcG9uZW50V2lsbE1vdW50KCksbnVsbCE9cC5jb21wb25lbnREaWRNb3VudCYmcC5fX2gucHVzaChwLmNvbXBvbmVudERpZE1vdW50KTtlbHNlIHtpZihudWxsPT1BLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmayE9PWQmJm51bGwhPXAuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmcC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGssQyksIXAuX19lJiYobnVsbCE9cC5zaG91bGRDb21wb25lbnRVcGRhdGUmJiExPT09cC5zaG91bGRDb21wb25lbnRVcGRhdGUoayxwLl9fcyxDKXx8dS5fX3Y9PT10Ll9fdikpe2Zvcih1Ll9fdiE9PXQuX192JiYocC5wcm9wcz1rLHAuc3RhdGU9cC5fX3MscC5fX2Q9ITEpLHUuX19lPXQuX19lLHUuX19rPXQuX19rLHUuX19rLmZvckVhY2goZnVuY3Rpb24obil7biYmKG4uX189dSk7fSksUz0wO1M8cC5fc2IubGVuZ3RoO1MrKylwLl9faC5wdXNoKHAuX3NiW1NdKTtwLl9zYj1bXSxwLl9faC5sZW5ndGgmJmYucHVzaChwKTticmVhayBufW51bGwhPXAuY29tcG9uZW50V2lsbFVwZGF0ZSYmcC5jb21wb25lbnRXaWxsVXBkYXRlKGsscC5fX3MsQyksbnVsbCE9cC5jb21wb25lbnREaWRVcGRhdGUmJnAuX19oLnB1c2goZnVuY3Rpb24oKXtwLmNvbXBvbmVudERpZFVwZGF0ZShkLF8sbSk7fSk7fWlmKHAuY29udGV4dD1DLHAucHJvcHM9ayxwLl9fUD1uLHAuX19lPSExLCQ9bCQxLl9fcixIPTAsXCJwcm90b3R5cGVcImluIEEmJkEucHJvdG90eXBlLnJlbmRlcil7Zm9yKHAuc3RhdGU9cC5fX3MscC5fX2Q9ITEsJCYmJCh1KSxhPXAucmVuZGVyKHAucHJvcHMscC5zdGF0ZSxwLmNvbnRleHQpLEk9MDtJPHAuX3NiLmxlbmd0aDtJKyspcC5fX2gucHVzaChwLl9zYltJXSk7cC5fc2I9W107fWVsc2UgZG97cC5fX2Q9ITEsJCYmJCh1KSxhPXAucmVuZGVyKHAucHJvcHMscC5zdGF0ZSxwLmNvbnRleHQpLHAuc3RhdGU9cC5fX3M7fXdoaWxlKHAuX19kJiYrK0g8MjUpO3Auc3RhdGU9cC5fX3MsbnVsbCE9cC5nZXRDaGlsZENvbnRleHQmJihpPXYkMSh2JDEoe30saSkscC5nZXRDaGlsZENvbnRleHQoKSkpLHl8fG51bGw9PXAuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fChtPXAuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoZCxfKSksUCQxKG4saCQxKFQ9bnVsbCE9YSYmYS50eXBlPT09ZyQxJiZudWxsPT1hLmtleT9hLnByb3BzLmNoaWxkcmVuOmEpP1Q6W1RdLHUsdCxpLG8scixmLGUsYyxzKSxwLmJhc2U9dS5fX2UsdS5fX3UmPS0xNjEscC5fX2gubGVuZ3RoJiZmLnB1c2gocCksdyYmKHAuX19FPXAuX189bnVsbCk7fWNhdGNoKG4pe3UuX192PW51bGwsY3x8bnVsbCE9cj8odS5fX2U9ZSx1Ll9fdXw9Yz8xNjA6MzIscltyLmluZGV4T2YoZSldPW51bGwpOih1Ll9fZT10Ll9fZSx1Ll9faz10Ll9fayksbCQxLl9fZShuLHUsdCk7fWVsc2UgbnVsbD09ciYmdS5fX3Y9PT10Ll9fdj8odS5fX2s9dC5fX2ssdS5fX2U9dC5fX2UpOnUuX19lPXokMSh0Ll9fZSx1LHQsaSxvLHIsZixjLHMpOyhhPWwkMS5kaWZmZWQpJiZhKHUpO31mdW5jdGlvbiBqJDEobix1LHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKU4odFtpXSx0WysraV0sdFsrK2ldKTtsJDEuX19jJiZsJDEuX19jKHUsbiksbi5zb21lKGZ1bmN0aW9uKHUpe3RyeXtuPXUuX19oLHUuX19oPVtdLG4uc29tZShmdW5jdGlvbihuKXtuLmNhbGwodSk7fSk7fWNhdGNoKG4pe2wkMS5fX2Uobix1Ll9fdik7fX0pO31mdW5jdGlvbiB6JDEobCx1LHQsaSxvLHIsZixlLHMpe3ZhciBhLHYseSxkLF8sZyxiLHc9dC5wcm9wcyxrPXUucHJvcHMseD11LnR5cGU7aWYoXCJzdmdcIj09PXgmJihvPXRydWUpLG51bGwhPXIpZm9yKGE9MDthPHIubGVuZ3RoO2ErKylpZigoXz1yW2FdKSYmXCJzZXRBdHRyaWJ1dGVcImluIF89PSEheCYmKHg/Xy5sb2NhbE5hbWU9PT14OjM9PT1fLm5vZGVUeXBlKSl7bD1fLHJbYV09bnVsbDticmVha31pZihudWxsPT1sKXtpZihudWxsPT09eClyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoayk7bD1vP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIseCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh4LGsuaXMmJmspLHI9bnVsbCxlPWZhbHNlO31pZihudWxsPT09eCl3PT09a3x8ZSYmbC5kYXRhPT09a3x8KGwuZGF0YT1rKTtlbHNlIHtpZihyPXImJm4uY2FsbChsLmNoaWxkTm9kZXMpLHc9dC5wcm9wc3x8YyQxLCFlJiZudWxsIT1yKWZvcih3PXt9LGE9MDthPGwuYXR0cmlidXRlcy5sZW5ndGg7YSsrKXdbKF89bC5hdHRyaWJ1dGVzW2FdKS5uYW1lXT1fLnZhbHVlO2ZvcihhIGluIHcpXz13W2FdLFwiY2hpbGRyZW5cIj09YXx8KFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09YT95PV86XCJrZXlcIj09PWF8fGEgaW4ga3x8QSQxKGwsYSxudWxsLF8sbykpO2ZvcihhIGluIGspXz1rW2FdLFwiY2hpbGRyZW5cIj09YT9kPV86XCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT1hP3Y9XzpcInZhbHVlXCI9PWE/Zz1fOlwiY2hlY2tlZFwiPT1hP2I9XzpcImtleVwiPT09YXx8ZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgX3x8d1thXT09PV98fEEkMShsLGEsXyx3W2FdLG8pO2lmKHYpZXx8eSYmKHYuX19odG1sPT09eS5fX2h0bWx8fHYuX19odG1sPT09bC5pbm5lckhUTUwpfHwobC5pbm5lckhUTUw9di5fX2h0bWwpLHUuX19rPVtdO2Vsc2UgaWYoeSYmKGwuaW5uZXJIVE1MPVwiXCIpLFAkMShsLGgkMShkKT9kOltkXSx1LHQsaSxvJiZcImZvcmVpZ25PYmplY3RcIiE9PXgscixmLHI/clswXTp0Ll9fayYmbSQxKHQsMCksZSxzKSxudWxsIT1yKWZvcihhPXIubGVuZ3RoO2EtLTspbnVsbCE9clthXSYmcCQxKHJbYV0pO2V8fChhPVwidmFsdWVcIix2b2lkIDAhPT1nJiYoZyE9PWxbYV18fFwicHJvZ3Jlc3NcIj09PXgmJiFnfHxcIm9wdGlvblwiPT09eCYmZyE9PXdbYV0pJiZBJDEobCxhLGcsd1thXSxmYWxzZSksYT1cImNoZWNrZWRcIix2b2lkIDAhPT1iJiZiIT09bFthXSYmQSQxKGwsYSxiLHdbYV0sZmFsc2UpKTt9cmV0dXJuIGx9ZnVuY3Rpb24gTihuLHUsdCl7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIG4/bih1KTpuLmN1cnJlbnQ9dTt9Y2F0Y2gobil7bCQxLl9fZShuLHQpO319ZnVuY3Rpb24gTyhuLHUsdCl7dmFyIGksbztpZihsJDEudW5tb3VudCYmbCQxLnVubW91bnQobiksKGk9bi5yZWYpJiYoaS5jdXJyZW50JiZpLmN1cnJlbnQhPT1uLl9fZXx8TihpLG51bGwsdSkpLG51bGwhPShpPW4uX19jKSl7aWYoaS5jb21wb25lbnRXaWxsVW5tb3VudCl0cnl7aS5jb21wb25lbnRXaWxsVW5tb3VudCgpO31jYXRjaChuKXtsJDEuX19lKG4sdSk7fWkuYmFzZT1pLl9fUD1udWxsLG4uX19jPXZvaWQgMDt9aWYoaT1uLl9faylmb3Iobz0wO288aS5sZW5ndGg7bysrKWlbb10mJk8oaVtvXSx1LHR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4udHlwZSk7dHx8bnVsbD09bi5fX2V8fHAkMShuLl9fZSksbi5fXz1uLl9fZT1uLl9fZD12b2lkIDA7fWZ1bmN0aW9uIHEkMShuLGwsdSl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3Iobix1KX1mdW5jdGlvbiBCJDEodSx0LGkpe3ZhciBvLHIsZixlO2wkMS5fXyYmbCQxLl9fKHUsdCkscj0obz1cImZ1bmN0aW9uXCI9PVwidW5kZWZpbmVkXCIpP251bGw6dC5fX2ssZj1bXSxlPVtdLE0odCx1PSh0KS5fX2s9eSQxKGckMSxudWxsLFt1XSkscnx8YyQxLGMkMSx2b2lkIDAhPT10Lm93bmVyU1ZHRWxlbWVudCxyP251bGw6dC5maXJzdENoaWxkP24uY2FsbCh0LmNoaWxkTm9kZXMpOm51bGwsZixyP3IuX19lOnQuZmlyc3RDaGlsZCxvLGUpLHUuX19kPXZvaWQgMCxqJDEoZix1LGUpO31uPXMkMS5zbGljZSxsJDE9e19fZTpmdW5jdGlvbihuLGwsdSx0KXtmb3IodmFyIGksbyxyO2w9bC5fXzspaWYoKGk9bC5fX2MpJiYhaS5fXyl0cnl7aWYoKG89aS5jb25zdHJ1Y3RvcikmJm51bGwhPW8uZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yJiYoaS5zZXRTdGF0ZShvLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihuKSkscj1pLl9fZCksbnVsbCE9aS5jb21wb25lbnREaWRDYXRjaCYmKGkuY29tcG9uZW50RGlkQ2F0Y2gobix0fHx7fSkscj1pLl9fZCkscilyZXR1cm4gaS5fX0U9aX1jYXRjaChsKXtuPWw7fXRocm93IG59fSx1JDE9MCxiJDEucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKG4sbCl7dmFyIHU7dT1udWxsIT10aGlzLl9fcyYmdGhpcy5fX3MhPT10aGlzLnN0YXRlP3RoaXMuX19zOnRoaXMuX19zPXYkMSh7fSx0aGlzLnN0YXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYobj1uKHYkMSh7fSx1KSx0aGlzLnByb3BzKSksbiYmdiQxKHUsbiksbnVsbCE9biYmdGhpcy5fX3YmJihsJiZ0aGlzLl9zYi5wdXNoKGwpLHgkMSh0aGlzKSk7fSxiJDEucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKG4pe3RoaXMuX192JiYodGhpcy5fX2U9dHJ1ZSxuJiZ0aGlzLl9faC5wdXNoKG4pLHgkMSh0aGlzKSk7fSxiJDEucHJvdG90eXBlLnJlbmRlcj1nJDEsaSQxPVtdLHIkMT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm9taXNlP1Byb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSk6c2V0VGltZW91dCxmJDE9ZnVuY3Rpb24obixsKXtyZXR1cm4gbi5fX3YuX19iLWwuX192Ll9fYn0sQyQxLl9fcj0wO1xuXG52YXIgdCxyLHUsaSxvPTAsZj1bXSxjPVtdLGU9bCQxLGE9ZS5fX2Isdj1lLl9fcixsPWUuZGlmZmVkLG09ZS5fX2Mscz1lLnVubW91bnQsZD1lLl9fO2Z1bmN0aW9uIGgobix0KXtlLl9faCYmZS5fX2gocixuLG98fHQpLG89MDt2YXIgdT1yLl9fSHx8KHIuX19IPXtfXzpbXSxfX2g6W119KTtyZXR1cm4gbj49dS5fXy5sZW5ndGgmJnUuX18ucHVzaCh7X19WOmN9KSx1Ll9fW25dfWZ1bmN0aW9uIHAobil7cmV0dXJuIG89MSx5KEQsbil9ZnVuY3Rpb24geShuLHUsaSl7dmFyIG89aCh0KyssMik7aWYoby50PW4sIW8uX19jJiYoby5fXz1baT9pKHUpOkQodm9pZCAwLHUpLGZ1bmN0aW9uKG4pe3ZhciB0PW8uX19OP28uX19OWzBdOm8uX19bMF0scj1vLnQodCxuKTt0IT09ciYmKG8uX19OPVtyLG8uX19bMV1dLG8uX19jLnNldFN0YXRlKHt9KSk7fV0sby5fX2M9ciwhci51KSl7dmFyIGY9ZnVuY3Rpb24obix0LHIpe2lmKCFvLl9fYy5fX0gpcmV0dXJuICB0cnVlO3ZhciB1PW8uX19jLl9fSC5fXy5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuICEhbi5fX2N9KTtpZih1LmV2ZXJ5KGZ1bmN0aW9uKG4pe3JldHVybiAhbi5fX059KSlyZXR1cm4gIWN8fGMuY2FsbCh0aGlzLG4sdCxyKTt2YXIgaT1mYWxzZTtyZXR1cm4gdS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKG4uX19OKXt2YXIgdD1uLl9fWzBdO24uX189bi5fX04sbi5fX049dm9pZCAwLHQhPT1uLl9fWzBdJiYoaT10cnVlKTt9fSksISghaSYmby5fX2MucHJvcHM9PT1uKSYmKCFjfHxjLmNhbGwodGhpcyxuLHQscikpfTtyLnU9dHJ1ZTt2YXIgYz1yLnNob3VsZENvbXBvbmVudFVwZGF0ZSxlPXIuY29tcG9uZW50V2lsbFVwZGF0ZTtyLmNvbXBvbmVudFdpbGxVcGRhdGU9ZnVuY3Rpb24obix0LHIpe2lmKHRoaXMuX19lKXt2YXIgdT1jO2M9dm9pZCAwLGYobix0LHIpLGM9dTt9ZSYmZS5jYWxsKHRoaXMsbix0LHIpO30sci5zaG91bGRDb21wb25lbnRVcGRhdGU9Zjt9cmV0dXJuIG8uX19OfHxvLl9ffWZ1bmN0aW9uIF8obix1KXt2YXIgaT1oKHQrKywzKTshZS5fX3MmJkMoaS5fX0gsdSkmJihpLl9fPW4saS5pPXUsci5fX0guX19oLnB1c2goaSkpO31mdW5jdGlvbiBBKG4sdSl7dmFyIGk9aCh0KyssNCk7IWUuX19zJiZDKGkuX19ILHUpJiYoaS5fXz1uLGkuaT11LHIuX19oLnB1c2goaSkpO31mdW5jdGlvbiBGKG4pe3JldHVybiBvPTUscShmdW5jdGlvbigpe3JldHVybiB7Y3VycmVudDpufX0sW10pfWZ1bmN0aW9uIFQobix0LHIpe289NixBKGZ1bmN0aW9uKCl7cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/KG4odCgpKSxmdW5jdGlvbigpe3JldHVybiBuKG51bGwpfSk6bj8obi5jdXJyZW50PXQoKSxmdW5jdGlvbigpe3JldHVybiBuLmN1cnJlbnQ9bnVsbH0pOnZvaWQgMH0sbnVsbD09cj9yOnIuY29uY2F0KG4pKTt9ZnVuY3Rpb24gcShuLHIpe3ZhciB1PWgodCsrLDcpO3JldHVybiBDKHUuX19ILHIpPyh1Ll9fVj1uKCksdS5pPXIsdS5fX2g9bix1Ll9fVik6dS5fX31mdW5jdGlvbiB4KG4sdCl7cmV0dXJuIG89OCxxKGZ1bmN0aW9uKCl7cmV0dXJuIG59LHQpfWZ1bmN0aW9uIFAobil7dmFyIHU9ci5jb250ZXh0W24uX19jXSxpPWgodCsrLDkpO3JldHVybiBpLmM9bix1PyhudWxsPT1pLl9fJiYoaS5fXz10cnVlLHUuc3ViKHIpKSx1LnByb3BzLnZhbHVlKTpuLl9ffWZ1bmN0aW9uIFYobix0KXtlLnVzZURlYnVnVmFsdWUmJmUudXNlRGVidWdWYWx1ZSh0P3Qobik6bik7fWZ1bmN0aW9uIGIobil7dmFyIHU9aCh0KyssMTApLGk9cCgpO3JldHVybiB1Ll9fPW4sci5jb21wb25lbnREaWRDYXRjaHx8KHIuY29tcG9uZW50RGlkQ2F0Y2g9ZnVuY3Rpb24obix0KXt1Ll9fJiZ1Ll9fKG4sdCksaVsxXShuKTt9KSxbaVswXSxmdW5jdGlvbigpe2lbMV0odm9pZCAwKTt9XX1mdW5jdGlvbiBnKCl7dmFyIG49aCh0KyssMTEpO2lmKCFuLl9fKXtmb3IodmFyIHU9ci5fX3Y7bnVsbCE9PXUmJiF1Ll9fbSYmbnVsbCE9PXUuX187KXU9dS5fXzt2YXIgaT11Ll9fbXx8KHUuX19tPVswLDBdKTtuLl9fPVwiUFwiK2lbMF0rXCItXCIraVsxXSsrO31yZXR1cm4gbi5fX31mdW5jdGlvbiBqKCl7Zm9yKHZhciBuO249Zi5zaGlmdCgpOylpZihuLl9fUCYmbi5fX0gpdHJ5e24uX19ILl9faC5mb3JFYWNoKHopLG4uX19ILl9faC5mb3JFYWNoKEIpLG4uX19ILl9faD1bXTt9Y2F0Y2godCl7bi5fX0guX19oPVtdLGUuX19lKHQsbi5fX3YpO319ZS5fX2I9ZnVuY3Rpb24obil7cj1udWxsLGEmJmEobik7fSxlLl9fPWZ1bmN0aW9uKG4sdCl7dC5fX2smJnQuX19rLl9fbSYmKG4uX19tPXQuX19rLl9fbSksZCYmZChuLHQpO30sZS5fX3I9ZnVuY3Rpb24obil7diYmdihuKSx0PTA7dmFyIGk9KHI9bi5fX2MpLl9fSDtpJiYodT09PXI/KGkuX19oPVtdLHIuX19oPVtdLGkuX18uZm9yRWFjaChmdW5jdGlvbihuKXtuLl9fTiYmKG4uX189bi5fX04pLG4uX19WPWMsbi5fX049bi5pPXZvaWQgMDt9KSk6KGkuX19oLmZvckVhY2goeiksaS5fX2guZm9yRWFjaChCKSxpLl9faD1bXSx0PTApKSx1PXI7fSxlLmRpZmZlZD1mdW5jdGlvbihuKXtsJiZsKG4pO3ZhciB0PW4uX19jO3QmJnQuX19IJiYodC5fX0guX19oLmxlbmd0aCYmKDEhPT1mLnB1c2godCkmJmk9PT1lLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KChpPWUucmVxdWVzdEFuaW1hdGlvbkZyYW1lKXx8dykoaikpLHQuX19ILl9fLmZvckVhY2goZnVuY3Rpb24obil7bi5pJiYobi5fX0g9bi5pKSxuLl9fViE9PWMmJihuLl9fPW4uX19WKSxuLmk9dm9pZCAwLG4uX19WPWM7fSkpLHU9cj1udWxsO30sZS5fX2M9ZnVuY3Rpb24obix0KXt0LnNvbWUoZnVuY3Rpb24obil7dHJ5e24uX19oLmZvckVhY2goeiksbi5fX2g9bi5fX2guZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiAhbi5fX3x8QihuKX0pO31jYXRjaChyKXt0LnNvbWUoZnVuY3Rpb24obil7bi5fX2gmJihuLl9faD1bXSk7fSksdD1bXSxlLl9fZShyLG4uX192KTt9fSksbSYmbShuLHQpO30sZS51bm1vdW50PWZ1bmN0aW9uKG4pe3MmJnMobik7dmFyIHQscj1uLl9fYztyJiZyLl9fSCYmKHIuX19ILl9fLmZvckVhY2goZnVuY3Rpb24obil7dHJ5e3oobik7fWNhdGNoKG4pe3Q9bjt9fSksci5fX0g9dm9pZCAwLHQmJmUuX19lKHQsci5fX3YpKTt9O3ZhciBrPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZTtmdW5jdGlvbiB3KG4pe3ZhciB0LHI9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodSksayYmY2FuY2VsQW5pbWF0aW9uRnJhbWUodCksc2V0VGltZW91dChuKTt9LHU9c2V0VGltZW91dChyLDEwMCk7ayYmKHQ9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIpKTt9ZnVuY3Rpb24geihuKXt2YXIgdD1yLHU9bi5fX2M7XCJmdW5jdGlvblwiPT10eXBlb2YgdSYmKG4uX19jPXZvaWQgMCx1KCkpLHI9dDt9ZnVuY3Rpb24gQihuKXt2YXIgdD1yO24uX19jPW4uX18oKSxyPXQ7fWZ1bmN0aW9uIEMobix0KXtyZXR1cm4gIW58fG4ubGVuZ3RoIT09dC5sZW5ndGh8fHQuc29tZShmdW5jdGlvbih0LHIpe3JldHVybiB0IT09bltyXX0pfWZ1bmN0aW9uIEQobix0KXtyZXR1cm4gXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KG4pOnR9XG5cbmNvbnN0IGhvb2tzID0gLyojX19QVVJFX18qL09iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgdXNlQ2FsbGJhY2s6IHgsXG4gIHVzZUNvbnRleHQ6IFAsXG4gIHVzZURlYnVnVmFsdWU6IFYsXG4gIHVzZUVmZmVjdDogXyxcbiAgdXNlRXJyb3JCb3VuZGFyeTogYixcbiAgdXNlSWQ6IGcsXG4gIHVzZUltcGVyYXRpdmVIYW5kbGU6IFQsXG4gIHVzZUxheW91dEVmZmVjdDogQSxcbiAgdXNlTWVtbzogcSxcbiAgdXNlUmVkdWNlcjogeSxcbiAgdXNlUmVmOiBGLFxuICB1c2VTdGF0ZTogcFxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblxuY29uc3QgWE1MTlMkMSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8qKlxuICogU2VudHJ5IExvZ29cbiAqL1xuZnVuY3Rpb24gU2VudHJ5TG9nbygpIHtcbiAgY29uc3QgY3JlYXRlRWxlbWVudE5TID0gKHRhZ05hbWUpID0+XG4gICAgRE9DVU1FTlQuY3JlYXRlRWxlbWVudE5TKFhNTE5TJDEsIHRhZ05hbWUpO1xuICBjb25zdCBzdmcgPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdzdmcnKSwge1xuICAgIHdpZHRoOiAnMzInLFxuICAgIGhlaWdodDogJzMwJyxcbiAgICB2aWV3Qm94OiAnMCAwIDcyIDY2JyxcbiAgICBmaWxsOiAnaW5oZXJpdCcsXG4gIH0pO1xuXG4gIGNvbnN0IHBhdGggPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdwYXRoJyksIHtcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMTEsIDExKScsXG4gICAgZDogJ00yOSwyLjI2YTQuNjcsNC42NywwLDAsMC04LDBMMTQuNDIsMTMuNTNBMzIuMjEsMzIuMjEsMCwwLDEsMzIuMTcsNDAuMTlIMjcuNTVBMjcuNjgsMjcuNjgsMCwwLDAsMTIuMDksMTcuNDdMNiwyOGExNS45MiwxNS45MiwwLDAsMSw5LjIzLDEyLjE3SDQuNjJBLjc2Ljc2LDAsMCwxLDQsMzkuMDZsMi45NC01YTEwLjc0LDEwLjc0LDAsMCwwLTMuMzYtMS45bC0yLjkxLDVhNC41NCw0LjU0LDAsMCwwLDEuNjksNi4yNEE0LjY2LDQuNjYsMCwwLDAsNC42Miw0NEgxOS4xNWExOS40LDE5LjQsMCwwLDAtOC0xNy4zMWwyLjMxLTRBMjMuODcsMjMuODcsMCwwLDEsMjMuNzYsNDRIMzYuMDdhMzUuODgsMzUuODgsMCwwLDAtMTYuNDEtMzEuOGw0LjY3LThhLjc3Ljc3LDAsMCwxLDEuMDUtLjI3Yy41My4yOSwyMC4yOSwzNC43NywyMC42NiwzNS4xN2EuNzYuNzYsMCwwLDEtLjY4LDEuMTNINDAuNnEuMDksMS45MSwwLDMuODFoNC43OEE0LjU5LDQuNTksMCwwLDAsNTAsMzkuNDNhNC40OSw0LjQ5LDAsMCwwLS42Mi0yLjI4WicsXG4gIH0pO1xuICBzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG5cbiAgcmV0dXJuIHN2Zztcbn1cblxuZnVuY3Rpb24gRGlhbG9nSGVhZGVyKHsgb3B0aW9ucyB9KSB7XG4gIGNvbnN0IGxvZ29IdG1sID0gcSgoKSA9PiAoeyBfX2h0bWw6IFNlbnRyeUxvZ28oKS5vdXRlckhUTUwgfSksIFtdKTtcblxuICByZXR1cm4gKFxuICAgIHkkMSgnaDInLCB7IGNsYXNzOiBcImRpYWxvZ19faGVhZGVyXCIsfVxuICAgICAgLCB5JDEoJ3NwYW4nLCB7IGNsYXNzOiBcImRpYWxvZ19fdGl0bGVcIix9LCBvcHRpb25zLmZvcm1UaXRsZSlcbiAgICAgICwgb3B0aW9ucy5zaG93QnJhbmRpbmcgPyAoXG4gICAgICAgIHkkMSgnYScsIHtcbiAgICAgICAgICBjbGFzczogXCJicmFuZC1saW5rXCIsXG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9zZW50cnkuaW8vd2VsY29tZS9cIixcbiAgICAgICAgICB0aXRsZTogXCJQb3dlcmVkIGJ5IFNlbnRyeVwiICAsXG4gICAgICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiAsXG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IGxvZ29IdG1sLH1cbiAgICAgICAgKVxuICAgICAgKSA6IG51bGxcbiAgICApXG4gICk7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgdGhhdCBhIGdpdmVuIGZlZWRiYWNrIHN1Ym1pc3Npb24gaGFzIHRoZSByZXF1aXJlZCBmaWVsZHNcbiAqL1xuZnVuY3Rpb24gZ2V0TWlzc2luZ0ZpZWxkcyhmZWVkYmFjaywgcHJvcHMpIHtcbiAgY29uc3QgZW1wdHlGaWVsZHMgPSBbXTtcbiAgaWYgKHByb3BzLmlzTmFtZVJlcXVpcmVkICYmICFmZWVkYmFjay5uYW1lKSB7XG4gICAgZW1wdHlGaWVsZHMucHVzaChwcm9wcy5uYW1lTGFiZWwpO1xuICB9XG4gIGlmIChwcm9wcy5pc0VtYWlsUmVxdWlyZWQgJiYgIWZlZWRiYWNrLmVtYWlsKSB7XG4gICAgZW1wdHlGaWVsZHMucHVzaChwcm9wcy5lbWFpbExhYmVsKTtcbiAgfVxuICBpZiAoIWZlZWRiYWNrLm1lc3NhZ2UpIHtcbiAgICBlbXB0eUZpZWxkcy5wdXNoKHByb3BzLm1lc3NhZ2VMYWJlbCk7XG4gIH1cblxuICByZXR1cm4gZW1wdHlGaWVsZHM7XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlU3RyaW5nVmFsdWUoZm9ybURhdGEsIGtleSkge1xuICBjb25zdCB2YWx1ZSA9IGZvcm1EYXRhLmdldChrZXkpO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZS50cmltKCk7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBGb3JtKHtcbiAgb3B0aW9ucyxcbiAgZGVmYXVsdEVtYWlsLFxuICBkZWZhdWx0TmFtZSxcblxuICBvbkZvcm1DbG9zZSxcbiAgb25TdWJtaXQsXG4gIG9uU3VibWl0U3VjY2VzcyxcbiAgb25TdWJtaXRFcnJvcixcbiAgc2hvd0VtYWlsLFxuICBzaG93TmFtZSxcbiAgc2NyZWVuc2hvdElucHV0LFxufSkge1xuICBjb25zdCB7XG4gICAgdGFncyxcbiAgICBhZGRTY3JlZW5zaG90QnV0dG9uTGFiZWwsXG4gICAgcmVtb3ZlU2NyZWVuc2hvdEJ1dHRvbkxhYmVsLFxuICAgIGNhbmNlbEJ1dHRvbkxhYmVsLFxuICAgIGVtYWlsTGFiZWwsXG4gICAgZW1haWxQbGFjZWhvbGRlcixcbiAgICBpc0VtYWlsUmVxdWlyZWQsXG4gICAgaXNOYW1lUmVxdWlyZWQsXG4gICAgbWVzc2FnZUxhYmVsLFxuICAgIG1lc3NhZ2VQbGFjZWhvbGRlcixcbiAgICBuYW1lTGFiZWwsXG4gICAgbmFtZVBsYWNlaG9sZGVyLFxuICAgIHN1Ym1pdEJ1dHRvbkxhYmVsLFxuICAgIGlzUmVxdWlyZWRMYWJlbCxcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSBwKGZhbHNlKTtcbiAgLy8gVE9ETzogc2V0IGEgcmVmIG9uIHRoZSBmb3JtLCBhbmQgd2hlbmV2ZXIgYW4gaW5wdXQgY2hhbmdlcyBjYWxsIHByb2Nlc3NGb3JtKCkgYW5kIHNldEVycm9yKClcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSBwKG51bGwpO1xuXG4gIGNvbnN0IFtzaG93U2NyZWVuc2hvdElucHV0LCBzZXRTaG93U2NyZWVuc2hvdElucHV0XSA9IHAoZmFsc2UpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBjb25zdCBTY3JlZW5zaG90SW5wdXRDb21wb25lbnQgPSBzY3JlZW5zaG90SW5wdXQ/LmlucHV0O1xuXG4gIGNvbnN0IFtzY3JlZW5zaG90RXJyb3IsIHNldFNjcmVlbnNob3RFcnJvcl0gPSBwKG51bGwpO1xuICBjb25zdCBvblNjcmVlbnNob3RFcnJvciA9IHgoKGVycm9yKSA9PiB7XG4gICAgc2V0U2NyZWVuc2hvdEVycm9yKGVycm9yKTtcbiAgICBzZXRTaG93U2NyZWVuc2hvdElucHV0KGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhc0FsbFJlcXVpcmVkRmllbGRzID0geChcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgbWlzc2luZ0ZpZWxkcyA9IGdldE1pc3NpbmdGaWVsZHMoZGF0YSwge1xuICAgICAgICBlbWFpbExhYmVsLFxuICAgICAgICBpc0VtYWlsUmVxdWlyZWQsXG4gICAgICAgIGlzTmFtZVJlcXVpcmVkLFxuICAgICAgICBtZXNzYWdlTGFiZWwsXG4gICAgICAgIG5hbWVMYWJlbCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobWlzc2luZ0ZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNldEVycm9yKGBQbGVhc2UgZW50ZXIgaW4gdGhlIGZvbGxvd2luZyByZXF1aXJlZCBmaWVsZHM6ICR7bWlzc2luZ0ZpZWxkcy5qb2luKCcsICcpfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtaXNzaW5nRmllbGRzLmxlbmd0aCA9PT0gMDtcbiAgICB9LFxuICAgIFtlbWFpbExhYmVsLCBpc0VtYWlsUmVxdWlyZWQsIGlzTmFtZVJlcXVpcmVkLCBtZXNzYWdlTGFiZWwsIG5hbWVMYWJlbF0sXG4gICk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0geChcbiAgICBhc3luYyAoZSkgPT4ge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIShlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZS50YXJnZXQpO1xuICAgICAgICBjb25zdCBhdHRhY2htZW50ID0gYXdhaXQgKHNjcmVlbnNob3RJbnB1dCAmJiBzaG93U2NyZWVuc2hvdElucHV0ID8gc2NyZWVuc2hvdElucHV0LnZhbHVlKCkgOiB1bmRlZmluZWQpO1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgbmFtZTogcmV0cmlldmVTdHJpbmdWYWx1ZShmb3JtRGF0YSwgJ25hbWUnKSxcbiAgICAgICAgICBlbWFpbDogcmV0cmlldmVTdHJpbmdWYWx1ZShmb3JtRGF0YSwgJ2VtYWlsJyksXG4gICAgICAgICAgbWVzc2FnZTogcmV0cmlldmVTdHJpbmdWYWx1ZShmb3JtRGF0YSwgJ21lc3NhZ2UnKSxcbiAgICAgICAgICBhdHRhY2htZW50czogYXR0YWNobWVudCA/IFthdHRhY2htZW50XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIWhhc0FsbFJlcXVpcmVkRmllbGRzKGRhdGEpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBldmVudElkID0gYXdhaXQgb25TdWJtaXQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgICAgICAgZW1haWw6IGRhdGEuZW1haWwsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSxcbiAgICAgICAgICAgICAgc291cmNlOiBGRUVEQkFDS19XSURHRVRfU09VUkNFLFxuICAgICAgICAgICAgICB0YWdzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgYXR0YWNobWVudHM6IGRhdGEuYXR0YWNobWVudHMgfSxcbiAgICAgICAgICApO1xuICAgICAgICAgIG9uU3VibWl0U3VjY2VzcyhkYXRhLCBldmVudElkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBERUJVR19CVUlMRCAmJiBkZWJ1Zy5lcnJvcihlcnJvcik7XG4gICAgICAgICAgc2V0RXJyb3IoZXJyb3IgKTtcbiAgICAgICAgICBvblN1Ym1pdEVycm9yKGVycm9yICk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbc2NyZWVuc2hvdElucHV0ICYmIHNob3dTY3JlZW5zaG90SW5wdXQsIG9uU3VibWl0U3VjY2Vzcywgb25TdWJtaXRFcnJvcl0sXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICB5JDEoJ2Zvcm0nLCB7IGNsYXNzOiBcImZvcm1cIiwgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdCx9XG4gICAgICAsIFNjcmVlbnNob3RJbnB1dENvbXBvbmVudCAmJiBzaG93U2NyZWVuc2hvdElucHV0ID8gKFxuICAgICAgICB5JDEoU2NyZWVuc2hvdElucHV0Q29tcG9uZW50LCB7IG9uRXJyb3I6IG9uU2NyZWVuc2hvdEVycm9yLH0gKVxuICAgICAgKSA6IG51bGxcblxuICAgICAgLCB5JDEoJ2ZpZWxkc2V0JywgeyBjbGFzczogXCJmb3JtX19yaWdodFwiLCAnZGF0YS1zZW50cnktZmVlZGJhY2snOiB0cnVlLCBkaXNhYmxlZDogaXNTdWJtaXR0aW5nLH1cbiAgICAgICAgLCB5JDEoJ2RpdicsIHsgY2xhc3M6IFwiZm9ybV9fdG9wXCIsfVxuICAgICAgICAgICwgZXJyb3IgPyB5JDEoJ2RpdicsIHsgY2xhc3M6IFwiZm9ybV9fZXJyb3ItY29udGFpbmVyXCIsfSwgZXJyb3IpIDogbnVsbFxuXG4gICAgICAgICAgLCBzaG93TmFtZSA/IChcbiAgICAgICAgICAgIHkkMSgnbGFiZWwnLCB7IGZvcjogXCJuYW1lXCIsIGNsYXNzOiBcImZvcm1fX2xhYmVsXCIsfVxuICAgICAgICAgICAgICAsIHkkMShMYWJlbFRleHQsIHsgbGFiZWw6IG5hbWVMYWJlbCwgaXNSZXF1aXJlZExhYmVsOiBpc1JlcXVpcmVkTGFiZWwsIGlzUmVxdWlyZWQ6IGlzTmFtZVJlcXVpcmVkLH0gKVxuICAgICAgICAgICAgICAsIHkkMSgnaW5wdXQnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiZm9ybV9faW5wdXRcIixcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHROYW1lLFxuICAgICAgICAgICAgICAgIGlkOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbmFtZVBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBpc05hbWVSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIix9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgeSQxKCdpbnB1dCcsIHsgJ2FyaWEtaGlkZGVuJzogdHJ1ZSwgdmFsdWU6IGRlZmF1bHROYW1lLCBuYW1lOiBcIm5hbWVcIiwgdHlwZTogXCJoaWRkZW5cIix9IClcbiAgICAgICAgICApXG5cbiAgICAgICAgICAsIHNob3dFbWFpbCA/IChcbiAgICAgICAgICAgIHkkMSgnbGFiZWwnLCB7IGZvcjogXCJlbWFpbFwiLCBjbGFzczogXCJmb3JtX19sYWJlbFwiLH1cbiAgICAgICAgICAgICAgLCB5JDEoTGFiZWxUZXh0LCB7IGxhYmVsOiBlbWFpbExhYmVsLCBpc1JlcXVpcmVkTGFiZWw6IGlzUmVxdWlyZWRMYWJlbCwgaXNSZXF1aXJlZDogaXNFbWFpbFJlcXVpcmVkLH0gKVxuICAgICAgICAgICAgICAsIHkkMSgnaW5wdXQnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiZm9ybV9faW5wdXRcIixcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRFbWFpbCxcbiAgICAgICAgICAgICAgICBpZDogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogZW1haWxQbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogaXNFbWFpbFJlcXVpcmVkLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZW1haWxcIix9XG4pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIHkkMSgnaW5wdXQnLCB7ICdhcmlhLWhpZGRlbic6IHRydWUsIHZhbHVlOiBkZWZhdWx0RW1haWwsIG5hbWU6IFwiZW1haWxcIiwgdHlwZTogXCJoaWRkZW5cIix9IClcbiAgICAgICAgICApXG5cbiAgICAgICAgICAsIHkkMSgnbGFiZWwnLCB7IGZvcjogXCJtZXNzYWdlXCIsIGNsYXNzOiBcImZvcm1fX2xhYmVsXCIsfVxuICAgICAgICAgICAgLCB5JDEoTGFiZWxUZXh0LCB7IGxhYmVsOiBtZXNzYWdlTGFiZWwsIGlzUmVxdWlyZWRMYWJlbDogaXNSZXF1aXJlZExhYmVsLCBpc1JlcXVpcmVkOiB0cnVlLH0gKVxuICAgICAgICAgICAgLCB5JDEoJ3RleHRhcmVhJywge1xuICAgICAgICAgICAgICBhdXRvRm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgIGNsYXNzOiBcImZvcm1fX2lucHV0IGZvcm1fX2lucHV0LS10ZXh0YXJlYVwiICxcbiAgICAgICAgICAgICAgaWQ6IFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgICBuYW1lOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG1lc3NhZ2VQbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIHJvd3M6IDUsfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcblxuICAgICAgICAgICwgU2NyZWVuc2hvdElucHV0Q29tcG9uZW50ID8gKFxuICAgICAgICAgICAgeSQxKCdsYWJlbCcsIHsgZm9yOiBcInNjcmVlbnNob3RcIiwgY2xhc3M6IFwiZm9ybV9fbGFiZWxcIix9XG4gICAgICAgICAgICAgICwgeSQxKCdidXR0b24nLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiYnRuIGJ0bi0tZGVmYXVsdFwiICxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogaXNTdWJtaXR0aW5nLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2NyZWVuc2hvdEVycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd1NjcmVlbnNob3RJbnB1dChwcmV2ID0+ICFwcmV2KTtcbiAgICAgICAgICAgICAgICB9LH1cblxuICAgICAgICAgICAgICAgICwgc2hvd1NjcmVlbnNob3RJbnB1dCA/IHJlbW92ZVNjcmVlbnNob3RCdXR0b25MYWJlbCA6IGFkZFNjcmVlbnNob3RCdXR0b25MYWJlbFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICwgc2NyZWVuc2hvdEVycm9yID8geSQxKCdkaXYnLCB7IGNsYXNzOiBcImZvcm1fX2Vycm9yLWNvbnRhaW5lclwiLH0sIHNjcmVlbnNob3RFcnJvci5tZXNzYWdlKSA6IG51bGxcbiAgICAgICAgICAgIClcbiAgICAgICAgICApIDogbnVsbFxuICAgICAgICApXG4gICAgICAgICwgeSQxKCdkaXYnLCB7IGNsYXNzOiBcImJ0bi1ncm91cFwiLH1cbiAgICAgICAgICAsIHkkMSgnYnV0dG9uJywgeyBjbGFzczogXCJidG4gYnRuLS1wcmltYXJ5XCIgLCBkaXNhYmxlZDogaXNTdWJtaXR0aW5nLCB0eXBlOiBcInN1Ym1pdFwiLH1cbiAgICAgICAgICAgICwgc3VibWl0QnV0dG9uTGFiZWxcbiAgICAgICAgICApXG4gICAgICAgICAgLCB5JDEoJ2J1dHRvbicsIHsgY2xhc3M6IFwiYnRuIGJ0bi0tZGVmYXVsdFwiICwgZGlzYWJsZWQ6IGlzU3VibWl0dGluZywgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogb25Gb3JtQ2xvc2UsfVxuICAgICAgICAgICAgLCBjYW5jZWxCdXR0b25MYWJlbFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgKTtcbn1cblxuZnVuY3Rpb24gTGFiZWxUZXh0KHtcbiAgbGFiZWwsXG4gIGlzUmVxdWlyZWQsXG4gIGlzUmVxdWlyZWRMYWJlbCxcbn1cblxuKSB7XG4gIHJldHVybiAoXG4gICAgeSQxKCdzcGFuJywgeyBjbGFzczogXCJmb3JtX19sYWJlbF9fdGV4dFwiLH1cbiAgICAgICwgbGFiZWxcbiAgICAgICwgaXNSZXF1aXJlZCAmJiB5JDEoJ3NwYW4nLCB7IGNsYXNzOiBcImZvcm1fX2xhYmVsX190ZXh0LS1yZXF1aXJlZFwiLH0sIGlzUmVxdWlyZWRMYWJlbClcbiAgICApXG4gICk7XG59XG5cbmNvbnN0IFdJRFRIID0gMTY7XG5jb25zdCBIRUlHSFQgPSAxNztcbmNvbnN0IFhNTE5TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxuLyoqXG4gKiBTdWNjZXNzIEljb24gKGNoZWNrbWFyaylcbiAqL1xuZnVuY3Rpb24gU3VjY2Vzc0ljb24oKSB7XG4gIGNvbnN0IGNyZWF0ZUVsZW1lbnROUyA9ICh0YWdOYW1lKSA9PlxuICAgIFdJTkRPVy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoWE1MTlMsIHRhZ05hbWUpO1xuICBjb25zdCBzdmcgPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdzdmcnKSwge1xuICAgIHdpZHRoOiBgJHtXSURUSH1gLFxuICAgIGhlaWdodDogYCR7SEVJR0hUfWAsXG4gICAgdmlld0JveDogYDAgMCAke1dJRFRIfSAke0hFSUdIVH1gLFxuICAgIGZpbGw6ICdpbmhlcml0JyxcbiAgfSk7XG5cbiAgY29uc3QgZyA9IHNldEF0dHJpYnV0ZXNOUyhjcmVhdGVFbGVtZW50TlMoJ2cnKSwge1xuICAgIGNsaXBQYXRoOiAndXJsKCNjbGlwMF81N18xNTYpJyxcbiAgfSk7XG5cbiAgY29uc3QgcGF0aDIgPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdwYXRoJyksIHtcbiAgICBbJ2ZpbGwtcnVsZSddOiAnZXZlbm9kZCcsXG4gICAgWydjbGlwLXJ1bGUnXTogJ2V2ZW5vZGQnLFxuICAgIGQ6ICdNMy41NTU0NCAxNS4xNTE4QzQuODcxMDMgMTYuMDMwOCA2LjQxNzc1IDE2LjUgOCAxNi41QzEwLjEyMTcgMTYuNSAxMi4xNTY2IDE1LjY1NzEgMTMuNjU2OSAxNC4xNTY5QzE1LjE1NzEgMTIuNjU2NiAxNiAxMC42MjE3IDE2IDguNUMxNiA2LjkxNzc1IDE1LjUzMDggNS4zNzEwMyAxNC42NTE4IDQuMDU1NDRDMTMuNzcyNyAyLjczOTg1IDEyLjUyMzMgMS43MTQ0NyAxMS4wNjE1IDEuMTA4OTdDOS41OTk2NiAwLjUwMzQ2NiA3Ljk5MTEzIDAuMzQ1MDQgNi40MzkyOCAwLjY1MzcyMUM0Ljg4NzQzIDAuOTYyNDAzIDMuNDYxOTcgMS43MjQzMyAyLjM0MzE1IDIuODQzMTVDMS4yMjQzMyAzLjk2MTk3IDAuNDYyNDAzIDUuMzg3NDMgMC4xNTM3MjEgNi45MzkyOEMtMC4xNTQ5NiA4LjQ5MTEzIDAuMDAzNDY2MjUgMTAuMDk5NyAwLjYwODk2NyAxMS41NjE1QzEuMjE0NDcgMTMuMDIzMyAyLjIzOTg1IDE0LjI3MjcgMy41NTU0NCAxNS4xNTE4Wk00LjQwNTQ2IDMuMTIwNEM1LjQ2OTQ1IDIuNDA5NDYgNi43MjAzNiAyLjAzIDggMi4wM0M5LjcxNTk1IDIuMDMgMTEuMzYxNiAyLjcxMTY2IDEyLjU3NSAzLjkyNTAyQzEzLjc4ODMgNS4xMzgzOCAxNC40NyA2Ljc4NDA1IDE0LjQ3IDguNUMxNC40NyA5Ljc3OTY1IDE0LjA5MDUgMTEuMDMwNiAxMy4zNzk2IDEyLjA5NDVDMTIuNjY4NyAxMy4xNTg1IDExLjY1ODIgMTMuOTg3OCAxMC40NzYgMTQuNDc3NUM5LjI5MzczIDE0Ljk2NzIgNy45OTI4MyAxNS4wOTUzIDYuNzM3NzcgMTQuODQ1N0M1LjQ4MjcxIDE0LjU5NiA0LjMyOTg3IDEzLjk3OTggMy40MjUwMiAxMy4wNzVDMi41MjAxOCAxMi4xNzAxIDEuOTAzOTcgMTEuMDE3MyAxLjY1NDMyIDkuNzYyMjRDMS40MDQ2OCA4LjUwNzE4IDEuNTMyOCA3LjIwNjI4IDIuMDIyNSA2LjAyNDA0QzIuNTEyMiA0Ljg0MTggMy4zNDE0OCAzLjgzMTMzIDQuNDA1NDYgMy4xMjA0WicsXG4gIH0pO1xuICBjb25zdCBwYXRoID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygncGF0aCcpLCB7XG4gICAgZDogJ002LjY4Nzc1IDEyLjQyOTdDNi43ODU4NiAxMi40NzQ1IDYuODkyMTggMTIuNDk4NCA3IDEyLjVDNy4xMTI3NSAxMi40OTU1IDcuMjIzMTUgMTIuNDY2NCA3LjMyMzM3IDEyLjQxNDVDNy40MjM2IDEyLjM2MjcgNy41MTEyMSAxMi4yODk0IDcuNTggMTIuMkwxMiA1LjYzOTk5QzEyLjA4NDggNS40NzcyNCAxMi4xMDcxIDUuMjg5MDIgMTIuMDYyNSA1LjExMDk4QzEyLjAxNzggNC45MzI5NCAxMS45MDk1IDQuNzc3NDQgMTEuNzU3OSA0LjY3MzkyQzExLjYwNjQgNC41NzA0MSAxMS40MjIxIDQuNTI2MDggMTEuMjQgNC41NDkzMUMxMS4wNTc5IDQuNTcyNTQgMTAuODkwNyA0LjY2MTczIDEwLjc3IDQuNzk5OTlMNi44OCAxMC41N0w1LjEzIDguNTY5OTlDNS4wNjUwOCA4LjQ5NTY2IDQuOTg2MTMgOC40MzQ4OCA0Ljg5NzY4IDguMzkxMTFDNC44MDkyMiA4LjM0NzM1IDQuNzEzIDguMzIxNDggNC42MTQ1MyA4LjMxNDk4QzQuNTE2MDUgOC4zMDg0NyA0LjQxNzI3IDguMzIxNDcgNC4zMjM4MiA4LjM1MzIyQzQuMjMwMzggOC4zODQ5NyA0LjE0NDEzIDguNDM0ODQgNC4wNyA4LjQ5OTk5QzMuOTI1MTEgOC42MzIxNyAzLjgzNjkyIDguODE1MjMgMy44MjM4NyA5LjAxMDkyQzMuODEwODMgOS4yMDY2IDMuODczOTMgOS4zOTk3NiA0IDkuNTQ5OTlMNi40MyAxMi4yNEM2LjUwMTg3IDEyLjMyMDQgNi41ODk2NCAxMi4zODUgNi42ODc3NSAxMi40Mjk3WicsXG4gIH0pO1xuXG4gIHN2Zy5hcHBlbmRDaGlsZChnKS5hcHBlbmQocGF0aCwgcGF0aDIpO1xuXG4gIGNvbnN0IHNwZWFrZXJEZWZzID0gY3JlYXRlRWxlbWVudE5TKCdkZWZzJyk7XG4gIGNvbnN0IHNwZWFrZXJDbGlwUGF0aERlZiA9IHNldEF0dHJpYnV0ZXNOUyhjcmVhdGVFbGVtZW50TlMoJ2NsaXBQYXRoJyksIHtcbiAgICBpZDogJ2NsaXAwXzU3XzE1NicsXG4gIH0pO1xuXG4gIGNvbnN0IHNwZWFrZXJSZWN0ID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygncmVjdCcpLCB7XG4gICAgd2lkdGg6IGAke1dJRFRIfWAsXG4gICAgaGVpZ2h0OiBgJHtXSURUSH1gLFxuICAgIGZpbGw6ICd3aGl0ZScsXG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAgMC41KScsXG4gIH0pO1xuXG4gIHNwZWFrZXJDbGlwUGF0aERlZi5hcHBlbmRDaGlsZChzcGVha2VyUmVjdCk7XG4gIHNwZWFrZXJEZWZzLmFwcGVuZENoaWxkKHNwZWFrZXJDbGlwUGF0aERlZik7XG5cbiAgc3ZnLmFwcGVuZENoaWxkKHNwZWFrZXJEZWZzKS5hcHBlbmRDaGlsZChzcGVha2VyQ2xpcFBhdGhEZWYpLmFwcGVuZENoaWxkKHNwZWFrZXJSZWN0KTtcblxuICByZXR1cm4gc3ZnO1xufVxuXG5mdW5jdGlvbiBEaWFsb2coeyBvcGVuLCBvbkZvcm1TdWJtaXR0ZWQsIC4uLnByb3BzIH0pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHByb3BzLm9wdGlvbnM7XG4gIGNvbnN0IHN1Y2Nlc3NJY29uSHRtbCA9IHEoKCkgPT4gKHsgX19odG1sOiBTdWNjZXNzSWNvbigpLm91dGVySFRNTCB9KSwgW10pO1xuXG4gIGNvbnN0IFt0aW1lb3V0SWQsIHNldFRpbWVvdXRJZF0gPSBwKG51bGwpO1xuXG4gIGNvbnN0IGhhbmRsZU9uU3VjY2Vzc0NsaWNrID0geCgoKSA9PiB7XG4gICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICBzZXRUaW1lb3V0SWQobnVsbCk7XG4gICAgfVxuICAgIG9uRm9ybVN1Ym1pdHRlZCgpO1xuICB9LCBbdGltZW91dElkXSk7XG5cbiAgY29uc3Qgb25TdWJtaXRTdWNjZXNzID0geChcbiAgICAoZGF0YSwgZXZlbnRJZCkgPT4ge1xuICAgICAgcHJvcHMub25TdWJtaXRTdWNjZXNzKGRhdGEsIGV2ZW50SWQpO1xuICAgICAgc2V0VGltZW91dElkKFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBvbkZvcm1TdWJtaXR0ZWQoKTtcbiAgICAgICAgICBzZXRUaW1lb3V0SWQobnVsbCk7XG4gICAgICAgIH0sIFNVQ0NFU1NfTUVTU0FHRV9USU1FT1VUKSxcbiAgICAgICk7XG4gICAgfSxcbiAgICBbb25Gb3JtU3VibWl0dGVkXSxcbiAgKTtcblxuICByZXR1cm4gKFxuICAgIHkkMShnJDEsIG51bGxcbiAgICAgICwgdGltZW91dElkID8gKFxuICAgICAgICB5JDEoJ2RpdicsIHsgY2xhc3M6IFwic3VjY2Vzc19fcG9zaXRpb25cIiwgb25DbGljazogaGFuZGxlT25TdWNjZXNzQ2xpY2ssfVxuICAgICAgICAgICwgeSQxKCdkaXYnLCB7IGNsYXNzOiBcInN1Y2Nlc3NfX2NvbnRlbnRcIix9XG4gICAgICAgICAgICAsIG9wdGlvbnMuc3VjY2Vzc01lc3NhZ2VUZXh0XG4gICAgICAgICAgICAsIHkkMSgnc3BhbicsIHsgY2xhc3M6IFwic3VjY2Vzc19faWNvblwiLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogc3VjY2Vzc0ljb25IdG1sLH0gKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSA6IChcbiAgICAgICAgeSQxKCdkaWFsb2cnLCB7IGNsYXNzOiBcImRpYWxvZ1wiLCBvbkNsaWNrOiBvcHRpb25zLm9uRm9ybUNsb3NlLCBvcGVuOiBvcGVuLH1cbiAgICAgICAgICAsIHkkMSgnZGl2JywgeyBjbGFzczogXCJkaWFsb2dfX3Bvc2l0aW9uXCIsfVxuICAgICAgICAgICAgLCB5JDEoJ2RpdicsIHtcbiAgICAgICAgICAgICAgY2xhc3M6IFwiZGlhbG9nX19jb250ZW50XCIsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFN0b3AgZXZlbnQgcHJvcGFnYXRpb24gc28gY2xpY2tzIG9uIGNvbnRlbnQgbW9kYWwgZG8gbm90IHByb3BhZ2F0ZSB0byBkaWFsb2cgKHdoaWNoIHdpbGwgY2xvc2UgZGlhbG9nKVxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIH0sfVxuXG4gICAgICAgICAgICAgICwgeSQxKERpYWxvZ0hlYWRlciwgeyBvcHRpb25zOiBvcHRpb25zLH0gKVxuICAgICAgICAgICAgICAsIHkkMShGb3JtLCB7IC4uLnByb3BzLCBvblN1Ym1pdFN1Y2Nlc3M6IG9uU3VibWl0U3VjY2Vzcyx9IClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gICk7XG59XG5cbmNvbnN0IERJQUxPRyA9IGBcbi5kaWFsb2cge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHotaW5kZXg6IHZhcigtLXotaW5kZXgpO1xuICBtYXJnaW46IDA7XG4gIGluc2V0OiAwO1xuXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBwYWRkaW5nOiAwO1xuICBoZWlnaHQ6IDEwMHZoO1xuICB3aWR0aDogMTAwdnc7XG5cbiAgY29sb3I6IHZhcigtLWRpYWxvZy1jb2xvciwgdmFyKC0tZm9yZWdyb3VuZCkpO1xuICBmaWxsOiB2YXIoLS1kaWFsb2ctY29sb3IsIHZhcigtLWZvcmVncm91bmQpKTtcbiAgbGluZS1oZWlnaHQ6IDEuNzVlbTtcblxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpO1xuICBib3JkZXI6IG5vbmU7XG4gIGluc2V0OiAwO1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgZWFzZS1pbi1vdXQ7XG59XG5cbi5kaWFsb2dfX3Bvc2l0aW9uIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB6LWluZGV4OiB2YXIoLS16LWluZGV4KTtcbiAgaW5zZXQ6IHZhcigtLWRpYWxvZy1pbnNldCk7XG4gIHBhZGRpbmc6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgZGlzcGxheTogZmxleDtcbiAgbWF4LWhlaWdodDogY2FsYygxMDB2aCAtICgyICogdmFyKC0tcGFnZS1tYXJnaW4pKSk7XG59XG5AbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgLmRpYWxvZ19fcG9zaXRpb24ge1xuICAgIGluc2V0OiB2YXIoLS1wYWdlLW1hcmdpbik7XG4gICAgcGFkZGluZzogMDtcbiAgfVxufVxuXG4uZGlhbG9nX19wb3NpdGlvbjpoYXMoLmVkaXRvcikge1xuICBpbnNldDogdmFyKC0tcGFnZS1tYXJnaW4pO1xuICBwYWRkaW5nOiAwO1xufVxuXG4uZGlhbG9nOm5vdChbb3Blbl0pIHtcbiAgb3BhY2l0eTogMDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcbn1cbi5kaWFsb2c6bm90KFtvcGVuXSkgLmRpYWxvZ19fY29udGVudCB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC0xNnB4KSBzY2FsZSgwLjk4KTtcbn1cblxuLmRpYWxvZ19fY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMTZweDtcbiAgcGFkZGluZzogdmFyKC0tZGlhbG9nLXBhZGRpbmcsIDI0cHgpO1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogYXV0bztcblxuICBiYWNrZ3JvdW5kOiB2YXIoLS1kaWFsb2ctYmFja2dyb3VuZCwgdmFyKC0tYmFja2dyb3VuZCkpO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1kaWFsb2ctYm9yZGVyLXJhZGl1cywgMjBweCk7XG4gIGJvcmRlcjogdmFyKC0tZGlhbG9nLWJvcmRlciwgdmFyKC0tYm9yZGVyKSk7XG4gIGJveC1zaGFkb3c6IHZhcigtLWRpYWxvZy1ib3gtc2hhZG93LCB2YXIoLS1ib3gtc2hhZG93KSk7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApIHNjYWxlKDEpO1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlLWluLW91dDtcbn1cblxuYDtcblxuY29uc3QgRElBTE9HX0hFQURFUiA9IGBcbi5kaWFsb2dfX2hlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogNHB4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGZvbnQtd2VpZ2h0OiB2YXIoLS1kaWFsb2ctaGVhZGVyLXdlaWdodCwgNjAwKTtcbiAgbWFyZ2luOiAwO1xufVxuLmRpYWxvZ19fdGl0bGUge1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gIHdpZHRoOiB2YXIoLS1mb3JtLXdpZHRoLCAyNzJweCk7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkge1xuICAuZGlhbG9nX190aXRsZSB7XG4gICAgd2lkdGg6IGF1dG87XG4gIH1cbn1cblxuLmRpYWxvZ19fcG9zaXRpb246aGFzKC5lZGl0b3IpIC5kaWFsb2dfX3RpdGxlIHtcbiAgd2lkdGg6IGF1dG87XG59XG5cblxuLmJyYW5kLWxpbmsge1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbn1cbi5icmFuZC1saW5rOmZvY3VzLXZpc2libGUge1xuICBvdXRsaW5lOiB2YXIoLS1vdXRsaW5lKTtcbn1cbmA7XG5cbmNvbnN0IEZPUk0gPSBgXG4uZm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBnYXA6IDE2cHg7XG4gIGZsZXg6IDEgMDtcbn1cblxuLmZvcm0gZmllbGRzZXQge1xuICBib3JkZXI6IG5vbmU7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbn1cblxuLmZvcm1fX3JpZ2h0IHtcbiAgZmxleDogMCAwIGF1dG87XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGdhcDogMjBweDtcbiAgd2lkdGg6IHZhcigtLWZvcm0td2lkdGgsIDEwMCUpO1xufVxuXG4uZGlhbG9nX19wb3NpdGlvbjpoYXMoLmVkaXRvcikgLmZvcm1fX3JpZ2h0IHtcbiAgd2lkdGg6IHZhcigtLWZvcm0td2lkdGgsIDI3MnB4KTtcbn1cblxuLmZvcm1fX3RvcCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogOHB4O1xufVxuXG4uZm9ybV9fZXJyb3ItY29udGFpbmVyIHtcbiAgY29sb3I6IHZhcigtLWVycm9yLWNvbG9yKTtcbiAgZmlsbDogdmFyKC0tZXJyb3ItY29sb3IpO1xufVxuXG4uZm9ybV9fbGFiZWwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDRweDtcbiAgbWFyZ2luOiAwcHg7XG59XG5cbi5mb3JtX19sYWJlbF9fdGV4dCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogNHB4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uZm9ybV9fbGFiZWxfX3RleHQtLXJlcXVpcmVkIHtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG59XG5cbi5mb3JtX19pbnB1dCB7XG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGJvcmRlcjogdmFyKC0taW5wdXQtYm9yZGVyLCB2YXIoLS1ib3JkZXIpKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0taW5wdXQtYm9yZGVyLXJhZGl1cywgNnB4KTtcbiAgY29sb3I6IHZhcigtLWlucHV0LWNvbG9yLCBpbmhlcml0KTtcbiAgZmlsbDogdmFyKC0taW5wdXQtY29sb3IsIGluaGVyaXQpO1xuICBmb250LXNpemU6IHZhcigtLWlucHV0LWZvbnQtc2l6ZSwgaW5oZXJpdCk7XG4gIGZvbnQtd2VpZ2h0OiB2YXIoLS1pbnB1dC1mb250LXdlaWdodCwgNTAwKTtcbiAgcGFkZGluZzogNnB4IDEycHg7XG59XG5cbi5mb3JtX19pbnB1dDo6cGxhY2Vob2xkZXIge1xuICBvcGFjaXR5OiAwLjY1O1xuICBjb2xvcjogdmFyKC0taW5wdXQtcGxhY2Vob2xkZXItY29sb3IsIGluaGVyaXQpO1xuICBmaWx0ZXI6IHZhcigtLWludGVyYWN0aXZlLWZpbHRlcik7XG59XG5cbi5mb3JtX19pbnB1dDpmb2N1cy12aXNpYmxlIHtcbiAgb3V0bGluZTogdmFyKC0taW5wdXQtZm9jdXMtb3V0bGluZSwgdmFyKC0tb3V0bGluZSkpO1xufVxuXG4uZm9ybV9faW5wdXQtLXRleHRhcmVhIHtcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gIHJlc2l6ZTogdmVydGljYWw7XG59XG5cbi5lcnJvciB7XG4gIGNvbG9yOiB2YXIoLS1lcnJvci1jb2xvcik7XG4gIGZpbGw6IHZhcigtLWVycm9yLWNvbG9yKTtcbn1cbmA7XG5cbmNvbnN0IEJVVFRPTiA9IGBcbi5idG4tZ3JvdXAge1xuICBkaXNwbGF5OiBncmlkO1xuICBnYXA6IDhweDtcbn1cblxuLmJ0biB7XG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xuICBib3JkZXI6IHZhcigtLWJ1dHRvbi1ib3JkZXIsIHZhcigtLWJvcmRlcikpO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1idXR0b24tYm9yZGVyLXJhZGl1cywgNnB4KTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiB2YXIoLS1idXR0b24tZm9udC1zaXplLCBpbmhlcml0KTtcbiAgZm9udC13ZWlnaHQ6IHZhcigtLWJ1dHRvbi1mb250LXdlaWdodCwgNjAwKTtcbiAgcGFkZGluZzogdmFyKC0tYnV0dG9uLXBhZGRpbmcsIDZweCAxNnB4KTtcbn1cbi5idG5bZGlzYWJsZWRdIHtcbiAgb3BhY2l0eTogMC42O1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLmJ0bi0tcHJpbWFyeSB7XG4gIGNvbG9yOiB2YXIoLS1idXR0b24tcHJpbWFyeS1jb2xvciwgdmFyKC0tYWNjZW50LWZvcmVncm91bmQpKTtcbiAgZmlsbDogdmFyKC0tYnV0dG9uLXByaW1hcnktY29sb3IsIHZhcigtLWFjY2VudC1mb3JlZ3JvdW5kKSk7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJ1dHRvbi1wcmltYXJ5LWJhY2tncm91bmQsIHZhcigtLWFjY2VudC1iYWNrZ3JvdW5kKSk7XG4gIGJvcmRlcjogdmFyKC0tYnV0dG9uLXByaW1hcnktYm9yZGVyLCB2YXIoLS1ib3JkZXIpKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYnV0dG9uLXByaW1hcnktYm9yZGVyLXJhZGl1cywgNnB4KTtcbiAgZm9udC13ZWlnaHQ6IHZhcigtLWJ1dHRvbi1wcmltYXJ5LWZvbnQtd2VpZ2h0LCA1MDApO1xufVxuLmJ0bi0tcHJpbWFyeTpob3ZlciB7XG4gIGNvbG9yOiB2YXIoLS1idXR0b24tcHJpbWFyeS1ob3Zlci1jb2xvciwgdmFyKC0tYWNjZW50LWZvcmVncm91bmQpKTtcbiAgZmlsbDogdmFyKC0tYnV0dG9uLXByaW1hcnktaG92ZXItY29sb3IsIHZhcigtLWFjY2VudC1mb3JlZ3JvdW5kKSk7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJ1dHRvbi1wcmltYXJ5LWhvdmVyLWJhY2tncm91bmQsIHZhcigtLWFjY2VudC1iYWNrZ3JvdW5kKSk7XG4gIGZpbHRlcjogdmFyKC0taW50ZXJhY3RpdmUtZmlsdGVyKTtcbn1cbi5idG4tLXByaW1hcnk6Zm9jdXMtdmlzaWJsZSB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJ1dHRvbi1wcmltYXJ5LWhvdmVyLWJhY2tncm91bmQsIHZhcigtLWFjY2VudC1iYWNrZ3JvdW5kKSk7XG4gIGZpbHRlcjogdmFyKC0taW50ZXJhY3RpdmUtZmlsdGVyKTtcbiAgb3V0bGluZTogdmFyKC0tYnV0dG9uLXByaW1hcnktZm9jdXMtb3V0bGluZSwgdmFyKC0tb3V0bGluZSkpO1xufVxuXG4uYnRuLS1kZWZhdWx0IHtcbiAgY29sb3I6IHZhcigtLWJ1dHRvbi1jb2xvciwgdmFyKC0tZm9yZWdyb3VuZCkpO1xuICBmaWxsOiB2YXIoLS1idXR0b24tY29sb3IsIHZhcigtLWZvcmVncm91bmQpKTtcbiAgYmFja2dyb3VuZDogdmFyKC0tYnV0dG9uLWJhY2tncm91bmQsIHZhcigtLWJhY2tncm91bmQpKTtcbiAgYm9yZGVyOiB2YXIoLS1idXR0b24tYm9yZGVyLCB2YXIoLS1ib3JkZXIpKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYnV0dG9uLWJvcmRlci1yYWRpdXMsIDZweCk7XG4gIGZvbnQtd2VpZ2h0OiB2YXIoLS1idXR0b24tZm9udC13ZWlnaHQsIDUwMCk7XG59XG4uYnRuLS1kZWZhdWx0OmhvdmVyIHtcbiAgY29sb3I6IHZhcigtLWJ1dHRvbi1jb2xvciwgdmFyKC0tZm9yZWdyb3VuZCkpO1xuICBmaWxsOiB2YXIoLS1idXR0b24tY29sb3IsIHZhcigtLWZvcmVncm91bmQpKTtcbiAgYmFja2dyb3VuZDogdmFyKC0tYnV0dG9uLWhvdmVyLWJhY2tncm91bmQsIHZhcigtLWJhY2tncm91bmQpKTtcbiAgZmlsdGVyOiB2YXIoLS1pbnRlcmFjdGl2ZS1maWx0ZXIpO1xufVxuLmJ0bi0tZGVmYXVsdDpmb2N1cy12aXNpYmxlIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYnV0dG9uLWhvdmVyLWJhY2tncm91bmQsIHZhcigtLWJhY2tncm91bmQpKTtcbiAgZmlsdGVyOiB2YXIoLS1pbnRlcmFjdGl2ZS1maWx0ZXIpO1xuICBvdXRsaW5lOiB2YXIoLS1idXR0b24tZm9jdXMtb3V0bGluZSwgdmFyKC0tb3V0bGluZSkpO1xufVxuYDtcblxuY29uc3QgU1VDQ0VTUyA9IGBcbi5zdWNjZXNzX19wb3NpdGlvbiB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgaW5zZXQ6IHZhcigtLWRpYWxvZy1pbnNldCk7XG4gIHBhZGRpbmc6IHZhcigtLXBhZ2UtbWFyZ2luKTtcbiAgei1pbmRleDogdmFyKC0tei1pbmRleCk7XG59XG4uc3VjY2Vzc19fY29udGVudCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLXN1Y2Nlc3MtYmFja2dyb3VuZCwgdmFyKC0tYmFja2dyb3VuZCkpO1xuICBib3JkZXI6IHZhcigtLXN1Y2Nlc3MtYm9yZGVyLCB2YXIoLS1ib3JkZXIpKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tc3VjY2Vzcy1ib3JkZXItcmFkaXVzLCAxLjdlbS81MCUpO1xuICBib3gtc2hhZG93OiB2YXIoLS1zdWNjZXNzLWJveC1zaGFkb3csIHZhcigtLWJveC1zaGFkb3cpKTtcbiAgZm9udC13ZWlnaHQ6IHZhcigtLXN1Y2Nlc3MtZm9udC13ZWlnaHQsIDYwMCk7XG4gIGNvbG9yOiB2YXIoLS1zdWNjZXNzLWNvbG9yKTtcbiAgZmlsbDogdmFyKC0tc3VjY2Vzcy1jb2xvcik7XG4gIHBhZGRpbmc6IDEycHggMjRweDtcbiAgbGluZS1oZWlnaHQ6IDEuNzVlbTtcblxuICBkaXNwbGF5OiBncmlkO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBncmlkLWF1dG8tZmxvdzogY29sdW1uO1xuICBnYXA6IDZweDtcbiAgY3Vyc29yOiBkZWZhdWx0O1xufVxuXG4uc3VjY2Vzc19faWNvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5gO1xuXG4vKipcbiAqIENyZWF0ZXMgPHN0eWxlPiBlbGVtZW50IGZvciB3aWRnZXQgZGlhbG9nXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpYWxvZ1N0eWxlcyhzdHlsZU5vbmNlKSB7XG4gIGNvbnN0IHN0eWxlID0gRE9DVU1FTlQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbjpob3N0IHtcbiAgLS1kaWFsb2ctaW5zZXQ6IHZhcigtLWluc2V0KTtcbn1cblxuJHtESUFMT0d9XG4ke0RJQUxPR19IRUFERVJ9XG4ke0ZPUk19XG4ke0JVVFRPTn1cbiR7U1VDQ0VTU31cbmA7XG5cbiAgaWYgKHN0eWxlTm9uY2UpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgc3R5bGVOb25jZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGdldFVzZXIoKSB7XG4gIGNvbnN0IGN1cnJlbnRVc2VyID0gZ2V0Q3VycmVudFNjb3BlKCkuZ2V0VXNlcigpO1xuICBjb25zdCBpc29sYXRpb25Vc2VyID0gZ2V0SXNvbGF0aW9uU2NvcGUoKS5nZXRVc2VyKCk7XG4gIGNvbnN0IGdsb2JhbFVzZXIgPSBnZXRHbG9iYWxTY29wZSgpLmdldFVzZXIoKTtcbiAgaWYgKGN1cnJlbnRVc2VyICYmIE9iamVjdC5rZXlzKGN1cnJlbnRVc2VyKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gIH1cbiAgaWYgKGlzb2xhdGlvblVzZXIgJiYgT2JqZWN0LmtleXMoaXNvbGF0aW9uVXNlcikubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGlzb2xhdGlvblVzZXI7XG4gIH1cbiAgcmV0dXJuIGdsb2JhbFVzZXI7XG59XG5cbmNvbnN0IGZlZWRiYWNrTW9kYWxJbnRlZ3JhdGlvbiA9ICgoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ0ZlZWRiYWNrTW9kYWwnLFxuICAgIHNldHVwT25jZSgpIHt9LFxuICAgIGNyZWF0ZURpYWxvZzogKHsgb3B0aW9ucywgc2NyZWVuc2hvdEludGVncmF0aW9uLCBzZW5kRmVlZGJhY2ssIHNoYWRvdyB9KSA9PiB7XG4gICAgICBjb25zdCBzaGFkb3dSb290ID0gc2hhZG93IDtcbiAgICAgIGNvbnN0IHVzZXJLZXkgPSBvcHRpb25zLnVzZVNlbnRyeVVzZXI7XG4gICAgICBjb25zdCB1c2VyID0gZ2V0VXNlcigpO1xuXG4gICAgICBjb25zdCBlbCA9IERPQ1VNRU5ULmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3Qgc3R5bGUgPSBjcmVhdGVEaWFsb2dTdHlsZXMob3B0aW9ucy5zdHlsZU5vbmNlKTtcblxuICAgICAgbGV0IG9yaWdpbmFsT3ZlcmZsb3cgPSAnJztcbiAgICAgIGNvbnN0IGRpYWxvZyA9IHtcbiAgICAgICAgZ2V0IGVsKCkge1xuICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfSxcbiAgICAgICAgYXBwZW5kVG9Eb20oKSB7XG4gICAgICAgICAgaWYgKCFzaGFkb3dSb290LmNvbnRhaW5zKHN0eWxlKSAmJiAhc2hhZG93Um9vdC5jb250YWlucyhlbCkpIHtcbiAgICAgICAgICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVGcm9tRG9tKCkge1xuICAgICAgICAgIGVsLnJlbW92ZSgpO1xuICAgICAgICAgIHN0eWxlLnJlbW92ZSgpO1xuICAgICAgICAgIERPQ1VNRU5ULmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBvcmlnaW5hbE92ZXJmbG93O1xuICAgICAgICB9LFxuICAgICAgICBvcGVuKCkge1xuICAgICAgICAgIHJlbmRlckNvbnRlbnQodHJ1ZSk7XG4gICAgICAgICAgb3B0aW9ucy5vbkZvcm1PcGVuPy4oKTtcbiAgICAgICAgICBnZXRDbGllbnQoKT8uZW1pdCgnb3BlbkZlZWRiYWNrV2lkZ2V0Jyk7XG4gICAgICAgICAgb3JpZ2luYWxPdmVyZmxvdyA9IERPQ1VNRU5ULmJvZHkuc3R5bGUub3ZlcmZsb3c7XG4gICAgICAgICAgRE9DVU1FTlQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICB9LFxuICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICByZW5kZXJDb250ZW50KGZhbHNlKTtcbiAgICAgICAgICBET0NVTUVOVC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gb3JpZ2luYWxPdmVyZmxvdztcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNjcmVlbnNob3RJbnB1dCA9IHNjcmVlbnNob3RJbnRlZ3JhdGlvbj8uY3JlYXRlSW5wdXQoeyBoOiB5JDEsIGhvb2tzLCBkaWFsb2csIG9wdGlvbnMgfSk7XG5cbiAgICAgIGNvbnN0IHJlbmRlckNvbnRlbnQgPSAob3BlbikgPT4ge1xuICAgICAgICBCJDEoXG4gICAgICAgICAgeSQxKERpYWxvZywge1xuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIHNjcmVlbnNob3RJbnB1dDogc2NyZWVuc2hvdElucHV0LFxuICAgICAgICAgICAgc2hvd05hbWU6IG9wdGlvbnMuc2hvd05hbWUgfHwgb3B0aW9ucy5pc05hbWVSZXF1aXJlZCxcbiAgICAgICAgICAgIHNob3dFbWFpbDogb3B0aW9ucy5zaG93RW1haWwgfHwgb3B0aW9ucy5pc0VtYWlsUmVxdWlyZWQsXG4gICAgICAgICAgICBkZWZhdWx0TmFtZTogKHVzZXJLZXkgJiYgdXNlcj8uW3VzZXJLZXkubmFtZV0pIHx8ICcnLFxuICAgICAgICAgICAgZGVmYXVsdEVtYWlsOiAodXNlcktleSAmJiB1c2VyPy5bdXNlcktleS5lbWFpbF0pIHx8ICcnLFxuICAgICAgICAgICAgb25Gb3JtQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgcmVuZGVyQ29udGVudChmYWxzZSk7XG4gICAgICAgICAgICAgIG9wdGlvbnMub25Gb3JtQ2xvc2U/LigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU3VibWl0OiBzZW5kRmVlZGJhY2ssXG4gICAgICAgICAgICBvblN1Ym1pdFN1Y2Nlc3M6IChkYXRhLCBldmVudElkKSA9PiB7XG4gICAgICAgICAgICAgIHJlbmRlckNvbnRlbnQoZmFsc2UpO1xuICAgICAgICAgICAgICBvcHRpb25zLm9uU3VibWl0U3VjY2Vzcz8uKGRhdGEsIGV2ZW50SWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU3VibWl0RXJyb3I6IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICBvcHRpb25zLm9uU3VibWl0RXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Gb3JtU3VibWl0dGVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgIG9wdGlvbnMub25Gb3JtU3VibWl0dGVkPy4oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcGVuOiBvcGVuLH1cbiAgICAgICAgICApLFxuICAgICAgICAgIGVsLFxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGRpYWxvZztcbiAgICB9LFxuICB9O1xufSkgO1xuXG5mdW5jdGlvbiBJY29uQ2xvc2VGYWN0b3J5KHtcbiAgaCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbn0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIEljb25DbG9zZSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgaCgnc3ZnJywgeyAnZGF0YS10ZXN0LWlkJzogXCJpY29uLWNsb3NlXCIsIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIgICAsIGZpbGw6IFwiIzJCMjIzM1wiLCBoZWlnaHQ6IFwiMjVweFwiLCB3aWR0aDogXCIyNXB4XCIsfVxuICAgICAgICAsIGgoJ2NpcmNsZScsIHsgcjogXCI3XCIsIGN4OiBcIjhcIiwgY3k6IFwiOFwiLCBmaWxsOiBcIndoaXRlXCIsfSApXG4gICAgICAgICwgaCgncGF0aCcsIHtcbiAgICAgICAgICBzdHJva2VXaWR0aDogXCIxLjVcIixcbiAgICAgICAgICBkOiBcIk04LDE2YTgsOCwwLDEsMSw4LThBOCw4LDAsMCwxLDgsMTZaTTgsMS41M0E2LjQ3LDYuNDcsMCwxLDAsMTQuNDcsOCw2LjQ3LDYuNDcsMCwwLDAsOCwxLjUzWlwiLH1cbilcbiAgICAgICAgLCBoKCdwYXRoJywge1xuICAgICAgICAgIHN0cm9rZVdpZHRoOiBcIjEuNVwiLFxuICAgICAgICAgIGQ6IFwiTTUuMzQsMTEuNDFhLjcxLjcxLDAsMCwxLS41My0uMjIuNzQuNzQsMCwwLDEsMC0xLjA2bDUuMzItNS4zMmEuNzUuNzUsMCwwLDEsMS4wNiwxLjA2TDUuODcsMTEuMTlBLjc0Ljc0LDAsMCwxLDUuMzQsMTEuNDFaXCIsfVxuKVxuICAgICAgICAsIGgoJ3BhdGgnLCB7XG4gICAgICAgICAgc3Ryb2tlV2lkdGg6IFwiMS41XCIsXG4gICAgICAgICAgZDogXCJNMTAuNjYsMTEuNDFhLjc0Ljc0LDAsMCwxLS41My0uMjJMNC44MSw1Ljg3QS43NS43NSwwLDAsMSw1Ljg3LDQuODFsNS4zMiw1LjMyYS43NC43NCwwLDAsMSwwLDEuMDZBLjcxLjcxLDAsMCwxLDEwLjY2LDExLjQxWlwiLH1cbilcbiAgICAgIClcbiAgICApO1xuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgPHN0eWxlPiBlbGVtZW50IGZvciB3aWRnZXQgZGlhbG9nXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNjcmVlbnNob3RJbnB1dFN0eWxlcyhzdHlsZU5vbmNlKSB7XG4gIGNvbnN0IHN0eWxlID0gRE9DVU1FTlQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICBjb25zdCBzdXJmYWNlMjAwID0gJyMxQTE0MUYnO1xuICBjb25zdCBncmF5MTAwID0gJyMzMDI3MzUnO1xuXG4gIHN0eWxlLnRleHRDb250ZW50ID0gYFxuLmVkaXRvciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZ3JvdzogMTtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cblxuLmVkaXRvcl9faW1hZ2UtY29udGFpbmVyIHtcbiAganVzdGlmeS1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiAxNXB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogMTAwJTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tbWVudS1ib3JkZXItcmFkaXVzLCA2cHgpO1xuXG4gIGJhY2tncm91bmQtY29sb3I6ICR7c3VyZmFjZTIwMH07XG4gIGJhY2tncm91bmQtaW1hZ2U6IHJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoXG4gICAgICAtMTQ1ZGVnLFxuICAgICAgdHJhbnNwYXJlbnQsXG4gICAgICB0cmFuc3BhcmVudCA4cHgsXG4gICAgICAke3N1cmZhY2UyMDB9IDhweCxcbiAgICAgICR7c3VyZmFjZTIwMH0gMTFweFxuICAgICksXG4gICAgcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudChcbiAgICAgIC00NWRlZyxcbiAgICAgIHRyYW5zcGFyZW50LFxuICAgICAgdHJhbnNwYXJlbnQgMTVweCxcbiAgICAgICR7Z3JheTEwMH0gMTVweCxcbiAgICAgICR7Z3JheTEwMH0gMTZweFxuICAgICk7XG59XG5cbi5lZGl0b3JfX2NhbnZhcy1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uZWRpdG9yX19jYW52YXMtY29udGFpbmVyID4gKiB7XG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuLmVkaXRvcl9fdG9vbC1jb250YWluZXIge1xuICBwYWRkaW5nLXRvcDogOHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmVkaXRvcl9fdG9vbC1iYXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDhweDtcbn1cblxuLmVkaXRvcl9fdG9vbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHBhZGRpbmc6IDhweCAxMnB4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYm9yZGVyOiB2YXIoLS1idXR0b24tYm9yZGVyLCB2YXIoLS1ib3JkZXIpKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYnV0dG9uLWJvcmRlci1yYWRpdXMsIDZweCk7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLCB2YXIoLS1iYWNrZ3JvdW5kKSk7XG4gIGNvbG9yOiB2YXIoLS1idXR0b24tY29sb3IsIHZhcigtLWZvcmVncm91bmQpKTtcbn1cblxuLmVkaXRvcl9fdG9vbC0tYWN0aXZlIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYnV0dG9uLXByaW1hcnktYmFja2dyb3VuZCwgdmFyKC0tYWNjZW50LWJhY2tncm91bmQpKTtcbiAgY29sb3I6IHZhcigtLWJ1dHRvbi1wcmltYXJ5LWNvbG9yLCB2YXIoLS1hY2NlbnQtZm9yZWdyb3VuZCkpO1xufVxuXG4uZWRpdG9yX19yZWN0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiAyO1xufVxuXG4uZWRpdG9yX19yZWN0IGJ1dHRvbiB7XG4gIG9wYWNpdHk6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAtMTJweDtcbiAgcmlnaHQ6IC0xMnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHBhZGRpbmc6IDA7XG4gIHotaW5kZXg6IDM7XG4gIGJvcmRlcjogbm9uZTtcbiAgYmFja2dyb3VuZDogbm9uZTtcbn1cblxuLmVkaXRvcl9fcmVjdDpob3ZlciBidXR0b24ge1xuICBvcGFjaXR5OiAxO1xufVxuYDtcblxuICBpZiAoc3R5bGVOb25jZSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBzdHlsZU5vbmNlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gVG9vbGJhckZhY3Rvcnkoe1xuICBoLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xufSkge1xuICByZXR1cm4gZnVuY3Rpb24gVG9vbGJhcih7XG4gICAgYWN0aW9uLFxuICAgIHNldEFjdGlvbixcbiAgICBvcHRpb25zLFxuICB9XG5cbikge1xuICAgIHJldHVybiAoXG4gICAgICBoKCdkaXYnLCB7IGNsYXNzOiBcImVkaXRvcl9fdG9vbC1jb250YWluZXJcIix9XG4gICAgICAgICwgaCgnZGl2JywgeyBjbGFzczogXCJlZGl0b3JfX3Rvb2wtYmFyXCIsfVxuICAgICAgICAgICwgaCgnYnV0dG9uJywge1xuICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIGNsYXNzOiBgZWRpdG9yX190b29sICR7YWN0aW9uID09PSAnaGlnaGxpZ2h0JyA/ICdlZGl0b3JfX3Rvb2wtLWFjdGl2ZScgOiAnJ31gLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICBzZXRBY3Rpb24oYWN0aW9uID09PSAnaGlnaGxpZ2h0JyA/ICcnIDogJ2hpZ2hsaWdodCcpO1xuICAgICAgICAgICAgfSx9XG5cbiAgICAgICAgICAgICwgb3B0aW9ucy5oaWdobGlnaHRUb29sVGV4dFxuICAgICAgICAgIClcbiAgICAgICAgICAsIGgoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICBjbGFzczogYGVkaXRvcl9fdG9vbCAke2FjdGlvbiA9PT0gJ2hpZGUnID8gJ2VkaXRvcl9fdG9vbC0tYWN0aXZlJyA6ICcnfWAsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgIHNldEFjdGlvbihhY3Rpb24gPT09ICdoaWRlJyA/ICcnIDogJ2hpZGUnKTtcbiAgICAgICAgICAgIH0sfVxuXG4gICAgICAgICAgICAsIG9wdGlvbnMuaGlkZVRvb2xUZXh0XG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlVGFrZVNjcmVlbnNob3RGYWN0b3J5KHsgaG9va3MgfSkge1xuICBmdW5jdGlvbiB1c2VEcGkoKSB7XG4gICAgY29uc3QgW2RwaSwgc2V0RHBpXSA9IGhvb2tzLnVzZVN0YXRlKFdJTkRPVy5kZXZpY2VQaXhlbFJhdGlvID8/IDEpO1xuICAgIGhvb2tzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBvbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgc2V0RHBpKFdJTkRPVy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBtZWRpYSA9IG1hdGNoTWVkaWEoYChyZXNvbHV0aW9uOiAke1dJTkRPVy5kZXZpY2VQaXhlbFJhdGlvfWRwcHgpYCk7XG4gICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZSk7XG4gICAgICB9O1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiBkcGk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gdXNlVGFrZVNjcmVlbnNob3QoeyBvbkJlZm9yZVNjcmVlbnNob3QsIG9uU2NyZWVuc2hvdCwgb25BZnRlclNjcmVlbnNob3QsIG9uRXJyb3IgfSkge1xuICAgIGNvbnN0IGRwaSA9IHVzZURwaSgpO1xuXG4gICAgaG9va3MudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IHRha2VTY3JlZW5zaG90ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBvbkJlZm9yZVNjcmVlbnNob3QoKTtcblxuICAgICAgICAvLyBDaHJvbWUgd2lsbCBhbmltYXRlIGEgdG9wLWJhciB3aGljaCBjYW4gc2hyaW5rIHRoZSB3aW5kb3cgaGVpZ2h0IGJ5IGFcbiAgICAgICAgLy8gZmV3IHBpeGVscy4gVGhlIGV4YWN0IGFtb3VudCBkZXBlbmRzIG9uIGhvdyBmYXN0IGl0IHRha2VzIHRvIGV4ZWNcbiAgICAgICAgLy8gdGhlIG9ubG9hZGVkbWV0YWRhdGEgY2FsbGJhY2suXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS83NTgzMzA0OVxuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBOQVZJR0FUT1IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSh7XG4gICAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICAgIHdpZHRoOiBXSU5ET1cuaW5uZXJXaWR0aCAqIGRwaSxcbiAgICAgICAgICAgIGhlaWdodDogV0lORE9XLmlubmVySGVpZ2h0ICogZHBpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXVkaW86IGZhbHNlLFxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZXhwZXJpbWVudGFsIGZsYWdzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTWVkaWFEZXZpY2VzL2dldERpc3BsYXlNZWRpYSNwcmVmZXJjdXJyZW50dGFiXG4gICAgICAgICAgbW9uaXRvclR5cGVTdXJmYWNlczogJ2V4Y2x1ZGUnLFxuICAgICAgICAgIHByZWZlckN1cnJlbnRUYWI6IHRydWUsXG4gICAgICAgICAgc2VsZkJyb3dzZXJTdXJmYWNlOiAnaW5jbHVkZScsXG4gICAgICAgICAgc3VyZmFjZVN3aXRjaGluZzogJ2V4Y2x1ZGUnLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB2aWRlbyA9IERPQ1VNRU5ULmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICB2aWRlby5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgICAgdmlkZW8ub25sb2FkZWRtZXRhZGF0YSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9uU2NyZWVuc2hvdCh2aWRlbywgZHBpKTtcbiAgICAgICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2aWRlby5wbGF5KCkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9uQWZ0ZXJTY3JlZW5zaG90KCk7XG4gICAgICB9O1xuXG4gICAgICB0YWtlU2NyZWVuc2hvdCgpLmNhdGNoKG9uRXJyb3IpO1xuICAgIH0sIFtdKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZHJhd1JlY3QoY29tbWFuZCwgY3R4LCBjb2xvcikge1xuICBzd2l0Y2ggKGNvbW1hbmQudHlwZSkge1xuICAgIGNhc2UgJ2hpZ2hsaWdodCc6IHtcbiAgICAgIC8vIGNyZWF0ZXMgYSBzaGFkb3cgYXJvdW5kXG4gICAgICBjdHguc2hhZG93Q29sb3IgPSAncmdiYSgwLCAwLCAwLCAwLjcpJztcbiAgICAgIGN0eC5zaGFkb3dCbHVyID0gNTA7XG5cbiAgICAgIC8vIGRyYXdzIGEgcmVjdGFuZ2xlIGZpcnN0IHdpdGggYSBzaGFkb3dcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgIGN0eC5maWxsUmVjdChjb21tYW5kLnggLSAxLCBjb21tYW5kLnkgLSAxLCBjb21tYW5kLncgKyAyLCBjb21tYW5kLmggKyAyKTtcblxuICAgICAgLy8gY3V0IG91dCB0aGUgaW5zaWRlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgIGN0eC5jbGVhclJlY3QoY29tbWFuZC54LCBjb21tYW5kLnksIGNvbW1hbmQudywgY29tbWFuZC5oKTtcblxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJ2hpZGUnOlxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2IoMCwgMCwgMCknO1xuICAgICAgY3R4LmZpbGxSZWN0KGNvbW1hbmQueCwgY29tbWFuZC55LCBjb21tYW5kLncsIGNvbW1hbmQuaCk7XG5cbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdpdGgyZENvbnRleHQoXG4gIGNhbnZhcyxcbiAgb3B0aW9ucyxcbiAgY2FsbGJhY2ssXG4pIHtcbiAgaWYgKCFjYW52YXMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgb3B0aW9ucyk7XG4gIGlmICghY3R4KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNhbGxiYWNrKGNhbnZhcywgY3R4KTtcbn1cblxuZnVuY3Rpb24gcGFpbnRJbWFnZShtYXliZURlc3QsIHNvdXJjZSkge1xuICB3aXRoMmRDb250ZXh0KG1heWJlRGVzdCwgeyBhbHBoYTogdHJ1ZSB9LCAoZGVzdENhbnZhcywgZGVzdEN0eCkgPT4ge1xuICAgIGRlc3RDdHguZHJhd0ltYWdlKHNvdXJjZSwgMCwgMCwgc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0LCAwLCAwLCBkZXN0Q2FudmFzLndpZHRoLCBkZXN0Q2FudmFzLmhlaWdodCk7XG4gIH0pO1xufVxuXG4vLyBQYWludCB0aGUgYXJyYXkgb2YgZHJhd0NvbW1hbmRzIGludG8gYSBjYW52YXMuXG4vLyBBc3N1bWluZyB0aGlzIGlzIHRoZSBjYW52YXMgZm9yZWdyb3VuZCwgYW5kIHRoZSBiYWNrZ3JvdW5kIGlzIGNsZWFuZWQuXG5mdW5jdGlvbiBwYWludEZvcmVncm91bmQobWF5YmVDYW52YXMsIHN0cm9rZUNvbG9yLCBkcmF3Q29tbWFuZHMpIHtcbiAgd2l0aDJkQ29udGV4dChtYXliZUNhbnZhcywgeyBhbHBoYTogdHJ1ZSB9LCAoY2FudmFzLCBjdHgpID0+IHtcbiAgICAvLyBJZiB0aGVyZSdzIGFueXRoaW5nIHRvIGRyYXcsIHRoZW4gd2UnbGwgZmlyc3QgY2xlYXIgdGhlIGNhbnZhcyB3aXRoXG4gICAgLy8gYSB0cmFuc3BhcmVudCBncmV5IGJhY2tncm91bmRcbiAgICBpZiAoZHJhd0NvbW1hbmRzLmxlbmd0aCkge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuMjUpJztcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIGRyYXdDb21tYW5kcy5mb3JFYWNoKGNvbW1hbmQgPT4ge1xuICAgICAgZHJhd1JlY3QoY29tbWFuZCwgY3R4LCBzdHJva2VDb2xvcik7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBTY3JlZW5zaG90RWRpdG9yRmFjdG9yeSh7XG4gIGgsXG4gIGhvb2tzLFxuICBvdXRwdXRCdWZmZXIsXG4gIGRpYWxvZyxcbiAgb3B0aW9ucyxcbn0pIHtcbiAgY29uc3QgdXNlVGFrZVNjcmVlbnNob3QgPSB1c2VUYWtlU2NyZWVuc2hvdEZhY3RvcnkoeyBob29rcyB9KTtcbiAgY29uc3QgVG9vbGJhciA9IFRvb2xiYXJGYWN0b3J5KHsgaCB9KTtcbiAgY29uc3QgSWNvbkNsb3NlID0gSWNvbkNsb3NlRmFjdG9yeSh7IGggfSk7XG4gIGNvbnN0IGVkaXRvclN0eWxlSW5uZXJUZXh0ID0geyBfX2h0bWw6IGNyZWF0ZVNjcmVlbnNob3RJbnB1dFN0eWxlcyhvcHRpb25zLnN0eWxlTm9uY2UpLmlubmVyVGV4dCB9O1xuXG4gIGNvbnN0IGRpYWxvZ1N0eWxlID0gKGRpYWxvZy5lbCApLnN0eWxlO1xuXG4gIGNvbnN0IFNjcmVlbnNob3RFZGl0b3IgPSAoeyBzY3JlZW5zaG90IH0pID0+IHtcbiAgICAvLyBEYXRhIGZvciByZW5kZXJpbmc6XG4gICAgY29uc3QgW2FjdGlvbiwgc2V0QWN0aW9uXSA9IGhvb2tzLnVzZVN0YXRlKCdoaWdobGlnaHQnKTtcbiAgICBjb25zdCBbZHJhd0NvbW1hbmRzLCBzZXREcmF3Q29tbWFuZHNdID0gaG9va3MudXNlU3RhdGUoW10pO1xuXG4gICAgLy8gUmVmcyB0byBvdXIgaHRtbCBjb21wb25lbnRzOlxuICAgIGNvbnN0IG1lYXN1cmVtZW50UmVmID0gaG9va3MudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGJhY2tncm91bmRSZWYgPSBob29rcy51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgZm9yZWdyb3VuZFJlZiA9IGhvb2tzLnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBtb3VzZVJlZiA9IGhvb2tzLnVzZVJlZihudWxsKTtcblxuICAgIC8vIFRoZSBzaXplIG9mIG91ciB3aW5kb3csIHJlbGF0aXZlIHRvIHRoZSBpbWFnZVNvdXJjZVxuICAgIGNvbnN0IFtzY2FsZUZhY3Rvciwgc2V0U2NhbGVGYWN0b3JdID0gaG9va3MudXNlU3RhdGUoMSk7XG5cbiAgICBjb25zdCBzdHJva2VDb2xvciA9IGhvb2tzLnVzZU1lbW8oKCkgPT4ge1xuICAgICAgY29uc3Qgc2VudHJ5RmVlZGJhY2sgPSBET0NVTUVOVC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmlkKTtcbiAgICAgIGlmICghc2VudHJ5RmVlZGJhY2spIHtcbiAgICAgICAgcmV0dXJuICd3aGl0ZSc7XG4gICAgICB9XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShzZW50cnlGZWVkYmFjayk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tYnV0dG9uLXByaW1hcnktYmFja2dyb3VuZCcpIHx8XG4gICAgICAgIGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1hY2NlbnQtYmFja2dyb3VuZCcpXG4gICAgICApO1xuICAgIH0sIFtvcHRpb25zLmlkXSk7XG5cbiAgICAvLyBUaGUgaW5pdGlhbCByZXNpemUsIHRvIG1lYXN1cmUgdGhlIGFyZWEgYW5kIHNldCB0aGUgY2hpbGRyZW4gdG8gdGhlIGNvcnJlY3Qgc2l6ZVxuICAgIGhvb2tzLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVtZW50RGl2ID0gbWVhc3VyZW1lbnRSZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFtZWFzdXJlbWVudERpdikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpdGgyZENvbnRleHQoc2NyZWVuc2hvdC5jYW52YXMsIHsgYWxwaGE6IGZhbHNlIH0sIGNhbnZhcyA9PiB7XG4gICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIG1lYXN1cmVtZW50RGl2LmNsaWVudFdpZHRoIC8gY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgbWVhc3VyZW1lbnREaXYuY2xpZW50SGVpZ2h0IC8gY2FudmFzLmhlaWdodCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldFNjYWxlRmFjdG9yKHNjYWxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRm9yIEZpcmVmb3gsIHRoZSBjYW52YXMgaXMgbm90IHlldCBtZWFzdXJlZCwgc28gd2UgbmVlZCB0byB3YWl0IGZvciBpdCB0byBnZXQgdGhlIGNvcnJlY3Qgc2l6ZVxuICAgICAgICBpZiAobWVhc3VyZW1lbnREaXYuY2xpZW50SGVpZ2h0ID09PSAwIHx8IG1lYXN1cmVtZW50RGl2LmNsaWVudFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgc2V0VGltZW91dChoYW5kbGVSZXNpemUsIDApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBoYW5kbGVSZXNpemUoKTtcbiAgICAgIFdJTkRPVy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgV0lORE9XLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICB9O1xuICAgIH0sIFtzY3JlZW5zaG90XSk7XG5cbiAgICAvLyBTZXQgdGhlIHNpemUgb2YgdGhlIGNhbnZhcyBlbGVtZW50IHRvIG1hdGNoIG91ciBzY3JlZW5zaG90XG4gICAgY29uc3Qgc2V0Q2FudmFzU2l6ZSA9IGhvb2tzLnVzZUNhbGxiYWNrKFxuICAgICAgKG1heWJlQ2FudmFzLCBzY2FsZSkgPT4ge1xuICAgICAgICB3aXRoMmRDb250ZXh0KG1heWJlQ2FudmFzLCB7IGFscGhhOiB0cnVlIH0sIChjYW52YXMsIGN0eCkgPT4ge1xuICAgICAgICAgIC8vIE11c3QgY2FsbCBgc2NhbGUoKWAgYmVmb3JlIHNldHRpbmcgYHdpZHRoYCAmIGBoZWlnaHRgXG4gICAgICAgICAgY3R4LnNjYWxlKHNjYWxlLCBzY2FsZSk7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gc2NyZWVuc2hvdC5jYW52YXMud2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IHNjcmVlbnNob3QuY2FudmFzLmhlaWdodDtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgW3NjcmVlbnNob3RdLFxuICAgICk7XG5cbiAgICAvLyBEcmF3IHRoZSBzY3JlZW5zaG90IGludG8gdGhlIGJhY2tncm91bmRcbiAgICBob29rcy51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgc2V0Q2FudmFzU2l6ZShiYWNrZ3JvdW5kUmVmLmN1cnJlbnQsIHNjcmVlbnNob3QuZHBpKTtcbiAgICAgIHBhaW50SW1hZ2UoYmFja2dyb3VuZFJlZi5jdXJyZW50LCBzY3JlZW5zaG90LmNhbnZhcyk7XG4gICAgfSwgW3NjcmVlbnNob3RdKTtcblxuICAgIC8vIERyYXcgdGhlIGNvbW1hbmRzIGludG8gdGhlIGZvcmVncm91bmRcbiAgICBob29rcy51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgc2V0Q2FudmFzU2l6ZShmb3JlZ3JvdW5kUmVmLmN1cnJlbnQsIHNjcmVlbnNob3QuZHBpKTtcbiAgICAgIHdpdGgyZENvbnRleHQoZm9yZWdyb3VuZFJlZi5jdXJyZW50LCB7IGFscGhhOiB0cnVlIH0sIChjYW52YXMsIGN0eCkgPT4ge1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB9KTtcbiAgICAgIHBhaW50Rm9yZWdyb3VuZChmb3JlZ3JvdW5kUmVmLmN1cnJlbnQsIHN0cm9rZUNvbG9yLCBkcmF3Q29tbWFuZHMpO1xuICAgIH0sIFtkcmF3Q29tbWFuZHMsIHN0cm9rZUNvbG9yXSk7XG5cbiAgICAvLyBEcmF3IGludG8gdGhlIG91dHB1dCBvdXRwdXRCdWZmZXJcbiAgICBob29rcy51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgc2V0Q2FudmFzU2l6ZShvdXRwdXRCdWZmZXIsIHNjcmVlbnNob3QuZHBpKTtcbiAgICAgIHBhaW50SW1hZ2Uob3V0cHV0QnVmZmVyLCBzY3JlZW5zaG90LmNhbnZhcyk7XG4gICAgICB3aXRoMmRDb250ZXh0KERPQ1VNRU5ULmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLCB7IGFscGhhOiB0cnVlIH0sIChmb3JlZ3JvdW5kLCBjdHgpID0+IHtcbiAgICAgICAgY3R4LnNjYWxlKHNjcmVlbnNob3QuZHBpLCBzY3JlZW5zaG90LmRwaSk7IC8vIFRoZSBzY2FsZSBuZWVkcyB0byBiZSBzZXQgYmVmb3JlIHdlIHNldCB0aGUgd2lkdGgvaGVpZ2h0IGFuZCBwYWludFxuICAgICAgICBmb3JlZ3JvdW5kLndpZHRoID0gc2NyZWVuc2hvdC5jYW52YXMud2lkdGg7XG4gICAgICAgIGZvcmVncm91bmQuaGVpZ2h0ID0gc2NyZWVuc2hvdC5jYW52YXMuaGVpZ2h0O1xuICAgICAgICBwYWludEZvcmVncm91bmQoZm9yZWdyb3VuZCwgc3Ryb2tlQ29sb3IsIGRyYXdDb21tYW5kcyk7XG4gICAgICAgIHBhaW50SW1hZ2Uob3V0cHV0QnVmZmVyLCBmb3JlZ3JvdW5kKTtcbiAgICAgIH0pO1xuICAgIH0sIFtkcmF3Q29tbWFuZHMsIHNjcmVlbnNob3QsIHN0cm9rZUNvbG9yXSk7XG5cbiAgICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSAoZSkgPT4ge1xuICAgICAgaWYgKCFhY3Rpb24gfHwgIW1vdXNlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBib3VuZGluZ1JlY3QgPSBtb3VzZVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3Qgc3RhcnRpbmdQb2ludCA9IHtcbiAgICAgICAgdHlwZTogYWN0aW9uLFxuICAgICAgICB4OiBlLm9mZnNldFggLyBzY2FsZUZhY3RvcixcbiAgICAgICAgeTogZS5vZmZzZXRZIC8gc2NhbGVGYWN0b3J9O1xuXG4gICAgICBjb25zdCBnZXREcmF3Q29tbWFuZCA9IChzdGFydGluZ1BvaW50LCBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSAoZS5jbGllbnRYIC0gYm91bmRpbmdSZWN0LngpIC8gc2NhbGVGYWN0b3I7XG4gICAgICAgIGNvbnN0IHkgPSAoZS5jbGllbnRZIC0gYm91bmRpbmdSZWN0LnkpIC8gc2NhbGVGYWN0b3I7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogc3RhcnRpbmdQb2ludC50eXBlLFxuICAgICAgICAgIHg6IE1hdGgubWluKHN0YXJ0aW5nUG9pbnQueCwgeCksXG4gICAgICAgICAgeTogTWF0aC5taW4oc3RhcnRpbmdQb2ludC55LCB5KSxcbiAgICAgICAgICB3OiBNYXRoLmFicyh4IC0gc3RhcnRpbmdQb2ludC54KSxcbiAgICAgICAgICBoOiBNYXRoLmFicyh5IC0gc3RhcnRpbmdQb2ludC55KSxcbiAgICAgICAgfSA7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAoZSkgPT4ge1xuICAgICAgICB3aXRoMmRDb250ZXh0KGZvcmVncm91bmRSZWYuY3VycmVudCwgeyBhbHBoYTogdHJ1ZSB9LCAoY2FudmFzLCBjdHgpID0+IHtcbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwYWludEZvcmVncm91bmQoZm9yZWdyb3VuZFJlZi5jdXJyZW50LCBzdHJva2VDb2xvciwgWy4uLmRyYXdDb21tYW5kcywgZ2V0RHJhd0NvbW1hbmQoc3RhcnRpbmdQb2ludCwgZSldKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoZSkgPT4ge1xuICAgICAgICBjb25zdCBkcmF3Q29tbWFuZCA9IGdldERyYXdDb21tYW5kKHN0YXJ0aW5nUG9pbnQsIGUpO1xuXG4gICAgICAgIC8vIFByZXZlbnQganVzdCBjbGlja2luZyBvbnRvIHRoZSBjYW52YXMsIG1vdXNlIGhhcyB0byBtb3ZlIGF0IGxlYXN0IDEgcGl4ZWxcbiAgICAgICAgaWYgKGRyYXdDb21tYW5kLncgKiBzY2FsZUZhY3RvciA+PSAxICYmIGRyYXdDb21tYW5kLmggKiBzY2FsZUZhY3RvciA+PSAxKSB7XG4gICAgICAgICAgc2V0RHJhd0NvbW1hbmRzKHByZXYgPT4gWy4uLnByZXYsIGRyYXdDb21tYW5kXSk7XG4gICAgICAgIH1cbiAgICAgICAgRE9DVU1FTlQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgICAgRE9DVU1FTlQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApO1xuICAgICAgfTtcblxuICAgICAgRE9DVU1FTlQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgIERPQ1VNRU5ULmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGVsZXRlUmVjdCA9IGhvb2tzLnVzZUNhbGxiYWNrKChpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgc2V0RHJhd0NvbW1hbmRzKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRSZWN0cyA9IFsuLi5wcmV2XTtcbiAgICAgICAgICB1cGRhdGVkUmVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZFJlY3RzO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHtcbiAgICAgIHdpZHRoOiBgJHtzY3JlZW5zaG90LmNhbnZhcy53aWR0aCAqIHNjYWxlRmFjdG9yfXB4YCxcbiAgICAgIGhlaWdodDogYCR7c2NyZWVuc2hvdC5jYW52YXMuaGVpZ2h0ICogc2NhbGVGYWN0b3J9cHhgLFxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTdG9wUHJvcGFnYXRpb24gPSAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIGgoJ2RpdicsIHsgY2xhc3M6IFwiZWRpdG9yXCIsfVxuICAgICAgICAsIGgoJ3N0eWxlJywgeyBub25jZTogb3B0aW9ucy5zdHlsZU5vbmNlLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogZWRpdG9yU3R5bGVJbm5lclRleHQsfSApXG4gICAgICAgICwgaCgnZGl2JywgeyBjbGFzczogXCJlZGl0b3JfX2ltYWdlLWNvbnRhaW5lclwiLH1cbiAgICAgICAgICAsIGgoJ2RpdicsIHsgY2xhc3M6IFwiZWRpdG9yX19jYW52YXMtY29udGFpbmVyXCIsIHJlZjogbWVhc3VyZW1lbnRSZWYsfVxuICAgICAgICAgICAgLCBoKCdjYW52YXMnLCB7IHJlZjogYmFja2dyb3VuZFJlZiwgaWQ6IFwiYmFja2dyb3VuZFwiLCBzdHlsZTogZGltZW5zaW9ucyx9IClcbiAgICAgICAgICAgICwgaCgnY2FudmFzJywgeyByZWY6IGZvcmVncm91bmRSZWYsIGlkOiBcImZvcmVncm91bmRcIiwgc3R5bGU6IGRpbWVuc2lvbnMsfSApXG4gICAgICAgICAgICAsIGgoJ2RpdicsIHsgcmVmOiBtb3VzZVJlZiwgb25Nb3VzZURvd246IGhhbmRsZU1vdXNlRG93biwgc3R5bGU6IGRpbWVuc2lvbnMsfVxuICAgICAgICAgICAgICAsIGRyYXdDb21tYW5kcy5tYXAoKHJlY3QsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgaCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImVkaXRvcl9fcmVjdFwiLFxuICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBgJHtyZWN0LnkgKiBzY2FsZUZhY3Rvcn1weGAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGAke3JlY3QueCAqIHNjYWxlRmFjdG9yfXB4YCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAke3JlY3QudyAqIHNjYWxlRmFjdG9yfXB4YCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtyZWN0LmggKiBzY2FsZUZhY3Rvcn1weGAsXG4gICAgICAgICAgICAgICAgICB9LH1cblxuICAgICAgICAgICAgICAgICAgLCBoKCdidXR0b24nLCB7XG4gICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogb3B0aW9ucy5yZW1vdmVIaWdobGlnaHRUZXh0LFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBkZWxldGVSZWN0KGluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd246IGhhbmRsZVN0b3BQcm9wYWdhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZVVwOiBoYW5kbGVTdG9wUHJvcGFnYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsfVxuXG4gICAgICAgICAgICAgICAgICAgICwgaChJY29uQ2xvc2UsIG51bGwgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgLCBoKFRvb2xiYXIsIHsgb3B0aW9uczogb3B0aW9ucywgYWN0aW9uOiBhY3Rpb24sIHNldEFjdGlvbjogc2V0QWN0aW9uLH0gKVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIFdyYXBwZXIoeyBvbkVycm9yIH0pIHtcbiAgICBjb25zdCBbc2NyZWVuc2hvdCwgc2V0U2NyZWVuc2hvdF0gPSBob29rcy51c2VTdGF0ZSgpO1xuXG4gICAgdXNlVGFrZVNjcmVlbnNob3Qoe1xuICAgICAgb25CZWZvcmVTY3JlZW5zaG90OiBob29rcy51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGRpYWxvZ1N0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9LCBbXSksXG4gICAgICBvblNjcmVlbnNob3Q6IGhvb2tzLnVzZUNhbGxiYWNrKChzY3JlZW5zaG90VmlkZW8sIGRwaSkgPT4ge1xuICAgICAgICAvLyBTdGFzaCB0aGUgb3JpZ2luYWwgc2NyZWVuc2hvdCBpbWFnZSBzbyB3ZSBjYW4gKHJlKWRyYXcgaXQgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgd2l0aDJkQ29udGV4dChET0NVTUVOVC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSwgeyBhbHBoYTogZmFsc2UgfSwgKGNhbnZhcywgY3R4KSA9PiB7XG4gICAgICAgICAgY3R4LnNjYWxlKGRwaSwgZHBpKTsgLy8gVGhlIHNjYWxlIG5lZWRzIHRvIGJlIHNldCBiZWZvcmUgd2Ugc2V0IHRoZSB3aWR0aC9oZWlnaHQgYW5kIHBhaW50XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gc2NyZWVuc2hvdFZpZGVvLnZpZGVvV2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IHNjcmVlbnNob3RWaWRlby52aWRlb0hlaWdodDtcbiAgICAgICAgICBjdHguZHJhd0ltYWdlKHNjcmVlbnNob3RWaWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICAgIHNldFNjcmVlbnNob3QoeyBjYW52YXMsIGRwaSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhlIG91dHB1dCBidWZmZXIsIHdlIG9ubHkgbmVlZCB0byBzZXQgdGhlIHdpZHRoL2hlaWdodCBvbiB0aGlzIG9uY2UsIGl0IHN0YXlzIHRoZSBzYW1lIGZvcmV2ZXJcbiAgICAgICAgb3V0cHV0QnVmZmVyLndpZHRoID0gc2NyZWVuc2hvdFZpZGVvLnZpZGVvV2lkdGg7XG4gICAgICAgIG91dHB1dEJ1ZmZlci5oZWlnaHQgPSBzY3JlZW5zaG90VmlkZW8udmlkZW9IZWlnaHQ7XG4gICAgICB9LCBbXSksXG4gICAgICBvbkFmdGVyU2NyZWVuc2hvdDogaG9va3MudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBkaWFsb2dTdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH0sIFtdKSxcbiAgICAgIG9uRXJyb3I6IGhvb2tzLnVzZUNhbGxiYWNrKGVycm9yID0+IHtcbiAgICAgICAgZGlhbG9nU3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgfSwgW10pLFxuICAgIH0pO1xuXG4gICAgaWYgKHNjcmVlbnNob3QpIHtcbiAgICAgIHJldHVybiBoKFNjcmVlbnNob3RFZGl0b3IsIHsgc2NyZWVuc2hvdDogc2NyZWVuc2hvdCx9ICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGgoJ2RpdicsIG51bGwgKTtcbiAgfTtcbn1cblxuY29uc3QgZmVlZGJhY2tTY3JlZW5zaG90SW50ZWdyYXRpb24gPSAoKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIG5hbWU6ICdGZWVkYmFja1NjcmVlbnNob3QnLFxuICAgIHNldHVwT25jZSgpIHt9LFxuICAgIGNyZWF0ZUlucHV0OiAoeyBoLCBob29rcywgZGlhbG9nLCBvcHRpb25zIH0pID0+IHtcbiAgICAgIGNvbnN0IG91dHB1dEJ1ZmZlciA9IERPQ1VNRU5ULmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbnB1dDogU2NyZWVuc2hvdEVkaXRvckZhY3Rvcnkoe1xuICAgICAgICAgIGg6IGggLFxuICAgICAgICAgIGhvb2tzOiBob29rcyAsXG4gICAgICAgICAgb3V0cHV0QnVmZmVyLFxuICAgICAgICAgIGRpYWxvZyxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICB9KSAsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXG4gICAgICAgIHZhbHVlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgb3V0cHV0QnVmZmVyLnRvQmxvYihyZXNvbHZlLCAnaW1hZ2UvcG5nJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpO1xuICAgICAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IHtcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgZmlsZW5hbWU6ICdzY3JlZW5zaG90LnBuZycsXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vcG5nJyxcbiAgICAgICAgICAgICAgLy8gYXR0YWNobWVudFR5cGU/OiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG4gIH07XG59KSA7XG5cbmV4cG9ydCB7IGJ1aWxkRmVlZGJhY2tJbnRlZ3JhdGlvbiwgZmVlZGJhY2tNb2RhbEludGVncmF0aW9uLCBmZWVkYmFja1NjcmVlbnNob3RJbnRlZ3JhdGlvbiwgZ2V0RmVlZGJhY2ssIHNlbmRGZWVkYmFjayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@sentry-internal+feedback@10.25.0/node_modules/@sentry-internal/feedback/build/npm/esm/index.js\n");

/***/ })

};
;